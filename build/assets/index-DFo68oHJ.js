const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CbGO94Y-.js","assets/vendor-FsvWVpbx.js"])))=>i.map(i=>d[i]);
var kl=Object.defineProperty;var Xa=R=>{throw TypeError(R)};var Pl=(R,w,_)=>w in R?kl(R,w,{enumerable:!0,configurable:!0,writable:!0,value:_}):R[w]=_;var on=(R,w,_)=>Pl(R,typeof w!="symbol"?w+"":w,_),Ui=(R,w,_)=>w.has(R)||Xa("Cannot "+_);var G=(R,w,_)=>(Ui(R,w,"read from private field"),_?_.call(R):w.get(R)),Ye=(R,w,_)=>w.has(R)?Xa("Cannot add the same private member more than once"):w instanceof WeakSet?w.add(R):w.set(R,_),Ge=(R,w,_,A)=>(Ui(R,w,"write to private field"),A?A.call(R,_):w.set(R,_),_),Ve=(R,w,_)=>(Ui(R,w,"access private method"),_);var ir=(R,w,_,A)=>({set _($){Ge(R,w,$,_)},get _(){return G(R,w,A)}});import{c as createCollection,a as createContextScope$1,u as useComposedRefs,j as jsxRuntimeExports,B as Branch,P as Primitive,V as VisuallyHidden,b as useControllableState,d as Presence,e as useCallbackRef,f as composeEventHandlers,R as Root$4,g as Portal,h as useLayoutEffect2,i as dispatchDiscreteCustomEvent,k as createPopperScope,A as Anchor,D as DismissableLayer,C as Content$2,S as Slottable,l as Root$5,m as Arrow,n as Slot,O as Overlay,o as Content$3,p as Close$1,T as Title$1,q as Description$1,r as Portal$1,s as Root$6,t as Trigger$2,v as Trigger$3,I as Icon$1,w as ScrollUpButton,x as ScrollDownButton,y as Portal$2,z as Content2$2,E as Viewport$1,L as Label$2,F as Item$2,G as ItemIndicator,H as ItemText,J as Separator$2,K as Root2$3,M as Value,N as useId,Q as useDirection,U as Root$7,W as Thumb}from"./ui-NM-Y9MZv.js";import{a as reactDomExports,r as reactExports,R as React,G as Gt,b as React$1,g as getAugmentedNamespace,c as commonjsGlobal}from"./vendor-FsvWVpbx.js";(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))A($);new MutationObserver($=>{for(const O of $)if(O.type==="childList")for(const B of O.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&A(B)}).observe(document,{childList:!0,subtree:!0});function _($){const O={};return $.integrity&&(O.integrity=$.integrity),$.referrerPolicy&&(O.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?O.credentials="include":$.crossOrigin==="anonymous"?O.credentials="omit":O.credentials="same-origin",O}function A($){if($.ep)return;$.ep=!0;const O=_($);fetch($.href,O)}})();var client={},m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=R=>{if(toastTimeouts.has(R))return;const w=setTimeout(()=>{toastTimeouts.delete(R),dispatch({type:"REMOVE_TOAST",toastId:R})},TOAST_REMOVE_DELAY);toastTimeouts.set(R,w)},reducer=(R,w)=>{switch(w.type){case"ADD_TOAST":return{...R,toasts:[w.toast,...R.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...R,toasts:R.toasts.map(_=>_.id===w.toast.id?{..._,...w.toast}:_)};case"DISMISS_TOAST":{const{toastId:_}=w;return _?addToRemoveQueue(_):R.toasts.forEach(A=>{addToRemoveQueue(A.id)}),{...R,toasts:R.toasts.map(A=>A.id===_||_===void 0?{...A,open:!1}:A)}}case"REMOVE_TOAST":return w.toastId===void 0?{...R,toasts:[]}:{...R,toasts:R.toasts.filter(_=>_.id!==w.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(R){memoryState=reducer(memoryState,R),listeners.forEach(w=>{w(memoryState)})}function toast({...R}){const w=genId(),_=$=>dispatch({type:"UPDATE_TOAST",toast:{...$,id:w}}),A=()=>dispatch({type:"DISMISS_TOAST",toastId:w});return dispatch({type:"ADD_TOAST",toast:{...R,id:w,open:!0,onOpenChange:$=>{$||A()}}}),{id:w,dismiss:A,update:_}}function useToast(){const[R,w]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(w),()=>{const _=listeners.indexOf(w);_>-1&&listeners.splice(_,1)}),[R]),{...R,toast,dismiss:_=>dispatch({type:"DISMISS_TOAST",toastId:_})}}var PROVIDER_NAME$1="ToastProvider",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope$1("Toast",[createCollectionScope$2]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME$1),ToastProvider$1=R=>{const{__scopeToast:w,label:_="Notification",duration:A=5e3,swipeDirection:$="right",swipeThreshold:O=50,children:B}=R,[q,H]=reactExports.useState(null),[W,V]=reactExports.useState(0),K=reactExports.useRef(!1),Y=reactExports.useRef(!1);return _.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME$1}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection$2.Provider,{scope:w,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:w,label:_,duration:A,swipeDirection:$,swipeThreshold:O,toastCount:W,viewport:q,onViewportChange:H,onToastAdd:reactExports.useCallback(()=>V(re=>re+1),[]),onToastRemove:reactExports.useCallback(()=>V(re=>re-1),[]),isFocusedToastEscapeKeyDownRef:K,isClosePausedRef:Y,children:B})})};ToastProvider$1.displayName=PROVIDER_NAME$1;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((R,w)=>{const{__scopeToast:_,hotkey:A=VIEWPORT_DEFAULT_HOTKEY,label:$="Notifications ({hotkey})",...O}=R,B=useToastProviderContext(VIEWPORT_NAME,_),q=useCollection$2(_),H=reactExports.useRef(null),W=reactExports.useRef(null),V=reactExports.useRef(null),K=reactExports.useRef(null),Y=useComposedRefs(w,K,B.onViewportChange),re=A.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=B.toastCount>0;reactExports.useEffect(()=>{const J=ce=>{var Ee;A.length!==0&&A.every(ge=>ce[ge]||ce.code===ge)&&((Ee=K.current)==null||Ee.focus())};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[A]),reactExports.useEffect(()=>{const J=H.current,ce=K.current;if(Q&&J&&ce){const ue=()=>{if(!B.isClosePausedRef.current){const ve=new CustomEvent(VIEWPORT_PAUSE);ce.dispatchEvent(ve),B.isClosePausedRef.current=!0}},Ee=()=>{if(B.isClosePausedRef.current){const ve=new CustomEvent(VIEWPORT_RESUME);ce.dispatchEvent(ve),B.isClosePausedRef.current=!1}},ge=ve=>{!J.contains(ve.relatedTarget)&&Ee()},le=()=>{J.contains(document.activeElement)||Ee()};return J.addEventListener("focusin",ue),J.addEventListener("focusout",ge),J.addEventListener("pointermove",ue),J.addEventListener("pointerleave",le),window.addEventListener("blur",ue),window.addEventListener("focus",Ee),()=>{J.removeEventListener("focusin",ue),J.removeEventListener("focusout",ge),J.removeEventListener("pointermove",ue),J.removeEventListener("pointerleave",le),window.removeEventListener("blur",ue),window.removeEventListener("focus",Ee)}}},[Q,B.isClosePausedRef]);const ie=reactExports.useCallback(({tabbingDirection:J})=>{const ue=q().map(Ee=>{const ge=Ee.ref.current,le=[ge,...getTabbableCandidates(ge)];return J==="forwards"?le:le.reverse()});return(J==="forwards"?ue.reverse():ue).flat()},[q]);return reactExports.useEffect(()=>{const J=K.current;if(J){const ce=ue=>{var le,ve,he;const Ee=ue.altKey||ue.ctrlKey||ue.metaKey;if(ue.key==="Tab"&&!Ee){const fe=document.activeElement,be=ue.shiftKey;if(ue.target===J&&be){(le=W.current)==null||le.focus();return}const we=ie({tabbingDirection:be?"backwards":"forwards"}),Me=we.findIndex(Pe=>Pe===fe);focusFirst$1(we.slice(Me+1))?ue.preventDefault():be?(ve=W.current)==null||ve.focus():(he=V.current)==null||he.focus()}};return J.addEventListener("keydown",ce),()=>J.removeEventListener("keydown",ce)}},[q,ie]),jsxRuntimeExports.jsxs(Branch,{ref:H,role:"region","aria-label":$.replace("{hotkey}",re),tabIndex:-1,style:{pointerEvents:Q?void 0:"none"},children:[Q&&jsxRuntimeExports.jsx(FocusProxy,{ref:W,onFocusFromOutsideViewport:()=>{const J=ie({tabbingDirection:"forwards"});focusFirst$1(J)}}),jsxRuntimeExports.jsx(Collection$2.Slot,{scope:_,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...O,ref:Y})}),Q&&jsxRuntimeExports.jsx(FocusProxy,{ref:V,onFocusFromOutsideViewport:()=>{const J=ie({tabbingDirection:"backwards"});focusFirst$1(J)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((R,w)=>{const{__scopeToast:_,onFocusFromOutsideViewport:A,...$}=R,O=useToastProviderContext(FOCUS_PROXY_NAME,_);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...$,ref:w,style:{position:"fixed"},onFocus:B=>{var W;const q=B.relatedTarget;!((W=O.viewport)!=null&&W.contains(q))&&A()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((R,w)=>{const{forceMount:_,open:A,defaultOpen:$,onOpenChange:O,...B}=R,[q=!0,H]=useControllableState({prop:A,defaultProp:$,onChange:O});return jsxRuntimeExports.jsx(Presence,{present:_||q,children:jsxRuntimeExports.jsx(ToastImpl,{open:q,...B,ref:w,onClose:()=>H(!1),onPause:useCallbackRef(R.onPause),onResume:useCallbackRef(R.onResume),onSwipeStart:composeEventHandlers(R.onSwipeStart,W=>{W.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(R.onSwipeMove,W=>{const{x:V,y:K}=W.detail.delta;W.currentTarget.setAttribute("data-swipe","move"),W.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${V}px`),W.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${K}px`)}),onSwipeCancel:composeEventHandlers(R.onSwipeCancel,W=>{W.currentTarget.setAttribute("data-swipe","cancel"),W.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),W.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),W.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),W.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(R.onSwipeEnd,W=>{const{x:V,y:K}=W.detail.delta;W.currentTarget.setAttribute("data-swipe","end"),W.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),W.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),W.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${V}px`),W.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${K}px`),H(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((R,w)=>{const{__scopeToast:_,type:A="foreground",duration:$,open:O,onClose:B,onEscapeKeyDown:q,onPause:H,onResume:W,onSwipeStart:V,onSwipeMove:K,onSwipeCancel:Y,onSwipeEnd:re,...Q}=R,ie=useToastProviderContext(TOAST_NAME,_),[J,ce]=reactExports.useState(null),ue=useComposedRefs(w,Pe=>ce(Pe)),Ee=reactExports.useRef(null),ge=reactExports.useRef(null),le=$||ie.duration,ve=reactExports.useRef(0),he=reactExports.useRef(le),fe=reactExports.useRef(0),{onToastAdd:be,onToastRemove:Ae}=ie,xe=useCallbackRef(()=>{var Se;(J==null?void 0:J.contains(document.activeElement))&&((Se=ie.viewport)==null||Se.focus()),B()}),we=reactExports.useCallback(Pe=>{!Pe||Pe===1/0||(window.clearTimeout(fe.current),ve.current=new Date().getTime(),fe.current=window.setTimeout(xe,Pe))},[xe]);reactExports.useEffect(()=>{const Pe=ie.viewport;if(Pe){const Se=()=>{we(he.current),W==null||W()},Le=()=>{const $e=new Date().getTime()-ve.current;he.current=he.current-$e,window.clearTimeout(fe.current),H==null||H()};return Pe.addEventListener(VIEWPORT_PAUSE,Le),Pe.addEventListener(VIEWPORT_RESUME,Se),()=>{Pe.removeEventListener(VIEWPORT_PAUSE,Le),Pe.removeEventListener(VIEWPORT_RESUME,Se)}}},[ie.viewport,le,H,W,we]),reactExports.useEffect(()=>{O&&!ie.isClosePausedRef.current&&we(le)},[O,le,ie.isClosePausedRef,we]),reactExports.useEffect(()=>(be(),()=>Ae()),[be,Ae]);const Me=reactExports.useMemo(()=>J?getAnnounceTextContent(J):null,[J]);return ie.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Me&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:_,role:"status","aria-live":A==="foreground"?"assertive":"polite","aria-atomic":!0,children:Me}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:_,onClose:xe,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:_,children:jsxRuntimeExports.jsx(Root$4,{asChild:!0,onEscapeKeyDown:composeEventHandlers(q,()=>{ie.isFocusedToastEscapeKeyDownRef.current||xe(),ie.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":O?"open":"closed","data-swipe-direction":ie.swipeDirection,...Q,ref:ue,style:{userSelect:"none",touchAction:"none",...R.style},onKeyDown:composeEventHandlers(R.onKeyDown,Pe=>{Pe.key==="Escape"&&(q==null||q(Pe.nativeEvent),Pe.nativeEvent.defaultPrevented||(ie.isFocusedToastEscapeKeyDownRef.current=!0,xe()))}),onPointerDown:composeEventHandlers(R.onPointerDown,Pe=>{Pe.button===0&&(Ee.current={x:Pe.clientX,y:Pe.clientY})}),onPointerMove:composeEventHandlers(R.onPointerMove,Pe=>{if(!Ee.current)return;const Se=Pe.clientX-Ee.current.x,Le=Pe.clientY-Ee.current.y,$e=!!ge.current,He=["left","right"].includes(ie.swipeDirection),je=["left","up"].includes(ie.swipeDirection)?Math.min:Math.max,De=He?je(0,Se):0,qe=He?0:je(0,Le),Ce=Pe.pointerType==="touch"?10:2,de={x:De,y:qe},me={originalEvent:Pe,delta:de};$e?(ge.current=de,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,K,me,{discrete:!1})):isDeltaInDirection(de,ie.swipeDirection,Ce)?(ge.current=de,handleAndDispatchCustomEvent(TOAST_SWIPE_START,V,me,{discrete:!1}),Pe.target.setPointerCapture(Pe.pointerId)):(Math.abs(Se)>Ce||Math.abs(Le)>Ce)&&(Ee.current=null)}),onPointerUp:composeEventHandlers(R.onPointerUp,Pe=>{const Se=ge.current,Le=Pe.target;if(Le.hasPointerCapture(Pe.pointerId)&&Le.releasePointerCapture(Pe.pointerId),ge.current=null,Ee.current=null,Se){const $e=Pe.currentTarget,He={originalEvent:Pe,delta:Se};isDeltaInDirection(Se,ie.swipeDirection,ie.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,re,He,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,Y,He,{discrete:!0}),$e.addEventListener("click",je=>je.preventDefault(),{once:!0})}})})})}),ie.viewport)})]}):null}),ToastAnnounce=R=>{const{__scopeToast:w,children:_,...A}=R,$=useToastProviderContext(TOAST_NAME,w),[O,B]=reactExports.useState(!1),[q,H]=reactExports.useState(!1);return useNextFrame(()=>B(!0)),reactExports.useEffect(()=>{const W=window.setTimeout(()=>H(!0),1e3);return()=>window.clearTimeout(W)},[]),q?null:jsxRuntimeExports.jsx(Portal,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...A,children:O&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$.label," ",_]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((R,w)=>{const{__scopeToast:_,...A}=R;return jsxRuntimeExports.jsx(Primitive.div,{...A,ref:w})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((R,w)=>{const{__scopeToast:_,...A}=R;return jsxRuntimeExports.jsx(Primitive.div,{...A,ref:w})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((R,w)=>{const{altText:_,...A}=R;return _.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:_,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...A,ref:w})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((R,w)=>{const{__scopeToast:_,...A}=R,$=useToastInteractiveContext(CLOSE_NAME,_);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...A,ref:w,onClick:composeEventHandlers(R.onClick,$.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((R,w)=>{const{__scopeToast:_,altText:A,...$}=R;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":A||void 0,...$,ref:w})});function getAnnounceTextContent(R){const w=[];return Array.from(R.childNodes).forEach(A=>{if(A.nodeType===A.TEXT_NODE&&A.textContent&&w.push(A.textContent),isHTMLElement(A)){const $=A.ariaHidden||A.hidden||A.style.display==="none",O=A.dataset.radixToastAnnounceExclude==="";if(!$)if(O){const B=A.dataset.radixToastAnnounceAlt;B&&w.push(B)}else w.push(...getAnnounceTextContent(A))}}),w}function handleAndDispatchCustomEvent(R,w,_,{discrete:A}){const $=_.originalEvent.currentTarget,O=new CustomEvent(R,{bubbles:!0,cancelable:!0,detail:_});w&&$.addEventListener(R,w,{once:!0}),A?dispatchDiscreteCustomEvent($,O):$.dispatchEvent(O)}var isDeltaInDirection=(R,w,_=0)=>{const A=Math.abs(R.x),$=Math.abs(R.y),O=A>$;return w==="left"||w==="right"?O&&A>_:!O&&$>_};function useNextFrame(R=()=>{}){const w=useCallbackRef(R);useLayoutEffect2(()=>{let _=0,A=0;return _=window.requestAnimationFrame(()=>A=window.requestAnimationFrame(w)),()=>{window.cancelAnimationFrame(_),window.cancelAnimationFrame(A)}},[w])}function isHTMLElement(R){return R.nodeType===R.ELEMENT_NODE}function getTabbableCandidates(R){const w=[],_=document.createTreeWalker(R,NodeFilter.SHOW_ELEMENT,{acceptNode:A=>{const $=A.tagName==="INPUT"&&A.type==="hidden";return A.disabled||A.hidden||$?NodeFilter.FILTER_SKIP:A.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;_.nextNode();)w.push(_.currentNode);return w}function focusFirst$1(R){const w=document.activeElement;return R.some(_=>_===w?!0:(_.focus(),document.activeElement!==w))}var Provider$1=ToastProvider$1,Viewport=ToastViewport$1,Root2$2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action$1=ToastAction$1,Close=ToastClose$1;function r$3(R){var w,_,A="";if(typeof R=="string"||typeof R=="number")A+=R;else if(typeof R=="object")if(Array.isArray(R)){var $=R.length;for(w=0;w<$;w++)R[w]&&(_=r$3(R[w]))&&(A&&(A+=" "),A+=_)}else for(_ in R)R[_]&&(A&&(A+=" "),A+=_);return A}function clsx(){for(var R,w,_=0,A="",$=arguments.length;_<$;_++)(R=arguments[_])&&(w=r$3(R))&&(A&&(A+=" "),A+=w);return A}const falsyToString=R=>typeof R=="boolean"?`${R}`:R===0?"0":R,cx=clsx,cva=(R,w)=>_=>{var A;if((w==null?void 0:w.variants)==null)return cx(R,_==null?void 0:_.class,_==null?void 0:_.className);const{variants:$,defaultVariants:O}=w,B=Object.keys($).map(W=>{const V=_==null?void 0:_[W],K=O==null?void 0:O[W];if(V===null)return null;const Y=falsyToString(V)||falsyToString(K);return $[W][Y]}),q=_&&Object.entries(_).reduce((W,V)=>{let[K,Y]=V;return Y===void 0||(W[K]=Y),W},{}),H=w==null||(A=w.compoundVariants)===null||A===void 0?void 0:A.reduce((W,V)=>{let{class:K,className:Y,...re}=V;return Object.entries(re).every(Q=>{let[ie,J]=Q;return Array.isArray(J)?J.includes({...O,...q}[ie]):{...O,...q}[ie]===J})?[...W,K,Y]:W},[]);return cx(R,B,H,_==null?void 0:_.class,_==null?void 0:_.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=R=>R.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...R)=>R.filter((w,_,A)=>!!w&&w.trim()!==""&&A.indexOf(w)===_).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:R="currentColor",size:w=24,strokeWidth:_=2,absoluteStrokeWidth:A,className:$="",children:O,iconNode:B,...q},H)=>reactExports.createElement("svg",{ref:H,...defaultAttributes,width:w,height:w,stroke:R,strokeWidth:A?Number(_)*24/Number(w):_,className:mergeClasses("lucide",$),...q},[...B.map(([W,V])=>reactExports.createElement(W,V)),...Array.isArray(O)?O:[O]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(R,w)=>{const _=reactExports.forwardRef(({className:A,...$},O)=>reactExports.createElement(Icon,{ref:O,iconNode:w,className:mergeClasses(`lucide-${toKebabCase(R)}`,A),...$}));return _.displayName=`${R}`,_};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bookmark=createLucideIcon("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building2=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ellipsis=createLucideIcon("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Facebook=createLucideIcon("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileWarning=createLucideIcon("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Instagram=createLucideIcon("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize2=createLucideIcon("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Megaphone=createLucideIcon("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Newspaper=createLucideIcon("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Quote=createLucideIcon("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Share2=createLucideIcon("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=R=>{const w=createClassMap(R),{conflictingClassGroups:_,conflictingClassGroupModifiers:A}=R;return{getClassGroupId:B=>{const q=B.split(CLASS_PART_SEPARATOR);return q[0]===""&&q.length!==1&&q.shift(),getGroupRecursive(q,w)||getGroupIdForArbitraryProperty(B)},getConflictingClassGroupIds:(B,q)=>{const H=_[B]||[];return q&&A[B]?[...H,...A[B]]:H}}},getGroupRecursive=(R,w)=>{var B;if(R.length===0)return w.classGroupId;const _=R[0],A=w.nextPart.get(_),$=A?getGroupRecursive(R.slice(1),A):void 0;if($)return $;if(w.validators.length===0)return;const O=R.join(CLASS_PART_SEPARATOR);return(B=w.validators.find(({validator:q})=>q(O)))==null?void 0:B.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=R=>{if(arbitraryPropertyRegex.test(R)){const w=arbitraryPropertyRegex.exec(R)[1],_=w==null?void 0:w.substring(0,w.indexOf(":"));if(_)return"arbitrary.."+_}},createClassMap=R=>{const{theme:w,prefix:_}=R,A={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(R.classGroups),_).forEach(([O,B])=>{processClassesRecursively(B,A,O,w)}),A},processClassesRecursively=(R,w,_,A)=>{R.forEach($=>{if(typeof $=="string"){const O=$===""?w:getPart(w,$);O.classGroupId=_;return}if(typeof $=="function"){if(isThemeGetter($)){processClassesRecursively($(A),w,_,A);return}w.validators.push({validator:$,classGroupId:_});return}Object.entries($).forEach(([O,B])=>{processClassesRecursively(B,getPart(w,O),_,A)})})},getPart=(R,w)=>{let _=R;return w.split(CLASS_PART_SEPARATOR).forEach(A=>{_.nextPart.has(A)||_.nextPart.set(A,{nextPart:new Map,validators:[]}),_=_.nextPart.get(A)}),_},isThemeGetter=R=>R.isThemeGetter,getPrefixedClassGroupEntries=(R,w)=>w?R.map(([_,A])=>{const $=A.map(O=>typeof O=="string"?w+O:typeof O=="object"?Object.fromEntries(Object.entries(O).map(([B,q])=>[w+B,q])):O);return[_,$]}):R,createLruCache=R=>{if(R<1)return{get:()=>{},set:()=>{}};let w=0,_=new Map,A=new Map;const $=(O,B)=>{_.set(O,B),w++,w>R&&(w=0,A=_,_=new Map)};return{get(O){let B=_.get(O);if(B!==void 0)return B;if((B=A.get(O))!==void 0)return $(O,B),B},set(O,B){_.has(O)?_.set(O,B):$(O,B)}}},IMPORTANT_MODIFIER="!",createParseClassName=R=>{const{separator:w,experimentalParseClassName:_}=R,A=w.length===1,$=w[0],O=w.length,B=q=>{const H=[];let W=0,V=0,K;for(let J=0;J<q.length;J++){let ce=q[J];if(W===0){if(ce===$&&(A||q.slice(J,J+O)===w)){H.push(q.slice(V,J)),V=J+O;continue}if(ce==="/"){K=J;continue}}ce==="["?W++:ce==="]"&&W--}const Y=H.length===0?q:q.substring(V),re=Y.startsWith(IMPORTANT_MODIFIER),Q=re?Y.substring(1):Y,ie=K&&K>V?K-V:void 0;return{modifiers:H,hasImportantModifier:re,baseClassName:Q,maybePostfixModifierPosition:ie}};return _?q=>_({className:q,parseClassName:B}):B},sortModifiers=R=>{if(R.length<=1)return R;const w=[];let _=[];return R.forEach(A=>{A[0]==="["?(w.push(..._.sort(),A),_=[]):_.push(A)}),w.push(..._.sort()),w},createConfigUtils=R=>({cache:createLruCache(R.cacheSize),parseClassName:createParseClassName(R),...createClassGroupUtils(R)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(R,w)=>{const{parseClassName:_,getClassGroupId:A,getConflictingClassGroupIds:$}=w,O=[],B=R.trim().split(SPLIT_CLASSES_REGEX);let q="";for(let H=B.length-1;H>=0;H-=1){const W=B[H],{modifiers:V,hasImportantModifier:K,baseClassName:Y,maybePostfixModifierPosition:re}=_(W);let Q=!!re,ie=A(Q?Y.substring(0,re):Y);if(!ie){if(!Q){q=W+(q.length>0?" "+q:q);continue}if(ie=A(Y),!ie){q=W+(q.length>0?" "+q:q);continue}Q=!1}const J=sortModifiers(V).join(":"),ce=K?J+IMPORTANT_MODIFIER:J,ue=ce+ie;if(O.includes(ue))continue;O.push(ue);const Ee=$(ie,Q);for(let ge=0;ge<Ee.length;++ge){const le=Ee[ge];O.push(ce+le)}q=W+(q.length>0?" "+q:q)}return q};function twJoin(){let R=0,w,_,A="";for(;R<arguments.length;)(w=arguments[R++])&&(_=toValue(w))&&(A&&(A+=" "),A+=_);return A}const toValue=R=>{if(typeof R=="string")return R;let w,_="";for(let A=0;A<R.length;A++)R[A]&&(w=toValue(R[A]))&&(_&&(_+=" "),_+=w);return _};function createTailwindMerge(R,...w){let _,A,$,O=B;function B(H){const W=w.reduce((V,K)=>K(V),R());return _=createConfigUtils(W),A=_.cache.get,$=_.cache.set,O=q,q(H)}function q(H){const W=A(H);if(W)return W;const V=mergeClassList(H,_);return $(H,V),V}return function(){return O(twJoin.apply(null,arguments))}}const fromTheme=R=>{const w=_=>_[R]||[];return w.isThemeGetter=!0,w},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=R=>isNumber(R)||stringLengths.has(R)||fractionRegex.test(R),isArbitraryLength=R=>getIsArbitraryValue(R,"length",isLengthOnly),isNumber=R=>!!R&&!Number.isNaN(Number(R)),isArbitraryNumber=R=>getIsArbitraryValue(R,"number",isNumber),isInteger=R=>!!R&&Number.isInteger(Number(R)),isPercent=R=>R.endsWith("%")&&isNumber(R.slice(0,-1)),isArbitraryValue=R=>arbitraryValueRegex.test(R),isTshirtSize=R=>tshirtUnitRegex.test(R),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=R=>getIsArbitraryValue(R,sizeLabels,isNever),isArbitraryPosition=R=>getIsArbitraryValue(R,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=R=>getIsArbitraryValue(R,imageLabels,isImage),isArbitraryShadow=R=>getIsArbitraryValue(R,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(R,w,_)=>{const A=arbitraryValueRegex.exec(R);return A?A[1]?typeof w=="string"?A[1]===w:w.has(A[1]):_(A[2]):!1},isLengthOnly=R=>lengthUnitRegex.test(R)&&!colorFunctionRegex.test(R),isNever=()=>!1,isShadow=R=>shadowRegex.test(R),isImage=R=>imageRegex.test(R),getDefaultConfig=()=>{const R=fromTheme("colors"),w=fromTheme("spacing"),_=fromTheme("blur"),A=fromTheme("brightness"),$=fromTheme("borderColor"),O=fromTheme("borderRadius"),B=fromTheme("borderSpacing"),q=fromTheme("borderWidth"),H=fromTheme("contrast"),W=fromTheme("grayscale"),V=fromTheme("hueRotate"),K=fromTheme("invert"),Y=fromTheme("gap"),re=fromTheme("gradientColorStops"),Q=fromTheme("gradientColorStopPositions"),ie=fromTheme("inset"),J=fromTheme("margin"),ce=fromTheme("opacity"),ue=fromTheme("padding"),Ee=fromTheme("saturate"),ge=fromTheme("scale"),le=fromTheme("sepia"),ve=fromTheme("skew"),he=fromTheme("space"),fe=fromTheme("translate"),be=()=>["auto","contain","none"],Ae=()=>["auto","hidden","clip","visible","scroll"],xe=()=>["auto",isArbitraryValue,w],we=()=>[isArbitraryValue,w],Me=()=>["",isLength,isArbitraryLength],Pe=()=>["auto",isNumber,isArbitraryValue],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Le=()=>["solid","dashed","dotted","double","none"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],He=()=>["start","end","center","between","around","evenly","stretch"],je=()=>["","0",isArbitraryValue],De=()=>["auto","avoid","all","avoid-page","page","left","right","column"],qe=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:qe(),borderColor:[R],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:we(),borderWidth:Me(),contrast:qe(),grayscale:je(),hueRotate:qe(),invert:je(),gap:we(),gradientColorStops:[R],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:xe(),margin:xe(),opacity:qe(),padding:we(),saturate:qe(),scale:qe(),sepia:je(),skew:qe(),space:we(),translate:we()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":De()}],"break-before":[{"break-before":De()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),isArbitraryValue]}],overflow:[{overflow:Ae()}],"overflow-x":[{"overflow-x":Ae()}],"overflow-y":[{"overflow-y":Ae()}],overscroll:[{overscroll:be()}],"overscroll-x":[{"overscroll-x":be()}],"overscroll-y":[{"overscroll-y":be()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[ie]}],"inset-x":[{"inset-x":[ie]}],"inset-y":[{"inset-y":[ie]}],start:[{start:[ie]}],end:[{end:[ie]}],top:[{top:[ie]}],right:[{right:[ie]}],bottom:[{bottom:[ie]}],left:[{left:[ie]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:xe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:je()}],shrink:[{shrink:je()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Pe()}],"col-end":[{"col-end":Pe()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Pe()}],"row-end":[{"row-end":Pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[Y]}],"gap-x":[{"gap-x":[Y]}],"gap-y":[{"gap-y":[Y]}],"justify-content":[{justify:["normal",...He()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...He(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...He(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ue]}],px:[{px:[ue]}],py:[{py:[ue]}],ps:[{ps:[ue]}],pe:[{pe:[ue]}],pt:[{pt:[ue]}],pr:[{pr:[ue]}],pb:[{pb:[ue]}],pl:[{pl:[ue]}],m:[{m:[J]}],mx:[{mx:[J]}],my:[{my:[J]}],ms:[{ms:[J]}],me:[{me:[J]}],mt:[{mt:[J]}],mr:[{mr:[J]}],mb:[{mb:[J]}],ml:[{ml:[J]}],"space-x":[{"space-x":[he]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[he]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,w]}],"min-w":[{"min-w":[isArbitraryValue,w,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,w,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,w,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,w,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,w,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,w,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[R]}],"placeholder-opacity":[{"placeholder-opacity":[ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[R]}],"text-opacity":[{"text-opacity":[ce]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[R]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:we()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[ce]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[R]}],"gradient-from-pos":[{from:[Q]}],"gradient-via-pos":[{via:[Q]}],"gradient-to-pos":[{to:[Q]}],"gradient-from":[{from:[re]}],"gradient-via":[{via:[re]}],"gradient-to":[{to:[re]}],rounded:[{rounded:[O]}],"rounded-s":[{"rounded-s":[O]}],"rounded-e":[{"rounded-e":[O]}],"rounded-t":[{"rounded-t":[O]}],"rounded-r":[{"rounded-r":[O]}],"rounded-b":[{"rounded-b":[O]}],"rounded-l":[{"rounded-l":[O]}],"rounded-ss":[{"rounded-ss":[O]}],"rounded-se":[{"rounded-se":[O]}],"rounded-ee":[{"rounded-ee":[O]}],"rounded-es":[{"rounded-es":[O]}],"rounded-tl":[{"rounded-tl":[O]}],"rounded-tr":[{"rounded-tr":[O]}],"rounded-br":[{"rounded-br":[O]}],"rounded-bl":[{"rounded-bl":[O]}],"border-w":[{border:[q]}],"border-w-x":[{"border-x":[q]}],"border-w-y":[{"border-y":[q]}],"border-w-s":[{"border-s":[q]}],"border-w-e":[{"border-e":[q]}],"border-w-t":[{"border-t":[q]}],"border-w-r":[{"border-r":[q]}],"border-w-b":[{"border-b":[q]}],"border-w-l":[{"border-l":[q]}],"border-opacity":[{"border-opacity":[ce]}],"border-style":[{border:[...Le(),"hidden"]}],"divide-x":[{"divide-x":[q]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[q]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[ce]}],"divide-style":[{divide:Le()}],"border-color":[{border:[$]}],"border-color-x":[{"border-x":[$]}],"border-color-y":[{"border-y":[$]}],"border-color-s":[{"border-s":[$]}],"border-color-e":[{"border-e":[$]}],"border-color-t":[{"border-t":[$]}],"border-color-r":[{"border-r":[$]}],"border-color-b":[{"border-b":[$]}],"border-color-l":[{"border-l":[$]}],"divide-color":[{divide:[$]}],"outline-style":[{outline:["",...Le()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[R]}],"ring-w":[{ring:Me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[R]}],"ring-opacity":[{"ring-opacity":[ce]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[R]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[ce]}],"mix-blend":[{"mix-blend":[...$e(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$e()}],filter:[{filter:["","none"]}],blur:[{blur:[_]}],brightness:[{brightness:[A]}],contrast:[{contrast:[H]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[W]}],"hue-rotate":[{"hue-rotate":[V]}],invert:[{invert:[K]}],saturate:[{saturate:[Ee]}],sepia:[{sepia:[le]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[_]}],"backdrop-brightness":[{"backdrop-brightness":[A]}],"backdrop-contrast":[{"backdrop-contrast":[H]}],"backdrop-grayscale":[{"backdrop-grayscale":[W]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[V]}],"backdrop-invert":[{"backdrop-invert":[K]}],"backdrop-opacity":[{"backdrop-opacity":[ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ee]}],"backdrop-sepia":[{"backdrop-sepia":[le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[B]}],"border-spacing-x":[{"border-spacing-x":[B]}],"border-spacing-y":[{"border-spacing-y":[B]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:qe()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:qe()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ge]}],"scale-x":[{"scale-x":[ge]}],"scale-y":[{"scale-y":[ge]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[fe]}],"translate-y":[{"translate-y":[fe]}],"skew-x":[{"skew-x":[ve]}],"skew-y":[{"skew-y":[ve]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",R]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[R]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":we()}],"scroll-mx":[{"scroll-mx":we()}],"scroll-my":[{"scroll-my":we()}],"scroll-ms":[{"scroll-ms":we()}],"scroll-me":[{"scroll-me":we()}],"scroll-mt":[{"scroll-mt":we()}],"scroll-mr":[{"scroll-mr":we()}],"scroll-mb":[{"scroll-mb":we()}],"scroll-ml":[{"scroll-ml":we()}],"scroll-p":[{"scroll-p":we()}],"scroll-px":[{"scroll-px":we()}],"scroll-py":[{"scroll-py":we()}],"scroll-ps":[{"scroll-ps":we()}],"scroll-pe":[{"scroll-pe":we()}],"scroll-pt":[{"scroll-pt":we()}],"scroll-pr":[{"scroll-pr":we()}],"scroll-pb":[{"scroll-pb":we()}],"scroll-pl":[{"scroll-pl":we()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[R,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[R,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...R){return twMerge(clsx(R))}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Viewport,{ref:_,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",R),...w}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:R,variant:w,..._},A)=>jsxRuntimeExports.jsx(Root2$2,{ref:A,className:cn(toastVariants({variant:w}),R),..._}));Toast.displayName=Root2$2.displayName;const ToastAction=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Action$1,{ref:_,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",R),...w}));ToastAction.displayName=Action$1.displayName;const ToastClose=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Close,{ref:_,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",R),"toast-close":"",...w,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Title,{ref:_,className:cn("text-sm font-semibold",R),...w}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Description,{ref:_,className:cn("text-sm opacity-90",R),...w}));ToastDescription.displayName=Description.displayName;function Toaster$1(){const{toasts:R}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[R.map(function({id:w,title:_,description:A,action:$,...O}){return jsxRuntimeExports.jsxs(Toast,{...O,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[_&&jsxRuntimeExports.jsx(ToastTitle,{children:_}),A&&jsxRuntimeExports.jsx(ToastDescription,{children:A})]}),$,jsxRuntimeExports.jsx(ToastClose,{})]},w)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var P$1=["light","dark"],E$3="(prefers-color-scheme: dark)",L$1=reactExports.createContext(void 0),D$1={setTheme:R=>{},themes:[]},j$1=()=>{var R;return(R=reactExports.useContext(L$1))!=null?R:D$1};reactExports.memo(({forcedTheme:R,storageKey:w,attribute:_,enableSystem:A,enableColorScheme:$,defaultTheme:O,value:B,attrs:q,nonce:H})=>{let W=O==="system",V=_==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${q.map(Q=>`'${Q}'`).join(",")})`};`:`var d=document.documentElement,n='${_}',s='setAttribute';`,K=$?P$1.includes(O)&&O?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${O}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",Y=(Q,ie=!1,J=!0)=>{let ce=B?B[Q]:Q,ue=ie?Q+"|| ''":`'${ce}'`,Ee="";return $&&J&&!ie&&P$1.includes(Q)&&(Ee+=`d.style.colorScheme = '${Q}';`),_==="class"?ie||ce?Ee+=`c.add(${ue})`:Ee+="null":ce&&(Ee+=`d[s](n,${ue})`),Ee},re=R?`!function(){${V}${Y(R)}}()`:A?`!function(){try{${V}var e=localStorage.getItem('${w}');if('system'===e||(!e&&${W})){var t='${E$3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${Y("dark")}}else{${Y("light")}}}else if(e){${B?`var x=${JSON.stringify(B)};`:""}${Y(B?"x[e]":"e",!0)}}${W?"":"else{"+Y(O,!1,!1)+"}"}${K}}catch(e){}}()`:`!function(){try{${V}var e=localStorage.getItem('${w}');if(e){${B?`var x=${JSON.stringify(B)};`:""}${Y(B?"x[e]":"e",!0)}}else{${Y(O,!1,!1)};}${K}}catch(t){}}();`;return reactExports.createElement("script",{nonce:H,dangerouslySetInnerHTML:{__html:re}})});var Ct=R=>{switch(R){case"success":return $t;case"info":return _t;case"warning":return Wt;case"error":return Ut;default:return null}},Ft=Array(12).fill(0),It=({visible:R})=>React.createElement("div",{className:"sonner-loading-wrapper","data-visible":R},React.createElement("div",{className:"sonner-spinner"},Ft.map((w,_)=>React.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${_}`})))),$t=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wt=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_t=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ut=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dt=()=>{let[R,w]=React.useState(document.hidden);return React.useEffect(()=>{let _=()=>{w(document.hidden)};return document.addEventListener("visibilitychange",_),()=>window.removeEventListener("visibilitychange",_)},[]),R},ct=1,ut=class{constructor(){this.subscribe=R=>(this.subscribers.push(R),()=>{let w=this.subscribers.indexOf(R);this.subscribers.splice(w,1)}),this.publish=R=>{this.subscribers.forEach(w=>w(R))},this.addToast=R=>{this.publish(R),this.toasts=[...this.toasts,R]},this.create=R=>{var w;let{message:_,...A}=R,$=typeof(R==null?void 0:R.id)=="number"||((w=R.id)==null?void 0:w.length)>0?R.id:ct++,O=this.toasts.find(q=>q.id===$),B=R.dismissible===void 0?!0:R.dismissible;return O?this.toasts=this.toasts.map(q=>q.id===$?(this.publish({...q,...R,id:$,title:_}),{...q,...R,id:$,dismissible:B,title:_}):q):this.addToast({title:_,...A,dismissible:B,id:$}),$},this.dismiss=R=>(R||this.toasts.forEach(w=>{this.subscribers.forEach(_=>_({id:w.id,dismiss:!0}))}),this.subscribers.forEach(w=>w({id:R,dismiss:!0})),R),this.message=(R,w)=>this.create({...w,message:R}),this.error=(R,w)=>this.create({...w,message:R,type:"error"}),this.success=(R,w)=>this.create({...w,type:"success",message:R}),this.info=(R,w)=>this.create({...w,type:"info",message:R}),this.warning=(R,w)=>this.create({...w,type:"warning",message:R}),this.loading=(R,w)=>this.create({...w,type:"loading",message:R}),this.promise=(R,w)=>{if(!w)return;let _;w.loading!==void 0&&(_=this.create({...w,promise:R,type:"loading",message:w.loading,description:typeof w.description!="function"?w.description:void 0}));let A=R instanceof Promise?R:R(),$=_!==void 0;return A.then(async O=>{if(Ot(O)&&!O.ok){$=!1;let B=typeof w.error=="function"?await w.error(`HTTP error! status: ${O.status}`):w.error,q=typeof w.description=="function"?await w.description(`HTTP error! status: ${O.status}`):w.description;this.create({id:_,type:"error",message:B,description:q})}else if(w.success!==void 0){$=!1;let B=typeof w.success=="function"?await w.success(O):w.success,q=typeof w.description=="function"?await w.description(O):w.description;this.create({id:_,type:"success",message:B,description:q})}}).catch(async O=>{if(w.error!==void 0){$=!1;let B=typeof w.error=="function"?await w.error(O):w.error,q=typeof w.description=="function"?await w.description(O):w.description;this.create({id:_,type:"error",message:B,description:q})}}).finally(()=>{var O;$&&(this.dismiss(_),_=void 0),(O=w.finally)==null||O.call(w)}),_},this.custom=(R,w)=>{let _=(w==null?void 0:w.id)||ct++;return this.create({jsx:R(_),id:_,...w}),_},this.subscribers=[],this.toasts=[]}},v$2=new ut,Vt=(R,w)=>{let _=(w==null?void 0:w.id)||ct++;return v$2.addToast({title:R,...w,id:_}),_},Ot=R=>R&&typeof R=="object"&&"ok"in R&&typeof R.ok=="boolean"&&"status"in R&&typeof R.status=="number",Kt=Vt,Xt=()=>v$2.toasts,Jt=Object.assign(Kt,{success:v$2.success,info:v$2.info,warning:v$2.warning,error:v$2.error,custom:v$2.custom,message:v$2.message,promise:v$2.promise,dismiss:v$2.dismiss,loading:v$2.loading},{getHistory:Xt});function ft(R,{insertAt:w}={}){if(typeof document>"u")return;let _=document.head||document.getElementsByTagName("head")[0],A=document.createElement("style");A.type="text/css",w==="top"&&_.firstChild?_.insertBefore(A,_.firstChild):_.appendChild(A),A.styleSheet?A.styleSheet.cssText=R:A.appendChild(document.createTextNode(R))}ft(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function U(R){return R.label!==void 0}var qt=3,Qt="32px",Zt=4e3,te=356,ee=14,oe=20,ae=200;function ne(...R){return R.filter(Boolean).join(" ")}var se=R=>{var w,_,A,$,O,B,q,H,W,V;let{invert:K,toast:Y,unstyled:re,interacting:Q,setHeights:ie,visibleToasts:J,heights:ce,index:ue,toasts:Ee,expanded:ge,removeToast:le,defaultRichColors:ve,closeButton:he,style:fe,cancelButtonStyle:be,actionButtonStyle:Ae,className:xe="",descriptionClassName:we="",duration:Me,position:Pe,gap:Se,loadingIcon:Le,expandByDefault:$e,classNames:He,icons:je,closeButtonAriaLabel:De="Close toast",pauseWhenPageIsHidden:qe,cn:Ce}=R,[de,me]=React.useState(!1),[ye,Ne]=React.useState(!1),[Fe,Oe]=React.useState(!1),[Xe,rt]=React.useState(!1),[gt,xt]=React.useState(0),[Et,jt]=React.useState(0),At=React.useRef(null),nt=React.useRef(null),lt=ue===0,_e=ue+1<=J,ke=Y.type,Je=Y.dismissible!==!1,it=Y.className||"",mt=Y.descriptionClassName||"",Rt=React.useMemo(()=>ce.findIndex(Nt=>Nt.toastId===Y.id)||0,[ce,Y.id]),wt=React.useMemo(()=>{var Nt;return(Nt=Y.closeButton)!=null?Nt:he},[Y.closeButton,he]),et=React.useMemo(()=>Y.duration||Me||Zt,[Y.duration,Me]),zt=React.useRef(0),Bt=React.useRef(0),js=React.useRef(0),xs=React.useRef(null),[Ls,ls]=Pe.split("-"),fs=React.useMemo(()=>ce.reduce((Nt,ss,is)=>is>=Rt?Nt:Nt+ss.height,0),[ce,Rt]),As=Dt(),Hs=Y.invert||K,St=ke==="loading";Bt.current=React.useMemo(()=>Rt*Se+fs,[Rt,fs]),React.useEffect(()=>{me(!0)},[]),React.useLayoutEffect(()=>{if(!de)return;let Nt=nt.current,ss=Nt.style.height;Nt.style.height="auto";let is=Nt.getBoundingClientRect().height;Nt.style.height=ss,jt(is),ie(ze=>ze.find(bt=>bt.toastId===Y.id)?ze.map(bt=>bt.toastId===Y.id?{...bt,height:is}:bt):[{toastId:Y.id,height:is,position:Y.position},...ze])},[de,Y.title,Y.description,ie,Y.id]);let st=React.useCallback(()=>{Ne(!0),xt(Bt.current),ie(Nt=>Nt.filter(ss=>ss.toastId!==Y.id)),setTimeout(()=>{le(Y)},ae)},[Y,le,ie,Bt]);React.useEffect(()=>{if(Y.promise&&ke==="loading"||Y.duration===1/0||Y.type==="loading")return;let Nt,ss=et;return ge||Q||qe&&As?(()=>{if(js.current<zt.current){let is=new Date().getTime()-zt.current;ss=ss-is}js.current=new Date().getTime()})():ss!==1/0&&(zt.current=new Date().getTime(),Nt=setTimeout(()=>{var is;(is=Y.onAutoClose)==null||is.call(Y,Y),st()},ss)),()=>clearTimeout(Nt)},[ge,Q,$e,Y,et,st,Y.promise,ke,qe,As]),React.useEffect(()=>{let Nt=nt.current;if(Nt){let ss=Nt.getBoundingClientRect().height;return jt(ss),ie(is=>[{toastId:Y.id,height:ss,position:Y.position},...is]),()=>ie(is=>is.filter(ze=>ze.toastId!==Y.id))}},[ie,Y.id]),React.useEffect(()=>{Y.delete&&st()},[st,Y.delete]);function at(){return je!=null&&je.loading?React.createElement("div",{className:"sonner-loader","data-visible":ke==="loading"},je.loading):Le?React.createElement("div",{className:"sonner-loader","data-visible":ke==="loading"},Le):React.createElement(It,{visible:ke==="loading"})}return React.createElement("li",{"aria-live":Y.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:nt,className:Ce(xe,it,He==null?void 0:He.toast,(w=Y==null?void 0:Y.classNames)==null?void 0:w.toast,He==null?void 0:He.default,He==null?void 0:He[ke],(_=Y==null?void 0:Y.classNames)==null?void 0:_[ke]),"data-sonner-toast":"","data-rich-colors":(A=Y.richColors)!=null?A:ve,"data-styled":!(Y.jsx||Y.unstyled||re),"data-mounted":de,"data-promise":!!Y.promise,"data-removed":ye,"data-visible":_e,"data-y-position":Ls,"data-x-position":ls,"data-index":ue,"data-front":lt,"data-swiping":Fe,"data-dismissible":Je,"data-type":ke,"data-invert":Hs,"data-swipe-out":Xe,"data-expanded":!!(ge||$e&&de),style:{"--index":ue,"--toasts-before":ue,"--z-index":Ee.length-ue,"--offset":`${ye?gt:Bt.current}px`,"--initial-height":$e?"auto":`${Et}px`,...fe,...Y.style},onPointerDown:Nt=>{St||!Je||(At.current=new Date,xt(Bt.current),Nt.target.setPointerCapture(Nt.pointerId),Nt.target.tagName!=="BUTTON"&&(Oe(!0),xs.current={x:Nt.clientX,y:Nt.clientY}))},onPointerUp:()=>{var Nt,ss,is,ze;if(Xe||!Je)return;xs.current=null;let bt=Number(((Nt=nt.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Yt=new Date().getTime()-((ss=At.current)==null?void 0:ss.getTime()),cs=Math.abs(bt)/Yt;if(Math.abs(bt)>=oe||cs>.11){xt(Bt.current),(is=Y.onDismiss)==null||is.call(Y,Y),st(),rt(!0);return}(ze=nt.current)==null||ze.style.setProperty("--swipe-amount","0px"),Oe(!1)},onPointerMove:Nt=>{var ss;if(!xs.current||!Je)return;let is=Nt.clientY-xs.current.y,ze=Nt.clientX-xs.current.x,bt=(Ls==="top"?Math.min:Math.max)(0,is),Yt=Nt.pointerType==="touch"?10:2;Math.abs(bt)>Yt?(ss=nt.current)==null||ss.style.setProperty("--swipe-amount",`${is}px`):Math.abs(ze)>Yt&&(xs.current=null)}},wt&&!Y.jsx?React.createElement("button",{"aria-label":De,"data-disabled":St,"data-close-button":!0,onClick:St||!Je?()=>{}:()=>{var Nt;st(),(Nt=Y.onDismiss)==null||Nt.call(Y,Y)},className:Ce(He==null?void 0:He.closeButton,($=Y==null?void 0:Y.classNames)==null?void 0:$.closeButton)},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,Y.jsx||React.isValidElement(Y.title)?Y.jsx||Y.title:React.createElement(React.Fragment,null,ke||Y.icon||Y.promise?React.createElement("div",{"data-icon":"",className:Ce(He==null?void 0:He.icon,(O=Y==null?void 0:Y.classNames)==null?void 0:O.icon)},Y.promise||Y.type==="loading"&&!Y.icon?Y.icon||at():null,Y.type!=="loading"?Y.icon||(je==null?void 0:je[ke])||Ct(ke):null):null,React.createElement("div",{"data-content":"",className:Ce(He==null?void 0:He.content,(B=Y==null?void 0:Y.classNames)==null?void 0:B.content)},React.createElement("div",{"data-title":"",className:Ce(He==null?void 0:He.title,(q=Y==null?void 0:Y.classNames)==null?void 0:q.title)},Y.title),Y.description?React.createElement("div",{"data-description":"",className:Ce(we,mt,He==null?void 0:He.description,(H=Y==null?void 0:Y.classNames)==null?void 0:H.description)},Y.description):null),React.isValidElement(Y.cancel)?Y.cancel:Y.cancel&&U(Y.cancel)?React.createElement("button",{"data-button":!0,"data-cancel":!0,style:Y.cancelButtonStyle||be,onClick:Nt=>{var ss,is;U(Y.cancel)&&Je&&((is=(ss=Y.cancel).onClick)==null||is.call(ss,Nt),st())},className:Ce(He==null?void 0:He.cancelButton,(W=Y==null?void 0:Y.classNames)==null?void 0:W.cancelButton)},Y.cancel.label):null,React.isValidElement(Y.action)?Y.action:Y.action&&U(Y.action)?React.createElement("button",{"data-button":!0,"data-action":!0,style:Y.actionButtonStyle||Ae,onClick:Nt=>{var ss,is;U(Y.action)&&(Nt.defaultPrevented||((is=(ss=Y.action).onClick)==null||is.call(ss,Nt),st()))},className:Ce(He==null?void 0:He.actionButton,(V=Y==null?void 0:Y.classNames)==null?void 0:V.actionButton)},Y.action.label):null))};function Ht(){if(typeof window>"u"||typeof document>"u")return"ltr";let R=document.documentElement.getAttribute("dir");return R==="auto"||!R?window.getComputedStyle(document.documentElement).direction:R}var Te=R=>{let{invert:w,position:_="bottom-right",hotkey:A=["altKey","KeyT"],expand:$,closeButton:O,className:B,offset:q,theme:H="light",richColors:W,duration:V,style:K,visibleToasts:Y=qt,toastOptions:re,dir:Q=Ht(),gap:ie=ee,loadingIcon:J,icons:ce,containerAriaLabel:ue="Notifications",pauseWhenPageIsHidden:Ee,cn:ge=ne}=R,[le,ve]=React.useState([]),he=React.useMemo(()=>Array.from(new Set([_].concat(le.filter(qe=>qe.position).map(qe=>qe.position)))),[le,_]),[fe,be]=React.useState([]),[Ae,xe]=React.useState(!1),[we,Me]=React.useState(!1),[Pe,Se]=React.useState(H!=="system"?H:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Le=React.useRef(null),$e=A.join("+").replace(/Key/g,"").replace(/Digit/g,""),He=React.useRef(null),je=React.useRef(!1),De=React.useCallback(qe=>{var Ce;(Ce=le.find(de=>de.id===qe.id))!=null&&Ce.delete||v$2.dismiss(qe.id),ve(de=>de.filter(({id:me})=>me!==qe.id))},[le]);return React.useEffect(()=>v$2.subscribe(qe=>{if(qe.dismiss){ve(Ce=>Ce.map(de=>de.id===qe.id?{...de,delete:!0}:de));return}setTimeout(()=>{Gt.flushSync(()=>{ve(Ce=>{let de=Ce.findIndex(me=>me.id===qe.id);return de!==-1?[...Ce.slice(0,de),{...Ce[de],...qe},...Ce.slice(de+1)]:[qe,...Ce]})})})}),[]),React.useEffect(()=>{if(H!=="system"){Se(H);return}H==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Se("dark"):Se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:qe})=>{Se(qe?"dark":"light")})},[H]),React.useEffect(()=>{le.length<=1&&xe(!1)},[le]),React.useEffect(()=>{let qe=Ce=>{var de,me;A.every(ye=>Ce[ye]||Ce.code===ye)&&(xe(!0),(de=Le.current)==null||de.focus()),Ce.code==="Escape"&&(document.activeElement===Le.current||(me=Le.current)!=null&&me.contains(document.activeElement))&&xe(!1)};return document.addEventListener("keydown",qe),()=>document.removeEventListener("keydown",qe)},[A]),React.useEffect(()=>{if(Le.current)return()=>{He.current&&(He.current.focus({preventScroll:!0}),He.current=null,je.current=!1)}},[Le.current]),le.length?React.createElement("section",{"aria-label":`${ue} ${$e}`,tabIndex:-1},he.map((qe,Ce)=>{var de;let[me,ye]=qe.split("-");return React.createElement("ol",{key:qe,dir:Q==="auto"?Ht():Q,tabIndex:-1,ref:Le,className:B,"data-sonner-toaster":!0,"data-theme":Pe,"data-y-position":me,"data-x-position":ye,style:{"--front-toast-height":`${((de=fe[0])==null?void 0:de.height)||0}px`,"--offset":typeof q=="number"?`${q}px`:q||Qt,"--width":`${te}px`,"--gap":`${ie}px`,...K},onBlur:Ne=>{je.current&&!Ne.currentTarget.contains(Ne.relatedTarget)&&(je.current=!1,He.current&&(He.current.focus({preventScroll:!0}),He.current=null))},onFocus:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||je.current||(je.current=!0,He.current=Ne.relatedTarget)},onMouseEnter:()=>xe(!0),onMouseMove:()=>xe(!0),onMouseLeave:()=>{we||xe(!1)},onPointerDown:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||Me(!0)},onPointerUp:()=>Me(!1)},le.filter(Ne=>!Ne.position&&Ce===0||Ne.position===qe).map((Ne,Fe)=>{var Oe,Xe;return React.createElement(se,{key:Ne.id,icons:ce,index:Fe,toast:Ne,defaultRichColors:W,duration:(Oe=re==null?void 0:re.duration)!=null?Oe:V,className:re==null?void 0:re.className,descriptionClassName:re==null?void 0:re.descriptionClassName,invert:w,visibleToasts:Y,closeButton:(Xe=re==null?void 0:re.closeButton)!=null?Xe:O,interacting:we,position:qe,style:re==null?void 0:re.style,unstyled:re==null?void 0:re.unstyled,classNames:re==null?void 0:re.classNames,cancelButtonStyle:re==null?void 0:re.cancelButtonStyle,actionButtonStyle:re==null?void 0:re.actionButtonStyle,removeToast:De,toasts:le.filter(rt=>rt.position==Ne.position),heights:fe.filter(rt=>rt.position==Ne.position),setHeights:be,expandByDefault:$,gap:ie,loadingIcon:J,expanded:Ae,pauseWhenPageIsHidden:Ee,cn:ge})}))})):null};const Toaster=({...R})=>{const{theme:w="system"}=j$1();return jsxRuntimeExports.jsx(Te,{theme:w,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...R})};var[createTooltipContext,createTooltipScope]=createContextScope$1("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=R=>{const{__scopeTooltip:w,delayDuration:_=DEFAULT_DELAY_DURATION,skipDelayDuration:A=300,disableHoverableContent:$=!1,children:O}=R,[B,q]=reactExports.useState(!0),H=reactExports.useRef(!1),W=reactExports.useRef(0);return reactExports.useEffect(()=>{const V=W.current;return()=>window.clearTimeout(V)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:w,isOpenDelayed:B,delayDuration:_,onOpen:reactExports.useCallback(()=>{window.clearTimeout(W.current),q(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(W.current),W.current=window.setTimeout(()=>q(!0),A)},[A]),isPointerInTransitRef:H,onPointerInTransitChange:reactExports.useCallback(V=>{H.current=V},[]),disableHoverableContent:$,children:O})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME$3="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((R,w)=>{const{__scopeTooltip:_,...A}=R,$=useTooltipContext(TRIGGER_NAME$3,_),O=useTooltipProviderContext(TRIGGER_NAME$3,_),B=usePopperScope(_),q=reactExports.useRef(null),H=useComposedRefs(w,q,$.onTriggerChange),W=reactExports.useRef(!1),V=reactExports.useRef(!1),K=reactExports.useCallback(()=>W.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",K),[K]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...B,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":$.open?$.contentId:void 0,"data-state":$.stateAttribute,...A,ref:H,onPointerMove:composeEventHandlers(R.onPointerMove,Y=>{Y.pointerType!=="touch"&&!V.current&&!O.isPointerInTransitRef.current&&($.onTriggerEnter(),V.current=!0)}),onPointerLeave:composeEventHandlers(R.onPointerLeave,()=>{$.onTriggerLeave(),V.current=!1}),onPointerDown:composeEventHandlers(R.onPointerDown,()=>{W.current=!0,document.addEventListener("pointerup",K,{once:!0})}),onFocus:composeEventHandlers(R.onFocus,()=>{W.current||$.onOpen()}),onBlur:composeEventHandlers(R.onBlur,$.onClose),onClick:composeEventHandlers(R.onClick,$.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME$3;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),CONTENT_NAME$3="TooltipContent",TooltipContent$1=reactExports.forwardRef((R,w)=>{const _=usePortalContext(CONTENT_NAME$3,R.__scopeTooltip),{forceMount:A=_.forceMount,side:$="top",...O}=R,B=useTooltipContext(CONTENT_NAME$3,R.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:A||B.open,children:B.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:$,...O,ref:w}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:$,...O,ref:w})})}),TooltipContentHoverable=reactExports.forwardRef((R,w)=>{const _=useTooltipContext(CONTENT_NAME$3,R.__scopeTooltip),A=useTooltipProviderContext(CONTENT_NAME$3,R.__scopeTooltip),$=reactExports.useRef(null),O=useComposedRefs(w,$),[B,q]=reactExports.useState(null),{trigger:H,onClose:W}=_,V=$.current,{onPointerInTransitChange:K}=A,Y=reactExports.useCallback(()=>{q(null),K(!1)},[K]),re=reactExports.useCallback((Q,ie)=>{const J=Q.currentTarget,ce={x:Q.clientX,y:Q.clientY},ue=getExitSideFromRect(ce,J.getBoundingClientRect()),Ee=getPaddedExitPoints(ce,ue),ge=getPointsFromRect(ie.getBoundingClientRect()),le=getHull([...Ee,...ge]);q(le),K(!0)},[K]);return reactExports.useEffect(()=>()=>Y(),[Y]),reactExports.useEffect(()=>{if(H&&V){const Q=J=>re(J,V),ie=J=>re(J,H);return H.addEventListener("pointerleave",Q),V.addEventListener("pointerleave",ie),()=>{H.removeEventListener("pointerleave",Q),V.removeEventListener("pointerleave",ie)}}},[H,V,re,Y]),reactExports.useEffect(()=>{if(B){const Q=ie=>{const J=ie.target,ce={x:ie.clientX,y:ie.clientY},ue=(H==null?void 0:H.contains(J))||(V==null?void 0:V.contains(J)),Ee=!isPointInPolygon(ce,B);ue?Y():Ee&&(Y(),W())};return document.addEventListener("pointermove",Q),()=>document.removeEventListener("pointermove",Q)}},[H,V,B,W,Y]),jsxRuntimeExports.jsx(TooltipContentImpl,{...R,ref:O})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),TooltipContentImpl=reactExports.forwardRef((R,w)=>{const{__scopeTooltip:_,children:A,"aria-label":$,onEscapeKeyDown:O,onPointerDownOutside:B,...q}=R,H=useTooltipContext(CONTENT_NAME$3,_),W=usePopperScope(_),{onClose:V}=H;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,V),()=>document.removeEventListener(TOOLTIP_OPEN,V)),[V]),reactExports.useEffect(()=>{if(H.trigger){const K=Y=>{const re=Y.target;re!=null&&re.contains(H.trigger)&&V()};return window.addEventListener("scroll",K,{capture:!0}),()=>window.removeEventListener("scroll",K,{capture:!0})}},[H.trigger,V]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:O,onPointerDownOutside:B,onFocusOutside:K=>K.preventDefault(),onDismiss:V,children:jsxRuntimeExports.jsxs(Content$2,{"data-state":H.stateAttribute,...W,...q,ref:w,style:{...q.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:A}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:_,isInside:!0,children:jsxRuntimeExports.jsx(Root$5,{id:H.contentId,role:"tooltip",children:$||A})})]})})});TooltipContent$1.displayName=CONTENT_NAME$3;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((R,w)=>{const{__scopeTooltip:_,...A}=R,$=usePopperScope(_);return useVisuallyHiddenContentContext(ARROW_NAME,_).isInside?null:jsxRuntimeExports.jsx(Arrow,{...$,...A,ref:w})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(R,w){const _=Math.abs(w.top-R.y),A=Math.abs(w.bottom-R.y),$=Math.abs(w.right-R.x),O=Math.abs(w.left-R.x);switch(Math.min(_,A,$,O)){case O:return"left";case $:return"right";case _:return"top";case A:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(R,w,_=5){const A=[];switch(w){case"top":A.push({x:R.x-_,y:R.y+_},{x:R.x+_,y:R.y+_});break;case"bottom":A.push({x:R.x-_,y:R.y-_},{x:R.x+_,y:R.y-_});break;case"left":A.push({x:R.x+_,y:R.y-_},{x:R.x+_,y:R.y+_});break;case"right":A.push({x:R.x-_,y:R.y-_},{x:R.x-_,y:R.y+_});break}return A}function getPointsFromRect(R){const{top:w,right:_,bottom:A,left:$}=R;return[{x:$,y:w},{x:_,y:w},{x:_,y:A},{x:$,y:A}]}function isPointInPolygon(R,w){const{x:_,y:A}=R;let $=!1;for(let O=0,B=w.length-1;O<w.length;B=O++){const q=w[O].x,H=w[O].y,W=w[B].x,V=w[B].y;H>A!=V>A&&_<(W-q)*(A-H)/(V-H)+q&&($=!$)}return $}function getHull(R){const w=R.slice();return w.sort((_,A)=>_.x<A.x?-1:_.x>A.x?1:_.y<A.y?-1:_.y>A.y?1:0),getHullPresorted(w)}function getHullPresorted(R){if(R.length<=1)return R.slice();const w=[];for(let A=0;A<R.length;A++){const $=R[A];for(;w.length>=2;){const O=w[w.length-1],B=w[w.length-2];if((O.x-B.x)*($.y-B.y)>=(O.y-B.y)*($.x-B.x))w.pop();else break}w.push($)}w.pop();const _=[];for(let A=R.length-1;A>=0;A--){const $=R[A];for(;_.length>=2;){const O=_[_.length-1],B=_[_.length-2];if((O.x-B.x)*($.y-B.y)>=(O.y-B.y)*($.x-B.x))_.pop();else break}_.push($)}return _.pop(),w.length===1&&_.length===1&&w[0].x===_[0].x&&w[0].y===_[0].y?w:w.concat(_)}var Provider=TooltipProvider$1,Content2$1=TooltipContent$1;const TooltipProvider=Provider,TooltipContent=reactExports.forwardRef(({className:R,sideOffset:w=4,..._},A)=>jsxRuntimeExports.jsx(Content2$1,{ref:A,sideOffset:w,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",R),..._}));TooltipContent.displayName=Content2$1.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(R){return this.listeners.add(R),this.onSubscribe(),()=>{this.listeners.delete(R),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$3(){}function functionalUpdate(R,w){return typeof R=="function"?R(w):R}function isValidTimeout(R){return typeof R=="number"&&R>=0&&R!==1/0}function timeUntilStale(R,w){return Math.max(R+(w||0)-Date.now(),0)}function resolveStaleTime(R,w){return typeof R=="function"?R(w):R}function resolveEnabled(R,w){return typeof R=="function"?R(w):R}function matchQuery(R,w){const{type:_="all",exact:A,fetchStatus:$,predicate:O,queryKey:B,stale:q}=R;if(B){if(A){if(w.queryHash!==hashQueryKeyByOptions(B,w.options))return!1}else if(!partialMatchKey(w.queryKey,B))return!1}if(_!=="all"){const H=w.isActive();if(_==="active"&&!H||_==="inactive"&&H)return!1}return!(typeof q=="boolean"&&w.isStale()!==q||$&&$!==w.state.fetchStatus||O&&!O(w))}function matchMutation(R,w){const{exact:_,status:A,predicate:$,mutationKey:O}=R;if(O){if(!w.options.mutationKey)return!1;if(_){if(hashKey(w.options.mutationKey)!==hashKey(O))return!1}else if(!partialMatchKey(w.options.mutationKey,O))return!1}return!(A&&w.state.status!==A||$&&!$(w))}function hashQueryKeyByOptions(R,w){return((w==null?void 0:w.queryKeyHashFn)||hashKey)(R)}function hashKey(R){return JSON.stringify(R,(w,_)=>isPlainObject(_)?Object.keys(_).sort().reduce((A,$)=>(A[$]=_[$],A),{}):_)}function partialMatchKey(R,w){return R===w?!0:typeof R!=typeof w?!1:R&&w&&typeof R=="object"&&typeof w=="object"?!Object.keys(w).some(_=>!partialMatchKey(R[_],w[_])):!1}function replaceEqualDeep(R,w){if(R===w)return R;const _=isPlainArray(R)&&isPlainArray(w);if(_||isPlainObject(R)&&isPlainObject(w)){const A=_?R:Object.keys(R),$=A.length,O=_?w:Object.keys(w),B=O.length,q=_?[]:{};let H=0;for(let W=0;W<B;W++){const V=_?W:O[W];(!_&&A.includes(V)||_)&&R[V]===void 0&&w[V]===void 0?(q[V]=void 0,H++):(q[V]=replaceEqualDeep(R[V],w[V]),q[V]===R[V]&&R[V]!==void 0&&H++)}return $===B&&H===$?R:q}return w}function shallowEqualObjects(R,w){if(!w||Object.keys(R).length!==Object.keys(w).length)return!1;for(const _ in R)if(R[_]!==w[_])return!1;return!0}function isPlainArray(R){return Array.isArray(R)&&R.length===Object.keys(R).length}function isPlainObject(R){if(!hasObjectPrototype(R))return!1;const w=R.constructor;if(w===void 0)return!0;const _=w.prototype;return!(!hasObjectPrototype(_)||!_.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(R)!==Object.prototype)}function hasObjectPrototype(R){return Object.prototype.toString.call(R)==="[object Object]"}function sleep$1(R){return new Promise(w=>{setTimeout(w,R)})}function replaceData(R,w,_){return typeof _.structuralSharing=="function"?_.structuralSharing(R,w):_.structuralSharing!==!1?replaceEqualDeep(R,w):w}function addToEnd(R,w,_=0){const A=[...R,w];return _&&A.length>_?A.slice(1):A}function addToStart(R,w,_=0){const A=[w,...R];return _&&A.length>_?A.slice(0,-1):A}var skipToken=Symbol();function ensureQueryFn(R,w){return!R.queryFn&&(w!=null&&w.initialPromise)?()=>w.initialPromise:!R.queryFn||R.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${R.queryHash}'`)):R.queryFn}var br,or,Ir,Ya,FocusManager=(Ya=class extends Subscribable{constructor(){super();Ye(this,br);Ye(this,or);Ye(this,Ir);Ge(this,Ir,w=>{if(!isServer&&window.addEventListener){const _=()=>w();return window.addEventListener("visibilitychange",_,!1),()=>{window.removeEventListener("visibilitychange",_)}}})}onSubscribe(){G(this,or)||this.setEventListener(G(this,Ir))}onUnsubscribe(){var w;this.hasListeners()||((w=G(this,or))==null||w.call(this),Ge(this,or,void 0))}setEventListener(w){var _;Ge(this,Ir,w),(_=G(this,or))==null||_.call(this),Ge(this,or,w(A=>{typeof A=="boolean"?this.setFocused(A):this.onFocus()}))}setFocused(w){G(this,br)!==w&&(Ge(this,br,w),this.onFocus())}onFocus(){const w=this.isFocused();this.listeners.forEach(_=>{_(w)})}isFocused(){var w;return typeof G(this,br)=="boolean"?G(this,br):((w=globalThis.document)==null?void 0:w.visibilityState)!=="hidden"}},br=new WeakMap,or=new WeakMap,Ir=new WeakMap,Ya),focusManager=new FocusManager,Lr,lr,Fr,Ja,OnlineManager=(Ja=class extends Subscribable{constructor(){super();Ye(this,Lr,!0);Ye(this,lr);Ye(this,Fr);Ge(this,Fr,w=>{if(!isServer&&window.addEventListener){const _=()=>w(!0),A=()=>w(!1);return window.addEventListener("online",_,!1),window.addEventListener("offline",A,!1),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",A)}}})}onSubscribe(){G(this,lr)||this.setEventListener(G(this,Fr))}onUnsubscribe(){var w;this.hasListeners()||((w=G(this,lr))==null||w.call(this),Ge(this,lr,void 0))}setEventListener(w){var _;Ge(this,Fr,w),(_=G(this,lr))==null||_.call(this),Ge(this,lr,w(this.setOnline.bind(this)))}setOnline(w){G(this,Lr)!==w&&(Ge(this,Lr,w),this.listeners.forEach(A=>{A(w)}))}isOnline(){return G(this,Lr)}},Lr=new WeakMap,lr=new WeakMap,Fr=new WeakMap,Ja),onlineManager=new OnlineManager;function pendingThenable(){let R,w;const _=new Promise(($,O)=>{R=$,w=O});_.status="pending",_.catch(()=>{});function A($){Object.assign(_,$),delete _.resolve,delete _.reject}return _.resolve=$=>{A({status:"fulfilled",value:$}),R($)},_.reject=$=>{A({status:"rejected",reason:$}),w($)},_}function defaultRetryDelay(R){return Math.min(1e3*2**R,3e4)}function canFetch(R){return(R??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(R){super("CancelledError"),this.revert=R==null?void 0:R.revert,this.silent=R==null?void 0:R.silent}};function isCancelledError(R){return R instanceof CancelledError}function createRetryer(R){let w=!1,_=0,A=!1,$;const O=pendingThenable(),B=ie=>{var J;A||(Y(new CancelledError(ie)),(J=R.abort)==null||J.call(R))},q=()=>{w=!0},H=()=>{w=!1},W=()=>focusManager.isFocused()&&(R.networkMode==="always"||onlineManager.isOnline())&&R.canRun(),V=()=>canFetch(R.networkMode)&&R.canRun(),K=ie=>{var J;A||(A=!0,(J=R.onSuccess)==null||J.call(R,ie),$==null||$(),O.resolve(ie))},Y=ie=>{var J;A||(A=!0,(J=R.onError)==null||J.call(R,ie),$==null||$(),O.reject(ie))},re=()=>new Promise(ie=>{var J;$=ce=>{(A||W())&&ie(ce)},(J=R.onPause)==null||J.call(R)}).then(()=>{var ie;$=void 0,A||(ie=R.onContinue)==null||ie.call(R)}),Q=()=>{if(A)return;let ie;const J=_===0?R.initialPromise:void 0;try{ie=J??R.fn()}catch(ce){ie=Promise.reject(ce)}Promise.resolve(ie).then(K).catch(ce=>{var ve;if(A)return;const ue=R.retry??(isServer?0:3),Ee=R.retryDelay??defaultRetryDelay,ge=typeof Ee=="function"?Ee(_,ce):Ee,le=ue===!0||typeof ue=="number"&&_<ue||typeof ue=="function"&&ue(_,ce);if(w||!le){Y(ce);return}_++,(ve=R.onFail)==null||ve.call(R,_,ce),sleep$1(ge).then(()=>W()?void 0:re()).then(()=>{w?Y(ce):Q()})})};return{promise:O,cancel:B,continue:()=>($==null||$(),O),cancelRetry:q,continueRetry:H,canStart:V,start:()=>(V()?Q():re().then(Q),O)}}function createNotifyManager(){let R=[],w=0,_=q=>{q()},A=q=>{q()},$=q=>setTimeout(q,0);const O=q=>{w?R.push(q):$(()=>{_(q)})},B=()=>{const q=R;R=[],q.length&&$(()=>{A(()=>{q.forEach(H=>{_(H)})})})};return{batch:q=>{let H;w++;try{H=q()}finally{w--,w||B()}return H},batchCalls:q=>(...H)=>{O(()=>{q(...H)})},schedule:O,setNotifyFunction:q=>{_=q},setBatchNotifyFunction:q=>{A=q},setScheduler:q=>{$=q}}}var notifyManager=createNotifyManager(),yr,Qa,Removable=(Qa=class{constructor(){Ye(this,yr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Ge(this,yr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(R){this.gcTime=Math.max(this.gcTime||0,R??(isServer?1/0:5*60*1e3))}clearGcTimeout(){G(this,yr)&&(clearTimeout(G(this,yr)),Ge(this,yr,void 0))}},yr=new WeakMap,Qa),Or,Dr,Dn,An,ni,Er,zn,Yn,Za,Query=(Za=class extends Removable{constructor(w){super();Ye(this,zn);Ye(this,Or);Ye(this,Dr);Ye(this,Dn);Ye(this,An);Ye(this,ni);Ye(this,Er);Ge(this,Er,!1),Ge(this,ni,w.defaultOptions),this.setOptions(w.options),this.observers=[],Ge(this,Dn,w.cache),this.queryKey=w.queryKey,this.queryHash=w.queryHash,Ge(this,Or,getDefaultState$1(this.options)),this.state=w.state??G(this,Or),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var w;return(w=G(this,An))==null?void 0:w.promise}setOptions(w){this.options={...G(this,ni),...w},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Dn).remove(this)}setData(w,_){const A=replaceData(this.state.data,w,this.options);return Ve(this,zn,Yn).call(this,{data:A,type:"success",dataUpdatedAt:_==null?void 0:_.updatedAt,manual:_==null?void 0:_.manual}),A}setState(w,_){Ve(this,zn,Yn).call(this,{type:"setState",state:w,setStateOptions:_})}cancel(w){var A,$;const _=(A=G(this,An))==null?void 0:A.promise;return($=G(this,An))==null||$.cancel(w),_?_.then(noop$3).catch(noop$3):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,Or))}isActive(){return this.observers.some(w=>resolveEnabled(w.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(w=>w.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(w=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,w)}onFocus(){var _;const w=this.observers.find(A=>A.shouldFetchOnWindowFocus());w==null||w.refetch({cancelRefetch:!1}),(_=G(this,An))==null||_.continue()}onOnline(){var _;const w=this.observers.find(A=>A.shouldFetchOnReconnect());w==null||w.refetch({cancelRefetch:!1}),(_=G(this,An))==null||_.continue()}addObserver(w){this.observers.includes(w)||(this.observers.push(w),this.clearGcTimeout(),G(this,Dn).notify({type:"observerAdded",query:this,observer:w}))}removeObserver(w){this.observers.includes(w)&&(this.observers=this.observers.filter(_=>_!==w),this.observers.length||(G(this,An)&&(G(this,Er)?G(this,An).cancel({revert:!0}):G(this,An).cancelRetry()),this.scheduleGc()),G(this,Dn).notify({type:"observerRemoved",query:this,observer:w}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ve(this,zn,Yn).call(this,{type:"invalidate"})}fetch(w,_){var H,W,V;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(_!=null&&_.cancelRefetch))this.cancel({silent:!0});else if(G(this,An))return G(this,An).continueRetry(),G(this,An).promise}if(w&&this.setOptions(w),!this.options.queryFn){const K=this.observers.find(Y=>Y.options.queryFn);K&&this.setOptions(K.options)}const A=new AbortController,$=K=>{Object.defineProperty(K,"signal",{enumerable:!0,get:()=>(Ge(this,Er,!0),A.signal)})},O=()=>{const K=ensureQueryFn(this.options,_),Y={queryKey:this.queryKey,meta:this.meta};return $(Y),Ge(this,Er,!1),this.options.persister?this.options.persister(K,Y,this):K(Y)},B={fetchOptions:_,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:O};$(B),(H=this.options.behavior)==null||H.onFetch(B,this),Ge(this,Dr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((W=B.fetchOptions)==null?void 0:W.meta))&&Ve(this,zn,Yn).call(this,{type:"fetch",meta:(V=B.fetchOptions)==null?void 0:V.meta});const q=K=>{var Y,re,Q,ie;isCancelledError(K)&&K.silent||Ve(this,zn,Yn).call(this,{type:"error",error:K}),isCancelledError(K)||((re=(Y=G(this,Dn).config).onError)==null||re.call(Y,K,this),(ie=(Q=G(this,Dn).config).onSettled)==null||ie.call(Q,this.state.data,K,this)),this.scheduleGc()};return Ge(this,An,createRetryer({initialPromise:_==null?void 0:_.initialPromise,fn:B.fetchFn,abort:A.abort.bind(A),onSuccess:K=>{var Y,re,Q,ie;if(K===void 0){q(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(K)}catch(J){q(J);return}(re=(Y=G(this,Dn).config).onSuccess)==null||re.call(Y,K,this),(ie=(Q=G(this,Dn).config).onSettled)==null||ie.call(Q,K,this.state.error,this),this.scheduleGc()},onError:q,onFail:(K,Y)=>{Ve(this,zn,Yn).call(this,{type:"failed",failureCount:K,error:Y})},onPause:()=>{Ve(this,zn,Yn).call(this,{type:"pause"})},onContinue:()=>{Ve(this,zn,Yn).call(this,{type:"continue"})},retry:B.options.retry,retryDelay:B.options.retryDelay,networkMode:B.options.networkMode,canRun:()=>!0})),G(this,An).start()}},Or=new WeakMap,Dr=new WeakMap,Dn=new WeakMap,An=new WeakMap,ni=new WeakMap,Er=new WeakMap,zn=new WeakSet,Yn=function(w){const _=A=>{switch(w.type){case"failed":return{...A,fetchFailureCount:w.failureCount,fetchFailureReason:w.error};case"pause":return{...A,fetchStatus:"paused"};case"continue":return{...A,fetchStatus:"fetching"};case"fetch":return{...A,...fetchState(A.data,this.options),fetchMeta:w.meta??null};case"success":return{...A,data:w.data,dataUpdateCount:A.dataUpdateCount+1,dataUpdatedAt:w.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!w.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const $=w.error;return isCancelledError($)&&$.revert&&G(this,Dr)?{...G(this,Dr),fetchStatus:"idle"}:{...A,error:$,errorUpdateCount:A.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:A.fetchFailureCount+1,fetchFailureReason:$,fetchStatus:"idle",status:"error"};case"invalidate":return{...A,isInvalidated:!0};case"setState":return{...A,...w.state}}};this.state=_(this.state),notifyManager.batch(()=>{this.observers.forEach(A=>{A.onQueryUpdate()}),G(this,Dn).notify({query:this,type:"updated",action:w})})},Za);function fetchState(R,w){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(w.networkMode)?"fetching":"paused",...R===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(R){const w=typeof R.initialData=="function"?R.initialData():R.initialData,_=w!==void 0,A=_?typeof R.initialDataUpdatedAt=="function"?R.initialDataUpdatedAt():R.initialDataUpdatedAt:0;return{data:w,dataUpdateCount:0,dataUpdatedAt:_?A??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:_?"success":"pending",fetchStatus:"idle"}}var Vn,eo,QueryCache=(eo=class extends Subscribable{constructor(w={}){super();Ye(this,Vn);this.config=w,Ge(this,Vn,new Map)}build(w,_,A){const $=_.queryKey,O=_.queryHash??hashQueryKeyByOptions($,_);let B=this.get(O);return B||(B=new Query({cache:this,queryKey:$,queryHash:O,options:w.defaultQueryOptions(_),state:A,defaultOptions:w.getQueryDefaults($)}),this.add(B)),B}add(w){G(this,Vn).has(w.queryHash)||(G(this,Vn).set(w.queryHash,w),this.notify({type:"added",query:w}))}remove(w){const _=G(this,Vn).get(w.queryHash);_&&(w.destroy(),_===w&&G(this,Vn).delete(w.queryHash),this.notify({type:"removed",query:w}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(w=>{this.remove(w)})})}get(w){return G(this,Vn).get(w)}getAll(){return[...G(this,Vn).values()]}find(w){const _={exact:!0,...w};return this.getAll().find(A=>matchQuery(_,A))}findAll(w={}){const _=this.getAll();return Object.keys(w).length>0?_.filter(A=>matchQuery(w,A)):_}notify(w){notifyManager.batch(()=>{this.listeners.forEach(_=>{_(w)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(w=>{w.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(w=>{w.onOnline()})})}},Vn=new WeakMap,eo),Wn,Tn,wr,Gn,ar,to,Mutation=(to=class extends Removable{constructor(w){super();Ye(this,Gn);Ye(this,Wn);Ye(this,Tn);Ye(this,wr);this.mutationId=w.mutationId,Ge(this,Tn,w.mutationCache),Ge(this,Wn,[]),this.state=w.state||getDefaultState(),this.setOptions(w.options),this.scheduleGc()}setOptions(w){this.options=w,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(w){G(this,Wn).includes(w)||(G(this,Wn).push(w),this.clearGcTimeout(),G(this,Tn).notify({type:"observerAdded",mutation:this,observer:w}))}removeObserver(w){Ge(this,Wn,G(this,Wn).filter(_=>_!==w)),this.scheduleGc(),G(this,Tn).notify({type:"observerRemoved",mutation:this,observer:w})}optionalRemove(){G(this,Wn).length||(this.state.status==="pending"?this.scheduleGc():G(this,Tn).remove(this))}continue(){var w;return((w=G(this,wr))==null?void 0:w.continue())??this.execute(this.state.variables)}async execute(w){var $,O,B,q,H,W,V,K,Y,re,Q,ie,J,ce,ue,Ee,ge,le,ve,he;Ge(this,wr,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(w):Promise.reject(new Error("No mutationFn found")),onFail:(fe,be)=>{Ve(this,Gn,ar).call(this,{type:"failed",failureCount:fe,error:be})},onPause:()=>{Ve(this,Gn,ar).call(this,{type:"pause"})},onContinue:()=>{Ve(this,Gn,ar).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Tn).canRun(this)}));const _=this.state.status==="pending",A=!G(this,wr).canStart();try{if(!_){Ve(this,Gn,ar).call(this,{type:"pending",variables:w,isPaused:A}),await((O=($=G(this,Tn).config).onMutate)==null?void 0:O.call($,w,this));const be=await((q=(B=this.options).onMutate)==null?void 0:q.call(B,w));be!==this.state.context&&Ve(this,Gn,ar).call(this,{type:"pending",context:be,variables:w,isPaused:A})}const fe=await G(this,wr).start();return await((W=(H=G(this,Tn).config).onSuccess)==null?void 0:W.call(H,fe,w,this.state.context,this)),await((K=(V=this.options).onSuccess)==null?void 0:K.call(V,fe,w,this.state.context)),await((re=(Y=G(this,Tn).config).onSettled)==null?void 0:re.call(Y,fe,null,this.state.variables,this.state.context,this)),await((ie=(Q=this.options).onSettled)==null?void 0:ie.call(Q,fe,null,w,this.state.context)),Ve(this,Gn,ar).call(this,{type:"success",data:fe}),fe}catch(fe){try{throw await((ce=(J=G(this,Tn).config).onError)==null?void 0:ce.call(J,fe,w,this.state.context,this)),await((Ee=(ue=this.options).onError)==null?void 0:Ee.call(ue,fe,w,this.state.context)),await((le=(ge=G(this,Tn).config).onSettled)==null?void 0:le.call(ge,void 0,fe,this.state.variables,this.state.context,this)),await((he=(ve=this.options).onSettled)==null?void 0:he.call(ve,void 0,fe,w,this.state.context)),fe}finally{Ve(this,Gn,ar).call(this,{type:"error",error:fe})}}finally{G(this,Tn).runNext(this)}}},Wn=new WeakMap,Tn=new WeakMap,wr=new WeakMap,Gn=new WeakSet,ar=function(w){const _=A=>{switch(w.type){case"failed":return{...A,failureCount:w.failureCount,failureReason:w.error};case"pause":return{...A,isPaused:!0};case"continue":return{...A,isPaused:!1};case"pending":return{...A,context:w.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:w.isPaused,status:"pending",variables:w.variables,submittedAt:Date.now()};case"success":return{...A,data:w.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...A,data:void 0,error:w.error,failureCount:A.failureCount+1,failureReason:w.error,isPaused:!1,status:"error"}}};this.state=_(this.state),notifyManager.batch(()=>{G(this,Wn).forEach(A=>{A.onMutationUpdate(w)}),G(this,Tn).notify({mutation:this,type:"updated",action:w})})},to);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fn,ri,so,MutationCache=(so=class extends Subscribable{constructor(w={}){super();Ye(this,Fn);Ye(this,ri);this.config=w,Ge(this,Fn,new Map),Ge(this,ri,Date.now())}build(w,_,A){const $=new Mutation({mutationCache:this,mutationId:++ir(this,ri)._,options:w.defaultMutationOptions(_),state:A});return this.add($),$}add(w){const _=scopeFor(w),A=G(this,Fn).get(_)??[];A.push(w),G(this,Fn).set(_,A),this.notify({type:"added",mutation:w})}remove(w){var A;const _=scopeFor(w);if(G(this,Fn).has(_)){const $=(A=G(this,Fn).get(_))==null?void 0:A.filter(O=>O!==w);$&&($.length===0?G(this,Fn).delete(_):G(this,Fn).set(_,$))}this.notify({type:"removed",mutation:w})}canRun(w){var A;const _=(A=G(this,Fn).get(scopeFor(w)))==null?void 0:A.find($=>$.state.status==="pending");return!_||_===w}runNext(w){var A;const _=(A=G(this,Fn).get(scopeFor(w)))==null?void 0:A.find($=>$!==w&&$.state.isPaused);return(_==null?void 0:_.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(w=>{this.remove(w)})})}getAll(){return[...G(this,Fn).values()].flat()}find(w){const _={exact:!0,...w};return this.getAll().find(A=>matchMutation(_,A))}findAll(w={}){return this.getAll().filter(_=>matchMutation(w,_))}notify(w){notifyManager.batch(()=>{this.listeners.forEach(_=>{_(w)})})}resumePausedMutations(){const w=this.getAll().filter(_=>_.state.isPaused);return notifyManager.batch(()=>Promise.all(w.map(_=>_.continue().catch(noop$3))))}},Fn=new WeakMap,ri=new WeakMap,so);function scopeFor(R){var w;return((w=R.options.scope)==null?void 0:w.id)??String(R.mutationId)}function infiniteQueryBehavior(R){return{onFetch:(w,_)=>{var V,K,Y,re,Q;const A=w.options,$=(Y=(K=(V=w.fetchOptions)==null?void 0:V.meta)==null?void 0:K.fetchMore)==null?void 0:Y.direction,O=((re=w.state.data)==null?void 0:re.pages)||[],B=((Q=w.state.data)==null?void 0:Q.pageParams)||[];let q={pages:[],pageParams:[]},H=0;const W=async()=>{let ie=!1;const J=Ee=>{Object.defineProperty(Ee,"signal",{enumerable:!0,get:()=>(w.signal.aborted?ie=!0:w.signal.addEventListener("abort",()=>{ie=!0}),w.signal)})},ce=ensureQueryFn(w.options,w.fetchOptions),ue=async(Ee,ge,le)=>{if(ie)return Promise.reject();if(ge==null&&Ee.pages.length)return Promise.resolve(Ee);const ve={queryKey:w.queryKey,pageParam:ge,direction:le?"backward":"forward",meta:w.options.meta};J(ve);const he=await ce(ve),{maxPages:fe}=w.options,be=le?addToStart:addToEnd;return{pages:be(Ee.pages,he,fe),pageParams:be(Ee.pageParams,ge,fe)}};if($&&O.length){const Ee=$==="backward",ge=Ee?getPreviousPageParam:getNextPageParam,le={pages:O,pageParams:B},ve=ge(A,le);q=await ue(le,ve,Ee)}else{const Ee=R??O.length;do{const ge=H===0?B[0]??A.initialPageParam:getNextPageParam(A,q);if(H>0&&ge==null)break;q=await ue(q,ge),H++}while(H<Ee)}return q};w.options.persister?w.fetchFn=()=>{var ie,J;return(J=(ie=w.options).persister)==null?void 0:J.call(ie,W,{queryKey:w.queryKey,meta:w.options.meta,signal:w.signal},_)}:w.fetchFn=W}}}function getNextPageParam(R,{pages:w,pageParams:_}){const A=w.length-1;return w.length>0?R.getNextPageParam(w[A],w,_[A],_):void 0}function getPreviousPageParam(R,{pages:w,pageParams:_}){var A;return w.length>0?(A=R.getPreviousPageParam)==null?void 0:A.call(R,w[0],w,_[0],_):void 0}var bn,cr,ur,$r,Br,dr,zr,Ur,no,QueryClient=(no=class{constructor(R={}){Ye(this,bn);Ye(this,cr);Ye(this,ur);Ye(this,$r);Ye(this,Br);Ye(this,dr);Ye(this,zr);Ye(this,Ur);Ge(this,bn,R.queryCache||new QueryCache),Ge(this,cr,R.mutationCache||new MutationCache),Ge(this,ur,R.defaultOptions||{}),Ge(this,$r,new Map),Ge(this,Br,new Map),Ge(this,dr,0)}mount(){ir(this,dr)._++,G(this,dr)===1&&(Ge(this,zr,focusManager.subscribe(async R=>{R&&(await this.resumePausedMutations(),G(this,bn).onFocus())})),Ge(this,Ur,onlineManager.subscribe(async R=>{R&&(await this.resumePausedMutations(),G(this,bn).onOnline())})))}unmount(){var R,w;ir(this,dr)._--,G(this,dr)===0&&((R=G(this,zr))==null||R.call(this),Ge(this,zr,void 0),(w=G(this,Ur))==null||w.call(this),Ge(this,Ur,void 0))}isFetching(R){return G(this,bn).findAll({...R,fetchStatus:"fetching"}).length}isMutating(R){return G(this,cr).findAll({...R,status:"pending"}).length}getQueryData(R){var _;const w=this.defaultQueryOptions({queryKey:R});return(_=G(this,bn).get(w.queryHash))==null?void 0:_.state.data}ensureQueryData(R){const w=this.getQueryData(R.queryKey);if(w===void 0)return this.fetchQuery(R);{const _=this.defaultQueryOptions(R),A=G(this,bn).build(this,_);return R.revalidateIfStale&&A.isStaleByTime(resolveStaleTime(_.staleTime,A))&&this.prefetchQuery(_),Promise.resolve(w)}}getQueriesData(R){return G(this,bn).findAll(R).map(({queryKey:w,state:_})=>{const A=_.data;return[w,A]})}setQueryData(R,w,_){const A=this.defaultQueryOptions({queryKey:R}),$=G(this,bn).get(A.queryHash),O=$==null?void 0:$.state.data,B=functionalUpdate(w,O);if(B!==void 0)return G(this,bn).build(this,A).setData(B,{..._,manual:!0})}setQueriesData(R,w,_){return notifyManager.batch(()=>G(this,bn).findAll(R).map(({queryKey:A})=>[A,this.setQueryData(A,w,_)]))}getQueryState(R){var _;const w=this.defaultQueryOptions({queryKey:R});return(_=G(this,bn).get(w.queryHash))==null?void 0:_.state}removeQueries(R){const w=G(this,bn);notifyManager.batch(()=>{w.findAll(R).forEach(_=>{w.remove(_)})})}resetQueries(R,w){const _=G(this,bn),A={type:"active",...R};return notifyManager.batch(()=>(_.findAll(R).forEach($=>{$.reset()}),this.refetchQueries(A,w)))}cancelQueries(R={},w={}){const _={revert:!0,...w},A=notifyManager.batch(()=>G(this,bn).findAll(R).map($=>$.cancel(_)));return Promise.all(A).then(noop$3).catch(noop$3)}invalidateQueries(R={},w={}){return notifyManager.batch(()=>{if(G(this,bn).findAll(R).forEach(A=>{A.invalidate()}),R.refetchType==="none")return Promise.resolve();const _={...R,type:R.refetchType??R.type??"active"};return this.refetchQueries(_,w)})}refetchQueries(R={},w){const _={...w,cancelRefetch:(w==null?void 0:w.cancelRefetch)??!0},A=notifyManager.batch(()=>G(this,bn).findAll(R).filter($=>!$.isDisabled()).map($=>{let O=$.fetch(void 0,_);return _.throwOnError||(O=O.catch(noop$3)),$.state.fetchStatus==="paused"?Promise.resolve():O}));return Promise.all(A).then(noop$3)}fetchQuery(R){const w=this.defaultQueryOptions(R);w.retry===void 0&&(w.retry=!1);const _=G(this,bn).build(this,w);return _.isStaleByTime(resolveStaleTime(w.staleTime,_))?_.fetch(w):Promise.resolve(_.state.data)}prefetchQuery(R){return this.fetchQuery(R).then(noop$3).catch(noop$3)}fetchInfiniteQuery(R){return R.behavior=infiniteQueryBehavior(R.pages),this.fetchQuery(R)}prefetchInfiniteQuery(R){return this.fetchInfiniteQuery(R).then(noop$3).catch(noop$3)}ensureInfiniteQueryData(R){return R.behavior=infiniteQueryBehavior(R.pages),this.ensureQueryData(R)}resumePausedMutations(){return onlineManager.isOnline()?G(this,cr).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,bn)}getMutationCache(){return G(this,cr)}getDefaultOptions(){return G(this,ur)}setDefaultOptions(R){Ge(this,ur,R)}setQueryDefaults(R,w){G(this,$r).set(hashKey(R),{queryKey:R,defaultOptions:w})}getQueryDefaults(R){const w=[...G(this,$r).values()];let _={};return w.forEach(A=>{partialMatchKey(R,A.queryKey)&&(_={..._,...A.defaultOptions})}),_}setMutationDefaults(R,w){G(this,Br).set(hashKey(R),{mutationKey:R,defaultOptions:w})}getMutationDefaults(R){const w=[...G(this,Br).values()];let _={};return w.forEach(A=>{partialMatchKey(R,A.mutationKey)&&(_={..._,...A.defaultOptions})}),_}defaultQueryOptions(R){if(R._defaulted)return R;const w={...G(this,ur).queries,...this.getQueryDefaults(R.queryKey),...R,_defaulted:!0};return w.queryHash||(w.queryHash=hashQueryKeyByOptions(w.queryKey,w)),w.refetchOnReconnect===void 0&&(w.refetchOnReconnect=w.networkMode!=="always"),w.throwOnError===void 0&&(w.throwOnError=!!w.suspense),!w.networkMode&&w.persister&&(w.networkMode="offlineFirst"),w.enabled!==!0&&w.queryFn===skipToken&&(w.enabled=!1),w}defaultMutationOptions(R){return R!=null&&R._defaulted?R:{...G(this,ur).mutations,...(R==null?void 0:R.mutationKey)&&this.getMutationDefaults(R.mutationKey),...R,_defaulted:!0}}clear(){G(this,bn).clear(),G(this,cr).clear()}},bn=new WeakMap,cr=new WeakMap,ur=new WeakMap,$r=new WeakMap,Br=new WeakMap,dr=new WeakMap,zr=new WeakMap,Ur=new WeakMap,no),Nn,Ys,ii,kn,jr,Hr,hr,Kn,ai,qr,Vr,Rr,_r,pr,Wr,rn,Xr,Hi,qi,Vi,Wi,Gi,Ki,Xi,ao,ro,QueryObserver=(ro=class extends Subscribable{constructor(w,_){super();Ye(this,rn);Ye(this,Nn);Ye(this,Ys);Ye(this,ii);Ye(this,kn);Ye(this,jr);Ye(this,Hr);Ye(this,hr);Ye(this,Kn);Ye(this,ai);Ye(this,qr);Ye(this,Vr);Ye(this,Rr);Ye(this,_r);Ye(this,pr);Ye(this,Wr,new Set);this.options=_,Ge(this,Nn,w),Ge(this,Kn,null),Ge(this,hr,pendingThenable()),this.options.experimental_prefetchInRender||G(this,hr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(_)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,Ys).addObserver(this),shouldFetchOnMount(G(this,Ys),this.options)?Ve(this,rn,Xr).call(this):this.updateResult(),Ve(this,rn,Wi).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(G(this,Ys),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(G(this,Ys),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ve(this,rn,Gi).call(this),Ve(this,rn,Ki).call(this),G(this,Ys).removeObserver(this)}setOptions(w,_){const A=this.options,$=G(this,Ys);if(this.options=G(this,Nn).defaultQueryOptions(w),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,G(this,Ys))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ve(this,rn,Xi).call(this),G(this,Ys).setOptions(this.options),A._defaulted&&!shallowEqualObjects(this.options,A)&&G(this,Nn).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,Ys),observer:this});const O=this.hasListeners();O&&shouldFetchOptionally(G(this,Ys),$,this.options,A)&&Ve(this,rn,Xr).call(this),this.updateResult(_),O&&(G(this,Ys)!==$||resolveEnabled(this.options.enabled,G(this,Ys))!==resolveEnabled(A.enabled,G(this,Ys))||resolveStaleTime(this.options.staleTime,G(this,Ys))!==resolveStaleTime(A.staleTime,G(this,Ys)))&&Ve(this,rn,Hi).call(this);const B=Ve(this,rn,qi).call(this);O&&(G(this,Ys)!==$||resolveEnabled(this.options.enabled,G(this,Ys))!==resolveEnabled(A.enabled,G(this,Ys))||B!==G(this,pr))&&Ve(this,rn,Vi).call(this,B)}getOptimisticResult(w){const _=G(this,Nn).getQueryCache().build(G(this,Nn),w),A=this.createResult(_,w);return shouldAssignObserverCurrentProperties(this,A)&&(Ge(this,kn,A),Ge(this,Hr,this.options),Ge(this,jr,G(this,Ys).state)),A}getCurrentResult(){return G(this,kn)}trackResult(w,_){const A={};return Object.keys(w).forEach($=>{Object.defineProperty(A,$,{configurable:!1,enumerable:!0,get:()=>(this.trackProp($),_==null||_($),w[$])})}),A}trackProp(w){G(this,Wr).add(w)}getCurrentQuery(){return G(this,Ys)}refetch({...w}={}){return this.fetch({...w})}fetchOptimistic(w){const _=G(this,Nn).defaultQueryOptions(w),A=G(this,Nn).getQueryCache().build(G(this,Nn),_);return A.fetch().then(()=>this.createResult(A,_))}fetch(w){return Ve(this,rn,Xr).call(this,{...w,cancelRefetch:w.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,kn)))}createResult(w,_){var fe;const A=G(this,Ys),$=this.options,O=G(this,kn),B=G(this,jr),q=G(this,Hr),W=w!==A?w.state:G(this,ii),{state:V}=w;let K={...V},Y=!1,re;if(_._optimisticResults){const be=this.hasListeners(),Ae=!be&&shouldFetchOnMount(w,_),xe=be&&shouldFetchOptionally(w,A,_,$);(Ae||xe)&&(K={...K,...fetchState(V.data,w.options)}),_._optimisticResults==="isRestoring"&&(K.fetchStatus="idle")}let{error:Q,errorUpdatedAt:ie,status:J}=K;if(_.select&&K.data!==void 0)if(O&&K.data===(B==null?void 0:B.data)&&_.select===G(this,ai))re=G(this,qr);else try{Ge(this,ai,_.select),re=_.select(K.data),re=replaceData(O==null?void 0:O.data,re,_),Ge(this,qr,re),Ge(this,Kn,null)}catch(be){Ge(this,Kn,be)}else re=K.data;if(_.placeholderData!==void 0&&re===void 0&&J==="pending"){let be;if(O!=null&&O.isPlaceholderData&&_.placeholderData===(q==null?void 0:q.placeholderData))be=O.data;else if(be=typeof _.placeholderData=="function"?_.placeholderData((fe=G(this,Vr))==null?void 0:fe.state.data,G(this,Vr)):_.placeholderData,_.select&&be!==void 0)try{be=_.select(be),Ge(this,Kn,null)}catch(Ae){Ge(this,Kn,Ae)}be!==void 0&&(J="success",re=replaceData(O==null?void 0:O.data,be,_),Y=!0)}G(this,Kn)&&(Q=G(this,Kn),re=G(this,qr),ie=Date.now(),J="error");const ce=K.fetchStatus==="fetching",ue=J==="pending",Ee=J==="error",ge=ue&&ce,le=re!==void 0,he={status:J,fetchStatus:K.fetchStatus,isPending:ue,isSuccess:J==="success",isError:Ee,isInitialLoading:ge,isLoading:ge,data:re,dataUpdatedAt:K.dataUpdatedAt,error:Q,errorUpdatedAt:ie,failureCount:K.fetchFailureCount,failureReason:K.fetchFailureReason,errorUpdateCount:K.errorUpdateCount,isFetched:K.dataUpdateCount>0||K.errorUpdateCount>0,isFetchedAfterMount:K.dataUpdateCount>W.dataUpdateCount||K.errorUpdateCount>W.errorUpdateCount,isFetching:ce,isRefetching:ce&&!ue,isLoadingError:Ee&&!le,isPaused:K.fetchStatus==="paused",isPlaceholderData:Y,isRefetchError:Ee&&le,isStale:isStale(w,_),refetch:this.refetch,promise:G(this,hr)};if(this.options.experimental_prefetchInRender){const be=we=>{he.status==="error"?we.reject(he.error):he.data!==void 0&&we.resolve(he.data)},Ae=()=>{const we=Ge(this,hr,he.promise=pendingThenable());be(we)},xe=G(this,hr);switch(xe.status){case"pending":w.queryHash===A.queryHash&&be(xe);break;case"fulfilled":(he.status==="error"||he.data!==xe.value)&&Ae();break;case"rejected":(he.status!=="error"||he.error!==xe.reason)&&Ae();break}}return he}updateResult(w){const _=G(this,kn),A=this.createResult(G(this,Ys),this.options);if(Ge(this,jr,G(this,Ys).state),Ge(this,Hr,this.options),G(this,jr).data!==void 0&&Ge(this,Vr,G(this,Ys)),shallowEqualObjects(A,_))return;Ge(this,kn,A);const $={},O=()=>{if(!_)return!0;const{notifyOnChangeProps:B}=this.options,q=typeof B=="function"?B():B;if(q==="all"||!q&&!G(this,Wr).size)return!0;const H=new Set(q??G(this,Wr));return this.options.throwOnError&&H.add("error"),Object.keys(G(this,kn)).some(W=>{const V=W;return G(this,kn)[V]!==_[V]&&H.has(V)})};(w==null?void 0:w.listeners)!==!1&&O()&&($.listeners=!0),Ve(this,rn,ao).call(this,{...$,...w})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ve(this,rn,Wi).call(this)}},Nn=new WeakMap,Ys=new WeakMap,ii=new WeakMap,kn=new WeakMap,jr=new WeakMap,Hr=new WeakMap,hr=new WeakMap,Kn=new WeakMap,ai=new WeakMap,qr=new WeakMap,Vr=new WeakMap,Rr=new WeakMap,_r=new WeakMap,pr=new WeakMap,Wr=new WeakMap,rn=new WeakSet,Xr=function(w){Ve(this,rn,Xi).call(this);let _=G(this,Ys).fetch(this.options,w);return w!=null&&w.throwOnError||(_=_.catch(noop$3)),_},Hi=function(){Ve(this,rn,Gi).call(this);const w=resolveStaleTime(this.options.staleTime,G(this,Ys));if(isServer||G(this,kn).isStale||!isValidTimeout(w))return;const A=timeUntilStale(G(this,kn).dataUpdatedAt,w)+1;Ge(this,Rr,setTimeout(()=>{G(this,kn).isStale||this.updateResult()},A))},qi=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,Ys)):this.options.refetchInterval)??!1},Vi=function(w){Ve(this,rn,Ki).call(this),Ge(this,pr,w),!(isServer||resolveEnabled(this.options.enabled,G(this,Ys))===!1||!isValidTimeout(G(this,pr))||G(this,pr)===0)&&Ge(this,_r,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&Ve(this,rn,Xr).call(this)},G(this,pr)))},Wi=function(){Ve(this,rn,Hi).call(this),Ve(this,rn,Vi).call(this,Ve(this,rn,qi).call(this))},Gi=function(){G(this,Rr)&&(clearTimeout(G(this,Rr)),Ge(this,Rr,void 0))},Ki=function(){G(this,_r)&&(clearInterval(G(this,_r)),Ge(this,_r,void 0))},Xi=function(){const w=G(this,Nn).getQueryCache().build(G(this,Nn),this.options);if(w===G(this,Ys))return;const _=G(this,Ys);Ge(this,Ys,w),Ge(this,ii,w.state),this.hasListeners()&&(_==null||_.removeObserver(this),w.addObserver(this))},ao=function(w){notifyManager.batch(()=>{w.listeners&&this.listeners.forEach(_=>{_(G(this,kn))}),G(this,Nn).getQueryCache().notify({query:G(this,Ys),type:"observerResultsUpdated"})})},ro);function shouldLoadOnMount(R,w){return resolveEnabled(w.enabled,R)!==!1&&R.state.data===void 0&&!(R.state.status==="error"&&w.retryOnMount===!1)}function shouldFetchOnMount(R,w){return shouldLoadOnMount(R,w)||R.state.data!==void 0&&shouldFetchOn(R,w,w.refetchOnMount)}function shouldFetchOn(R,w,_){if(resolveEnabled(w.enabled,R)!==!1){const A=typeof _=="function"?_(R):_;return A==="always"||A!==!1&&isStale(R,w)}return!1}function shouldFetchOptionally(R,w,_,A){return(R!==w||resolveEnabled(A.enabled,R)===!1)&&(!_.suspense||R.state.status!=="error")&&isStale(R,_)}function isStale(R,w){return resolveEnabled(w.enabled,R)!==!1&&R.isStaleByTime(resolveStaleTime(w.staleTime,R))}function shouldAssignObserverCurrentProperties(R,w){return!shallowEqualObjects(R.getCurrentResult(),w)}var mr,fr,Mn,Qn,Zn,fi,Yi,io,MutationObserver$1=(io=class extends Subscribable{constructor(_,A){super();Ye(this,Zn);Ye(this,mr);Ye(this,fr);Ye(this,Mn);Ye(this,Qn);Ge(this,mr,_),this.setOptions(A),this.bindMethods(),Ve(this,Zn,fi).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(_){var $;const A=this.options;this.options=G(this,mr).defaultMutationOptions(_),shallowEqualObjects(this.options,A)||G(this,mr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,Mn),observer:this}),A!=null&&A.mutationKey&&this.options.mutationKey&&hashKey(A.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():(($=G(this,Mn))==null?void 0:$.state.status)==="pending"&&G(this,Mn).setOptions(this.options)}onUnsubscribe(){var _;this.hasListeners()||(_=G(this,Mn))==null||_.removeObserver(this)}onMutationUpdate(_){Ve(this,Zn,fi).call(this),Ve(this,Zn,Yi).call(this,_)}getCurrentResult(){return G(this,fr)}reset(){var _;(_=G(this,Mn))==null||_.removeObserver(this),Ge(this,Mn,void 0),Ve(this,Zn,fi).call(this),Ve(this,Zn,Yi).call(this)}mutate(_,A){var $;return Ge(this,Qn,A),($=G(this,Mn))==null||$.removeObserver(this),Ge(this,Mn,G(this,mr).getMutationCache().build(G(this,mr),this.options)),G(this,Mn).addObserver(this),G(this,Mn).execute(_)}},mr=new WeakMap,fr=new WeakMap,Mn=new WeakMap,Qn=new WeakMap,Zn=new WeakSet,fi=function(){var A;const _=((A=G(this,Mn))==null?void 0:A.state)??getDefaultState();Ge(this,fr,{..._,isPending:_.status==="pending",isSuccess:_.status==="success",isError:_.status==="error",isIdle:_.status==="idle",mutate:this.mutate,reset:this.reset})},Yi=function(_){notifyManager.batch(()=>{var A,$,O,B,q,H,W,V;if(G(this,Qn)&&this.hasListeners()){const K=G(this,fr).variables,Y=G(this,fr).context;(_==null?void 0:_.type)==="success"?(($=(A=G(this,Qn)).onSuccess)==null||$.call(A,_.data,K,Y),(B=(O=G(this,Qn)).onSettled)==null||B.call(O,_.data,null,K,Y)):(_==null?void 0:_.type)==="error"&&((H=(q=G(this,Qn)).onError)==null||H.call(q,_.error,K,Y),(V=(W=G(this,Qn)).onSettled)==null||V.call(W,void 0,_.error,K,Y))}this.listeners.forEach(K=>{K(G(this,fr))})})},io),QueryClientContext=reactExports.createContext(void 0),useQueryClient=R=>{const w=reactExports.useContext(QueryClientContext);if(!w)throw new Error("No QueryClient set, use QueryClientProvider to set one");return w},QueryClientProvider=({client:R,children:w})=>(reactExports.useEffect(()=>(R.mount(),()=>{R.unmount()}),[R]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:R,children:w})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let R=!1;return{clearReset:()=>{R=!1},reset:()=>{R=!0},isReset:()=>R}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(R,w){return typeof R=="function"?R(...w):!!R}function noop$2(){}var ensurePreventErrorBoundaryRetry=(R,w)=>{(R.suspense||R.throwOnError)&&(w.isReset()||(R.retryOnMount=!1))},useClearResetErrorBoundary=R=>{reactExports.useEffect(()=>{R.clearReset()},[R])},getHasError=({result:R,errorResetBoundary:w,throwOnError:_,query:A})=>R.isError&&!w.isReset()&&!R.isFetching&&A&&shouldThrowError(_,[R.error,A]),ensureSuspenseTimers=R=>{R.suspense&&(R.staleTime===void 0&&(R.staleTime=1e3),typeof R.gcTime=="number"&&(R.gcTime=Math.max(R.gcTime,1e3)))},willFetch=(R,w)=>R.isLoading&&R.isFetching&&!w,shouldSuspend=(R,w)=>(R==null?void 0:R.suspense)&&w.isPending,fetchOptimistic=(R,w,_)=>w.fetchOptimistic(R).catch(()=>{_.clearReset()});function useBaseQuery(R,w,_){var V,K,Y,re,Q;const A=useQueryClient(),$=useIsRestoring(),O=useQueryErrorResetBoundary(),B=A.defaultQueryOptions(R);(K=(V=A.getDefaultOptions().queries)==null?void 0:V._experimental_beforeQuery)==null||K.call(V,B),B._optimisticResults=$?"isRestoring":"optimistic",ensureSuspenseTimers(B),ensurePreventErrorBoundaryRetry(B,O),useClearResetErrorBoundary(O);const q=!A.getQueryCache().get(B.queryHash),[H]=reactExports.useState(()=>new w(A,B)),W=H.getOptimisticResult(B);if(reactExports.useSyncExternalStore(reactExports.useCallback(ie=>{const J=$?()=>{}:H.subscribe(notifyManager.batchCalls(ie));return H.updateResult(),J},[H,$]),()=>H.getCurrentResult(),()=>H.getCurrentResult()),reactExports.useEffect(()=>{H.setOptions(B,{listeners:!1})},[B,H]),shouldSuspend(B,W))throw fetchOptimistic(B,H,O);if(getHasError({result:W,errorResetBoundary:O,throwOnError:B.throwOnError,query:A.getQueryCache().get(B.queryHash)}))throw W.error;if((re=(Y=A.getDefaultOptions().queries)==null?void 0:Y._experimental_afterQuery)==null||re.call(Y,B,W),B.experimental_prefetchInRender&&!isServer&&willFetch(W,$)){const ie=q?fetchOptimistic(B,H,O):(Q=A.getQueryCache().get(B.queryHash))==null?void 0:Q.promise;ie==null||ie.catch(noop$2).finally(()=>{H.updateResult()})}return B.notifyOnChangeProps?W:H.trackResult(W)}function useQuery(R,w){return useBaseQuery(R,QueryObserver)}function useMutation(R,w){const _=useQueryClient(),[A]=reactExports.useState(()=>new MutationObserver$1(_,R));reactExports.useEffect(()=>{A.setOptions(R)},[A,R]);const $=reactExports.useSyncExternalStore(reactExports.useCallback(B=>A.subscribe(notifyManager.batchCalls(B)),[A]),()=>A.getCurrentResult(),()=>A.getCurrentResult()),O=reactExports.useCallback((B,q)=>{A.mutate(B,q).catch(noop$2)},[A]);if($.error&&shouldThrowError(A.options.throwOnError,[$.error]))throw $.error;return{...$,mutate:O,mutateAsync:$.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(R){for(var w=1;w<arguments.length;w++){var _=arguments[w];for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(R[A]=_[A])}return R},_extends$2.apply(this,arguments)}var Action;(function(R){R.Pop="POP",R.Push="PUSH",R.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(R){R===void 0&&(R={});function w(A,$){let{pathname:O,search:B,hash:q}=A.location;return createLocation("",{pathname:O,search:B,hash:q},$.state&&$.state.usr||null,$.state&&$.state.key||"default")}function _(A,$){return typeof $=="string"?$:createPath($)}return getUrlBasedHistory(w,_,null,R)}function invariant(R,w){if(R===!1||R===null||typeof R>"u")throw new Error(w)}function warning(R,w){if(!R){typeof console<"u"&&console.warn(w);try{throw new Error(w)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(R,w){return{usr:R.state,key:R.key,idx:w}}function createLocation(R,w,_,A){return _===void 0&&(_=null),_extends$2({pathname:typeof R=="string"?R:R.pathname,search:"",hash:""},typeof w=="string"?parsePath(w):w,{state:_,key:w&&w.key||A||createKey()})}function createPath(R){let{pathname:w="/",search:_="",hash:A=""}=R;return _&&_!=="?"&&(w+=_.charAt(0)==="?"?_:"?"+_),A&&A!=="#"&&(w+=A.charAt(0)==="#"?A:"#"+A),w}function parsePath(R){let w={};if(R){let _=R.indexOf("#");_>=0&&(w.hash=R.substr(_),R=R.substr(0,_));let A=R.indexOf("?");A>=0&&(w.search=R.substr(A),R=R.substr(0,A)),R&&(w.pathname=R)}return w}function getUrlBasedHistory(R,w,_,A){A===void 0&&(A={});let{window:$=document.defaultView,v5Compat:O=!1}=A,B=$.history,q=Action.Pop,H=null,W=V();W==null&&(W=0,B.replaceState(_extends$2({},B.state,{idx:W}),""));function V(){return(B.state||{idx:null}).idx}function K(){q=Action.Pop;let J=V(),ce=J==null?null:J-W;W=J,H&&H({action:q,location:ie.location,delta:ce})}function Y(J,ce){q=Action.Push;let ue=createLocation(ie.location,J,ce);W=V()+1;let Ee=getHistoryState(ue,W),ge=ie.createHref(ue);try{B.pushState(Ee,"",ge)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;$.location.assign(ge)}O&&H&&H({action:q,location:ie.location,delta:1})}function re(J,ce){q=Action.Replace;let ue=createLocation(ie.location,J,ce);W=V();let Ee=getHistoryState(ue,W),ge=ie.createHref(ue);B.replaceState(Ee,"",ge),O&&H&&H({action:q,location:ie.location,delta:0})}function Q(J){let ce=$.location.origin!=="null"?$.location.origin:$.location.href,ue=typeof J=="string"?J:createPath(J);return ue=ue.replace(/ $/,"%20"),invariant(ce,"No window.location.(origin|href) available to create URL for href: "+ue),new URL(ue,ce)}let ie={get action(){return q},get location(){return R($,B)},listen(J){if(H)throw new Error("A history only accepts one active listener");return $.addEventListener(PopStateEventType,K),H=J,()=>{$.removeEventListener(PopStateEventType,K),H=null}},createHref(J){return w($,J)},createURL:Q,encodeLocation(J){let ce=Q(J);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:Y,replace:re,go(J){return B.go(J)}};return ie}var ResultType;(function(R){R.data="data",R.deferred="deferred",R.redirect="redirect",R.error="error"})(ResultType||(ResultType={}));function matchRoutes(R,w,_){return _===void 0&&(_="/"),matchRoutesImpl(R,w,_,!1)}function matchRoutesImpl(R,w,_,A){let $=typeof w=="string"?parsePath(w):w,O=stripBasename($.pathname||"/",_);if(O==null)return null;let B=flattenRoutes(R);rankRouteBranches(B);let q=null;for(let H=0;q==null&&H<B.length;++H){let W=decodePath(O);q=matchRouteBranch(B[H],W,A)}return q}function flattenRoutes(R,w,_,A){w===void 0&&(w=[]),_===void 0&&(_=[]),A===void 0&&(A="");let $=(O,B,q)=>{let H={relativePath:q===void 0?O.path||"":q,caseSensitive:O.caseSensitive===!0,childrenIndex:B,route:O};H.relativePath.startsWith("/")&&(invariant(H.relativePath.startsWith(A),'Absolute route path "'+H.relativePath+'" nested under path '+('"'+A+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),H.relativePath=H.relativePath.slice(A.length));let W=joinPaths([A,H.relativePath]),V=_.concat(H);O.children&&O.children.length>0&&(invariant(O.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+W+'".')),flattenRoutes(O.children,w,V,W)),!(O.path==null&&!O.index)&&w.push({path:W,score:computeScore(W,O.index),routesMeta:V})};return R.forEach((O,B)=>{var q;if(O.path===""||!((q=O.path)!=null&&q.includes("?")))$(O,B);else for(let H of explodeOptionalSegments(O.path))$(O,B,H)}),w}function explodeOptionalSegments(R){let w=R.split("/");if(w.length===0)return[];let[_,...A]=w,$=_.endsWith("?"),O=_.replace(/\?$/,"");if(A.length===0)return $?[O,""]:[O];let B=explodeOptionalSegments(A.join("/")),q=[];return q.push(...B.map(H=>H===""?O:[O,H].join("/"))),$&&q.push(...B),q.map(H=>R.startsWith("/")&&H===""?"/":H)}function rankRouteBranches(R){R.sort((w,_)=>w.score!==_.score?_.score-w.score:compareIndexes(w.routesMeta.map(A=>A.childrenIndex),_.routesMeta.map(A=>A.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=R=>R==="*";function computeScore(R,w){let _=R.split("/"),A=_.length;return _.some(isSplat)&&(A+=splatPenalty),w&&(A+=indexRouteValue),_.filter($=>!isSplat($)).reduce(($,O)=>$+(paramRe.test(O)?dynamicSegmentValue:O===""?emptySegmentValue:staticSegmentValue),A)}function compareIndexes(R,w){return R.length===w.length&&R.slice(0,-1).every((A,$)=>A===w[$])?R[R.length-1]-w[w.length-1]:0}function matchRouteBranch(R,w,_){let{routesMeta:A}=R,$={},O="/",B=[];for(let q=0;q<A.length;++q){let H=A[q],W=q===A.length-1,V=O==="/"?w:w.slice(O.length)||"/",K=matchPath({path:H.relativePath,caseSensitive:H.caseSensitive,end:W},V),Y=H.route;if(!K&&W&&_&&!A[A.length-1].route.index&&(K=matchPath({path:H.relativePath,caseSensitive:H.caseSensitive,end:!1},V)),!K)return null;Object.assign($,K.params),B.push({params:$,pathname:joinPaths([O,K.pathname]),pathnameBase:normalizePathname(joinPaths([O,K.pathnameBase])),route:Y}),K.pathnameBase!=="/"&&(O=joinPaths([O,K.pathnameBase]))}return B}function matchPath(R,w){typeof R=="string"&&(R={path:R,caseSensitive:!1,end:!0});let[_,A]=compilePath(R.path,R.caseSensitive,R.end),$=w.match(_);if(!$)return null;let O=$[0],B=O.replace(/(.)\/+$/,"$1"),q=$.slice(1);return{params:A.reduce((W,V,K)=>{let{paramName:Y,isOptional:re}=V;if(Y==="*"){let ie=q[K]||"";B=O.slice(0,O.length-ie.length).replace(/(.)\/+$/,"$1")}const Q=q[K];return re&&!Q?W[Y]=void 0:W[Y]=(Q||"").replace(/%2F/g,"/"),W},{}),pathname:O,pathnameBase:B,pattern:R}}function compilePath(R,w,_){w===void 0&&(w=!1),_===void 0&&(_=!0),warning(R==="*"||!R.endsWith("*")||R.endsWith("/*"),'Route path "'+R+'" will be treated as if it were '+('"'+R.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+R.replace(/\*$/,"/*")+'".'));let A=[],$="^"+R.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(B,q,H)=>(A.push({paramName:q,isOptional:H!=null}),H?"/?([^\\/]+)?":"/([^\\/]+)"));return R.endsWith("*")?(A.push({paramName:"*"}),$+=R==="*"||R==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_?$+="\\/*$":R!==""&&R!=="/"&&($+="(?:(?=\\/|$))"),[new RegExp($,w?void 0:"i"),A]}function decodePath(R){try{return R.split("/").map(w=>decodeURIComponent(w).replace(/\//g,"%2F")).join("/")}catch(w){return warning(!1,'The URL path "'+R+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+w+").")),R}}function stripBasename(R,w){if(w==="/")return R;if(!R.toLowerCase().startsWith(w.toLowerCase()))return null;let _=w.endsWith("/")?w.length-1:w.length,A=R.charAt(_);return A&&A!=="/"?null:R.slice(_)||"/"}function resolvePath(R,w){w===void 0&&(w="/");let{pathname:_,search:A="",hash:$=""}=typeof R=="string"?parsePath(R):R;return{pathname:_?_.startsWith("/")?_:resolvePathname(_,w):w,search:normalizeSearch(A),hash:normalizeHash($)}}function resolvePathname(R,w){let _=w.replace(/\/+$/,"").split("/");return R.split("/").forEach($=>{$===".."?_.length>1&&_.pop():$!=="."&&_.push($)}),_.length>1?_.join("/"):"/"}function getInvalidPathError(R,w,_,A){return"Cannot include a '"+R+"' character in a manually specified "+("`to."+w+"` field ["+JSON.stringify(A)+"].  Please separate it out to the ")+("`to."+_+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(R){return R.filter((w,_)=>_===0||w.route.path&&w.route.path.length>0)}function getResolveToMatches(R,w){let _=getPathContributingMatches(R);return w?_.map((A,$)=>$===_.length-1?A.pathname:A.pathnameBase):_.map(A=>A.pathnameBase)}function resolveTo(R,w,_,A){A===void 0&&(A=!1);let $;typeof R=="string"?$=parsePath(R):($=_extends$2({},R),invariant(!$.pathname||!$.pathname.includes("?"),getInvalidPathError("?","pathname","search",$)),invariant(!$.pathname||!$.pathname.includes("#"),getInvalidPathError("#","pathname","hash",$)),invariant(!$.search||!$.search.includes("#"),getInvalidPathError("#","search","hash",$)));let O=R===""||$.pathname==="",B=O?"/":$.pathname,q;if(B==null)q=_;else{let K=w.length-1;if(!A&&B.startsWith("..")){let Y=B.split("/");for(;Y[0]==="..";)Y.shift(),K-=1;$.pathname=Y.join("/")}q=K>=0?w[K]:"/"}let H=resolvePath($,q),W=B&&B!=="/"&&B.endsWith("/"),V=(O||B===".")&&_.endsWith("/");return!H.pathname.endsWith("/")&&(W||V)&&(H.pathname+="/"),H}const joinPaths=R=>R.join("/").replace(/\/\/+/g,"/"),normalizePathname=R=>R.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=R=>!R||R==="?"?"":R.startsWith("?")?R:"?"+R,normalizeHash=R=>!R||R==="#"?"":R.startsWith("#")?R:"#"+R;function isRouteErrorResponse(R){return R!=null&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.internal=="boolean"&&"data"in R}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(R){for(var w=1;w<arguments.length;w++){var _=arguments[w];for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(R[A]=_[A])}return R},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(R,w){let{relative:_}=w===void 0?{}:w;useInRouterContext()||invariant(!1);let{basename:A,navigator:$}=reactExports.useContext(NavigationContext),{hash:O,pathname:B,search:q}=useResolvedPath(R,{relative:_}),H=B;return A!=="/"&&(H=B==="/"?A:joinPaths([A,B])),$.createHref({pathname:H,search:q,hash:O})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(R){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(R)}function useNavigate(){let{isDataRoute:R}=reactExports.useContext(RouteContext);return R?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let R=reactExports.useContext(DataRouterContext),{basename:w,future:_,navigator:A}=reactExports.useContext(NavigationContext),{matches:$}=reactExports.useContext(RouteContext),{pathname:O}=useLocation(),B=JSON.stringify(getResolveToMatches($,_.v7_relativeSplatPath)),q=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{q.current=!0}),reactExports.useCallback(function(W,V){if(V===void 0&&(V={}),!q.current)return;if(typeof W=="number"){A.go(W);return}let K=resolveTo(W,JSON.parse(B),O,V.relative==="path");R==null&&w!=="/"&&(K.pathname=K.pathname==="/"?w:joinPaths([w,K.pathname])),(V.replace?A.replace:A.push)(K,V.state,V)},[w,A,B,O,R])}function useParams(){let{matches:R}=reactExports.useContext(RouteContext),w=R[R.length-1];return w?w.params:{}}function useResolvedPath(R,w){let{relative:_}=w===void 0?{}:w,{future:A}=reactExports.useContext(NavigationContext),{matches:$}=reactExports.useContext(RouteContext),{pathname:O}=useLocation(),B=JSON.stringify(getResolveToMatches($,A.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(R,JSON.parse(B),O,_==="path"),[R,B,O,_])}function useRoutes(R,w){return useRoutesImpl(R,w)}function useRoutesImpl(R,w,_,A){useInRouterContext()||invariant(!1);let{navigator:$}=reactExports.useContext(NavigationContext),{matches:O}=reactExports.useContext(RouteContext),B=O[O.length-1],q=B?B.params:{};B&&B.pathname;let H=B?B.pathnameBase:"/";B&&B.route;let W=useLocation(),V;if(w){var K;let J=typeof w=="string"?parsePath(w):w;H==="/"||(K=J.pathname)!=null&&K.startsWith(H)||invariant(!1),V=J}else V=W;let Y=V.pathname||"/",re=Y;if(H!=="/"){let J=H.replace(/^\//,"").split("/");re="/"+Y.replace(/^\//,"").split("/").slice(J.length).join("/")}let Q=matchRoutes(R,{pathname:re}),ie=_renderMatches(Q&&Q.map(J=>Object.assign({},J,{params:Object.assign({},q,J.params),pathname:joinPaths([H,$.encodeLocation?$.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?H:joinPaths([H,$.encodeLocation?$.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),O,_,A);return w&&ie?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},V),navigationType:Action.Pop}},ie):ie}function DefaultErrorComponent(){let R=useRouteError(),w=isRouteErrorResponse(R)?R.status+" "+R.statusText:R instanceof Error?R.message:JSON.stringify(R),_=R instanceof Error?R.stack:null,$={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},w),_?reactExports.createElement("pre",{style:$},_):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(w){super(w),this.state={location:w.location,revalidation:w.revalidation,error:w.error}}static getDerivedStateFromError(w){return{error:w}}static getDerivedStateFromProps(w,_){return _.location!==w.location||_.revalidation!=="idle"&&w.revalidation==="idle"?{error:w.error,location:w.location,revalidation:w.revalidation}:{error:w.error!==void 0?w.error:_.error,location:_.location,revalidation:w.revalidation||_.revalidation}}componentDidCatch(w,_){console.error("React Router caught the following error during render",w,_)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(R){let{routeContext:w,match:_,children:A}=R,$=reactExports.useContext(DataRouterContext);return $&&$.static&&$.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&($.staticContext._deepestRenderedBoundaryId=_.route.id),reactExports.createElement(RouteContext.Provider,{value:w},A)}function _renderMatches(R,w,_,A){var $;if(w===void 0&&(w=[]),_===void 0&&(_=null),A===void 0&&(A=null),R==null){var O;if(!_)return null;if(_.errors)R=_.matches;else if((O=A)!=null&&O.v7_partialHydration&&w.length===0&&!_.initialized&&_.matches.length>0)R=_.matches;else return null}let B=R,q=($=_)==null?void 0:$.errors;if(q!=null){let V=B.findIndex(K=>K.route.id&&(q==null?void 0:q[K.route.id])!==void 0);V>=0||invariant(!1),B=B.slice(0,Math.min(B.length,V+1))}let H=!1,W=-1;if(_&&A&&A.v7_partialHydration)for(let V=0;V<B.length;V++){let K=B[V];if((K.route.HydrateFallback||K.route.hydrateFallbackElement)&&(W=V),K.route.id){let{loaderData:Y,errors:re}=_,Q=K.route.loader&&Y[K.route.id]===void 0&&(!re||re[K.route.id]===void 0);if(K.route.lazy||Q){H=!0,W>=0?B=B.slice(0,W+1):B=[B[0]];break}}}return B.reduceRight((V,K,Y)=>{let re,Q=!1,ie=null,J=null;_&&(re=q&&K.route.id?q[K.route.id]:void 0,ie=K.route.errorElement||defaultErrorElement,H&&(W<0&&Y===0?(Q=!0,J=null):W===Y&&(Q=!0,J=K.route.hydrateFallbackElement||null)));let ce=w.concat(B.slice(0,Y+1)),ue=()=>{let Ee;return re?Ee=ie:Q?Ee=J:K.route.Component?Ee=reactExports.createElement(K.route.Component,null):K.route.element?Ee=K.route.element:Ee=V,reactExports.createElement(RenderedRoute,{match:K,routeContext:{outlet:V,matches:ce,isDataRoute:_!=null},children:Ee})};return _&&(K.route.ErrorBoundary||K.route.errorElement||Y===0)?reactExports.createElement(RenderErrorBoundary,{location:_.location,revalidation:_.revalidation,component:ie,error:re,children:ue(),routeContext:{outlet:null,matches:ce,isDataRoute:!0}}):ue()},null)}var DataRouterHook$1=function(R){return R.UseBlocker="useBlocker",R.UseRevalidator="useRevalidator",R.UseNavigateStable="useNavigate",R}(DataRouterHook$1||{}),DataRouterStateHook$1=function(R){return R.UseBlocker="useBlocker",R.UseLoaderData="useLoaderData",R.UseActionData="useActionData",R.UseRouteError="useRouteError",R.UseNavigation="useNavigation",R.UseRouteLoaderData="useRouteLoaderData",R.UseMatches="useMatches",R.UseRevalidator="useRevalidator",R.UseNavigateStable="useNavigate",R.UseRouteId="useRouteId",R}(DataRouterStateHook$1||{});function useDataRouterContext(R){let w=reactExports.useContext(DataRouterContext);return w||invariant(!1),w}function useDataRouterState(R){let w=reactExports.useContext(DataRouterStateContext);return w||invariant(!1),w}function useRouteContext(R){let w=reactExports.useContext(RouteContext);return w||invariant(!1),w}function useCurrentRouteId(R){let w=useRouteContext(),_=w.matches[w.matches.length-1];return _.route.id||invariant(!1),_.route.id}function useRouteError(){var R;let w=reactExports.useContext(RouteErrorContext),_=useDataRouterState(DataRouterStateHook$1.UseRouteError),A=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return w!==void 0?w:(R=_.errors)==null?void 0:R[A]}function useNavigateStable(){let{router:R}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),w=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_.current=!0}),reactExports.useCallback(function($,O){O===void 0&&(O={}),_.current&&(typeof $=="number"?R.navigate($):R.navigate($,_extends$1({fromRouteId:w},O)))},[R,w])}function Route(R){invariant(!1)}function Router(R){let{basename:w="/",children:_=null,location:A,navigationType:$=Action.Pop,navigator:O,static:B=!1,future:q}=R;useInRouterContext()&&invariant(!1);let H=w.replace(/^\/*/,"/"),W=reactExports.useMemo(()=>({basename:H,navigator:O,static:B,future:_extends$1({v7_relativeSplatPath:!1},q)}),[H,q,O,B]);typeof A=="string"&&(A=parsePath(A));let{pathname:V="/",search:K="",hash:Y="",state:re=null,key:Q="default"}=A,ie=reactExports.useMemo(()=>{let J=stripBasename(V,H);return J==null?null:{location:{pathname:J,search:K,hash:Y,state:re,key:Q},navigationType:$}},[H,V,K,Y,re,Q,$]);return ie==null?null:reactExports.createElement(NavigationContext.Provider,{value:W},reactExports.createElement(LocationContext.Provider,{children:_,value:ie}))}function Routes(R){let{children:w,location:_}=R;return useRoutes(createRoutesFromChildren(w),_)}new Promise(()=>{});function createRoutesFromChildren(R,w){w===void 0&&(w=[]);let _=[];return reactExports.Children.forEach(R,(A,$)=>{if(!reactExports.isValidElement(A))return;let O=[...w,$];if(A.type===reactExports.Fragment){_.push.apply(_,createRoutesFromChildren(A.props.children,O));return}A.type!==Route&&invariant(!1),!A.props.index||!A.props.children||invariant(!1);let B={id:A.props.id||O.join("-"),caseSensitive:A.props.caseSensitive,element:A.props.element,Component:A.props.Component,index:A.props.index,path:A.props.path,loader:A.props.loader,action:A.props.action,errorElement:A.props.errorElement,ErrorBoundary:A.props.ErrorBoundary,hasErrorBoundary:A.props.ErrorBoundary!=null||A.props.errorElement!=null,shouldRevalidate:A.props.shouldRevalidate,handle:A.props.handle,lazy:A.props.lazy};A.props.children&&(B.children=createRoutesFromChildren(A.props.children,O)),_.push(B)}),_}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(R){for(var w=1;w<arguments.length;w++){var _=arguments[w];for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(R[A]=_[A])}return R},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(R,w){if(R==null)return{};var _={},A=Object.keys(R),$,O;for(O=0;O<A.length;O++)$=A[O],!(w.indexOf($)>=0)&&(_[$]=R[$]);return _}function isModifiedEvent(R){return!!(R.metaKey||R.altKey||R.ctrlKey||R.shiftKey)}function shouldProcessLinkClick(R,w){return R.button===0&&(!w||w==="_self")&&!isModifiedEvent(R)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(R){let{basename:w,children:_,future:A,window:$}=R,O=reactExports.useRef();O.current==null&&(O.current=createBrowserHistory({window:$,v5Compat:!0}));let B=O.current,[q,H]=reactExports.useState({action:B.action,location:B.location}),{v7_startTransition:W}=A||{},V=reactExports.useCallback(K=>{W&&startTransitionImpl?startTransitionImpl(()=>H(K)):H(K)},[H,W]);return reactExports.useLayoutEffect(()=>B.listen(V),[B,V]),reactExports.createElement(Router,{basename:w,children:_,location:q.location,navigationType:q.action,navigator:B,future:A})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(w,_){let{onClick:A,relative:$,reloadDocument:O,replace:B,state:q,target:H,to:W,preventScrollReset:V,viewTransition:K}=w,Y=_objectWithoutPropertiesLoose(w,_excluded),{basename:re}=reactExports.useContext(NavigationContext),Q,ie=!1;if(typeof W=="string"&&ABSOLUTE_URL_REGEX.test(W)&&(Q=W,isBrowser$1))try{let Ee=new URL(window.location.href),ge=W.startsWith("//")?new URL(Ee.protocol+W):new URL(W),le=stripBasename(ge.pathname,re);ge.origin===Ee.origin&&le!=null?W=le+ge.search+ge.hash:ie=!0}catch{}let J=useHref(W,{relative:$}),ce=useLinkClickHandler(W,{replace:B,state:q,target:H,preventScrollReset:V,relative:$,viewTransition:K});function ue(Ee){A&&A(Ee),Ee.defaultPrevented||ce(Ee)}return reactExports.createElement("a",_extends({},Y,{href:Q||J,onClick:ie||O?A:ue,ref:_,target:H}))});var DataRouterHook;(function(R){R.UseScrollRestoration="useScrollRestoration",R.UseSubmit="useSubmit",R.UseSubmitFetcher="useSubmitFetcher",R.UseFetcher="useFetcher",R.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(R){R.UseFetcher="useFetcher",R.UseFetchers="useFetchers",R.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(R,w){let{target:_,replace:A,state:$,preventScrollReset:O,relative:B,viewTransition:q}=w===void 0?{}:w,H=useNavigate(),W=useLocation(),V=useResolvedPath(R,{relative:B});return reactExports.useCallback(K=>{if(shouldProcessLinkClick(K,_)){K.preventDefault();let Y=A!==void 0?A:createPath(W)===createPath(V);H(R,{replace:Y,state:$,preventScrollReset:O,relative:B,viewTransition:q})}},[W,H,V,A,$,_,R,O,B,q])}const scriptRel="modulepreload",assetsURL=function(R){return"/"+R},seen={},__vitePreload=function(w,_,A){let $=Promise.resolve();if(_&&_.length>0){document.getElementsByTagName("link");const B=document.querySelector("meta[property=csp-nonce]"),q=(B==null?void 0:B.nonce)||(B==null?void 0:B.getAttribute("nonce"));$=Promise.allSettled(_.map(H=>{if(H=assetsURL(H),H in seen)return;seen[H]=!0;const W=H.endsWith(".css"),V=W?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${H}"]${V}`))return;const K=document.createElement("link");if(K.rel=W?"stylesheet":scriptRel,W||(K.as="script"),K.crossOrigin="",K.href=H,q&&K.setAttribute("nonce",q),document.head.appendChild(K),W)return new Promise((Y,re)=>{K.addEventListener("load",Y),K.addEventListener("error",()=>re(new Error(`Unable to preload CSS for ${H}`)))})}))}function O(B){const q=new Event("vite:preloadError",{cancelable:!0});if(q.payload=B,window.dispatchEvent(q),!q.defaultPrevented)throw B}return $.then(B=>{for(const q of B||[])q.status==="rejected"&&O(q.reason);return w().catch(O)})},resolveFetch$3=R=>{let w;return R?w=R:typeof fetch>"u"?w=(..._)=>__vitePreload(async()=>{const{default:A}=await Promise.resolve().then(()=>browser);return{default:A}},void 0).then(({default:A})=>A(..._)):w=fetch,(..._)=>w(..._)};class FunctionsError extends Error{constructor(w,_="FunctionsError",A){super(w),this.name=_,this.context=A}}class FunctionsFetchError extends FunctionsError{constructor(w){super("Failed to send a request to the Edge Function","FunctionsFetchError",w)}}class FunctionsRelayError extends FunctionsError{constructor(w){super("Relay Error invoking the Edge Function","FunctionsRelayError",w)}}class FunctionsHttpError extends FunctionsError{constructor(w){super("Edge Function returned a non-2xx status code","FunctionsHttpError",w)}}var FunctionRegion;(function(R){R.Any="any",R.ApNortheast1="ap-northeast-1",R.ApNortheast2="ap-northeast-2",R.ApSouth1="ap-south-1",R.ApSoutheast1="ap-southeast-1",R.ApSoutheast2="ap-southeast-2",R.CaCentral1="ca-central-1",R.EuCentral1="eu-central-1",R.EuWest1="eu-west-1",R.EuWest2="eu-west-2",R.EuWest3="eu-west-3",R.SaEast1="sa-east-1",R.UsEast1="us-east-1",R.UsWest1="us-west-1",R.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$7=function(R,w,_,A){function $(O){return O instanceof _?O:new _(function(B){B(O)})}return new(_||(_=Promise))(function(O,B){function q(V){try{W(A.next(V))}catch(K){B(K)}}function H(V){try{W(A.throw(V))}catch(K){B(K)}}function W(V){V.done?O(V.value):$(V.value).then(q,H)}W((A=A.apply(R,w||[])).next())})};class FunctionsClient{constructor(w,{headers:_={},customFetch:A,region:$=FunctionRegion.Any}={}){this.url=w,this.headers=_,this.region=$,this.fetch=resolveFetch$3(A)}setAuth(w){this.headers.Authorization=`Bearer ${w}`}invoke(w,_={}){var A;return __awaiter$7(this,void 0,void 0,function*(){try{const{headers:$,method:O,body:B}=_;let q={},{region:H}=_;H||(H=this.region),H&&H!=="any"&&(q["x-region"]=H);let W;B&&($&&!Object.prototype.hasOwnProperty.call($,"Content-Type")||!$)&&(typeof Blob<"u"&&B instanceof Blob||B instanceof ArrayBuffer?(q["Content-Type"]="application/octet-stream",W=B):typeof B=="string"?(q["Content-Type"]="text/plain",W=B):typeof FormData<"u"&&B instanceof FormData?W=B:(q["Content-Type"]="application/json",W=JSON.stringify(B)));const V=yield this.fetch(`${this.url}/${w}`,{method:O||"POST",headers:Object.assign(Object.assign(Object.assign({},q),this.headers),$),body:W}).catch(Q=>{throw new FunctionsFetchError(Q)}),K=V.headers.get("x-relay-error");if(K&&K==="true")throw new FunctionsRelayError(V);if(!V.ok)throw new FunctionsHttpError(V);let Y=((A=V.headers.get("Content-Type"))!==null&&A!==void 0?A:"text/plain").split(";")[0].trim(),re;return Y==="application/json"?re=yield V.json():Y==="application/octet-stream"?re=yield V.blob():Y==="text/event-stream"?re=V:Y==="multipart/form-data"?re=yield V.formData():re=yield V.text(),{data:re,error:null}}catch($){return{data:null,error:$}}})}}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(w){super(w.message),this.name="PostgrestError",this.details=w.details,this.hint=w.hint,this.code=w.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$5(require$$0),PostgrestError_1$1=__importDefault$5(PostgrestError$2);let PostgrestBuilder$1=class{constructor(w){this.shouldThrowOnError=!1,this.method=w.method,this.url=w.url,this.headers=w.headers,this.schema=w.schema,this.body=w.body,this.shouldThrowOnError=w.shouldThrowOnError,this.signal=w.signal,this.isMaybeSingle=w.isMaybeSingle,w.fetch?this.fetch=w.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(w,_){return this.headers=Object.assign({},this.headers),this.headers[w]=_,this}then(w,_){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const A=this.fetch;let $=A(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async O=>{var B,q,H;let W=null,V=null,K=null,Y=O.status,re=O.statusText;if(O.ok){if(this.method!=="HEAD"){const ce=await O.text();ce===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?V=ce:V=JSON.parse(ce))}const ie=(B=this.headers.Prefer)===null||B===void 0?void 0:B.match(/count=(exact|planned|estimated)/),J=(q=O.headers.get("content-range"))===null||q===void 0?void 0:q.split("/");ie&&J&&J.length>1&&(K=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(V)&&(V.length>1?(W={code:"PGRST116",details:`Results contain ${V.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},V=null,K=null,Y=406,re="Not Acceptable"):V.length===1?V=V[0]:V=null)}else{const ie=await O.text();try{W=JSON.parse(ie),Array.isArray(W)&&O.status===404&&(V=[],W=null,Y=200,re="OK")}catch{O.status===404&&ie===""?(Y=204,re="No Content"):W={message:ie}}if(W&&this.isMaybeSingle&&(!((H=W==null?void 0:W.details)===null||H===void 0)&&H.includes("0 rows"))&&(W=null,Y=200,re="OK"),W&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(W)}return{error:W,data:V,count:K,status:Y,statusText:re}});return this.shouldThrowOnError||($=$.catch(O=>{var B,q,H;return{error:{message:`${(B=O==null?void 0:O.name)!==null&&B!==void 0?B:"FetchError"}: ${O==null?void 0:O.message}`,details:`${(q=O==null?void 0:O.stack)!==null&&q!==void 0?q:""}`,hint:"",code:`${(H=O==null?void 0:O.code)!==null&&H!==void 0?H:""}`},data:null,count:null,status:0,statusText:""}})),$.then(w,_)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$4(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(w){let _=!1;const A=(w??"*").split("").map($=>/\s/.test($)&&!_?"":($==='"'&&(_=!_),$)).join("");return this.url.searchParams.set("select",A),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(w,{ascending:_=!0,nullsFirst:A,foreignTable:$,referencedTable:O=$}={}){const B=O?`${O}.order`:"order",q=this.url.searchParams.get(B);return this.url.searchParams.set(B,`${q?`${q},`:""}${w}.${_?"asc":"desc"}${A===void 0?"":A?".nullsfirst":".nullslast"}`),this}limit(w,{foreignTable:_,referencedTable:A=_}={}){const $=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set($,`${w}`),this}range(w,_,{foreignTable:A,referencedTable:$=A}={}){const O=typeof $>"u"?"offset":`${$}.offset`,B=typeof $>"u"?"limit":`${$}.limit`;return this.url.searchParams.set(O,`${w}`),this.url.searchParams.set(B,`${_-w+1}`),this}abortSignal(w){return this.signal=w,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:w=!1,verbose:_=!1,settings:A=!1,buffers:$=!1,wal:O=!1,format:B="text"}={}){var q;const H=[w?"analyze":null,_?"verbose":null,A?"settings":null,$?"buffers":null,O?"wal":null].filter(Boolean).join("|"),W=(q=this.headers.Accept)!==null&&q!==void 0?q:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${B}; for="${W}"; options=${H};`,B==="json"?this:this}rollback(){var w;return((w=this.headers.Prefer)!==null&&w!==void 0?w:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$3(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(w,_){return this.url.searchParams.append(w,`eq.${_}`),this}neq(w,_){return this.url.searchParams.append(w,`neq.${_}`),this}gt(w,_){return this.url.searchParams.append(w,`gt.${_}`),this}gte(w,_){return this.url.searchParams.append(w,`gte.${_}`),this}lt(w,_){return this.url.searchParams.append(w,`lt.${_}`),this}lte(w,_){return this.url.searchParams.append(w,`lte.${_}`),this}like(w,_){return this.url.searchParams.append(w,`like.${_}`),this}likeAllOf(w,_){return this.url.searchParams.append(w,`like(all).{${_.join(",")}}`),this}likeAnyOf(w,_){return this.url.searchParams.append(w,`like(any).{${_.join(",")}}`),this}ilike(w,_){return this.url.searchParams.append(w,`ilike.${_}`),this}ilikeAllOf(w,_){return this.url.searchParams.append(w,`ilike(all).{${_.join(",")}}`),this}ilikeAnyOf(w,_){return this.url.searchParams.append(w,`ilike(any).{${_.join(",")}}`),this}is(w,_){return this.url.searchParams.append(w,`is.${_}`),this}in(w,_){const A=Array.from(new Set(_)).map($=>typeof $=="string"&&new RegExp("[,()]").test($)?`"${$}"`:`${$}`).join(",");return this.url.searchParams.append(w,`in.(${A})`),this}contains(w,_){return typeof _=="string"?this.url.searchParams.append(w,`cs.${_}`):Array.isArray(_)?this.url.searchParams.append(w,`cs.{${_.join(",")}}`):this.url.searchParams.append(w,`cs.${JSON.stringify(_)}`),this}containedBy(w,_){return typeof _=="string"?this.url.searchParams.append(w,`cd.${_}`):Array.isArray(_)?this.url.searchParams.append(w,`cd.{${_.join(",")}}`):this.url.searchParams.append(w,`cd.${JSON.stringify(_)}`),this}rangeGt(w,_){return this.url.searchParams.append(w,`sr.${_}`),this}rangeGte(w,_){return this.url.searchParams.append(w,`nxl.${_}`),this}rangeLt(w,_){return this.url.searchParams.append(w,`sl.${_}`),this}rangeLte(w,_){return this.url.searchParams.append(w,`nxr.${_}`),this}rangeAdjacent(w,_){return this.url.searchParams.append(w,`adj.${_}`),this}overlaps(w,_){return typeof _=="string"?this.url.searchParams.append(w,`ov.${_}`):this.url.searchParams.append(w,`ov.{${_.join(",")}}`),this}textSearch(w,_,{config:A,type:$}={}){let O="";$==="plain"?O="pl":$==="phrase"?O="ph":$==="websearch"&&(O="w");const B=A===void 0?"":`(${A})`;return this.url.searchParams.append(w,`${O}fts${B}.${_}`),this}match(w){return Object.entries(w).forEach(([_,A])=>{this.url.searchParams.append(_,`eq.${A}`)}),this}not(w,_,A){return this.url.searchParams.append(w,`not.${_}.${A}`),this}or(w,{foreignTable:_,referencedTable:A=_}={}){const $=A?`${A}.or`:"or";return this.url.searchParams.append($,`(${w})`),this}filter(w,_,A){return this.url.searchParams.append(w,`${_}.${A}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$2(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(w,{headers:_={},schema:A,fetch:$}){this.url=w,this.headers=_,this.schema=A,this.fetch=$}select(w,{head:_=!1,count:A}={}){const $=_?"HEAD":"GET";let O=!1;const B=(w??"*").split("").map(q=>/\s/.test(q)&&!O?"":(q==='"'&&(O=!O),q)).join("");return this.url.searchParams.set("select",B),A&&(this.headers.Prefer=`count=${A}`),new PostgrestFilterBuilder_1$2.default({method:$,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(w,{count:_,defaultToNull:A=!0}={}){const $="POST",O=[];if(this.headers.Prefer&&O.push(this.headers.Prefer),_&&O.push(`count=${_}`),A||O.push("missing=default"),this.headers.Prefer=O.join(","),Array.isArray(w)){const B=w.reduce((q,H)=>q.concat(Object.keys(H)),[]);if(B.length>0){const q=[...new Set(B)].map(H=>`"${H}"`);this.url.searchParams.set("columns",q.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:$,url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:this.fetch,allowEmpty:!1})}upsert(w,{onConflict:_,ignoreDuplicates:A=!1,count:$,defaultToNull:O=!0}={}){const B="POST",q=[`resolution=${A?"ignore":"merge"}-duplicates`];if(_!==void 0&&this.url.searchParams.set("on_conflict",_),this.headers.Prefer&&q.push(this.headers.Prefer),$&&q.push(`count=${$}`),O||q.push("missing=default"),this.headers.Prefer=q.join(","),Array.isArray(w)){const H=w.reduce((W,V)=>W.concat(Object.keys(V)),[]);if(H.length>0){const W=[...new Set(H)].map(V=>`"${V}"`);this.url.searchParams.set("columns",W.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:B,url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:this.fetch,allowEmpty:!1})}update(w,{count:_}={}){const A="PATCH",$=[];return this.headers.Prefer&&$.push(this.headers.Prefer),_&&$.push(`count=${_}`),this.headers.Prefer=$.join(","),new PostgrestFilterBuilder_1$2.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:this.fetch,allowEmpty:!1})}delete({count:w}={}){const _="DELETE",A=[];return w&&A.push(`count=${w}`),this.headers.Prefer&&A.unshift(this.headers.Prefer),this.headers.Prefer=A.join(","),new PostgrestFilterBuilder_1$2.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var constants={},version$4={};Object.defineProperty(version$4,"__esModule",{value:!0});version$4.version=void 0;version$4.version="0.0.0-automated";Object.defineProperty(constants,"__esModule",{value:!0});constants.DEFAULT_HEADERS=void 0;const version_1=version$4;constants.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`};var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$1(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$1(PostgrestFilterBuilder$2),constants_1=constants;let PostgrestClient$1=class oo{constructor(w,{headers:_={},schema:A,fetch:$}={}){this.url=w,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),_),this.schemaName=A,this.fetch=$}from(w){const _=new URL(`${this.url}/${w}`);return new PostgrestQueryBuilder_1$1.default(_,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(w){return new oo(this.url,{headers:this.headers,schema:w,fetch:this.fetch})}rpc(w,_={},{head:A=!1,get:$=!1,count:O}={}){let B;const q=new URL(`${this.url}/rpc/${w}`);let H;A||$?(B=A?"HEAD":"GET",Object.entries(_).filter(([V,K])=>K!==void 0).map(([V,K])=>[V,Array.isArray(K)?`{${K.join(",")}}`:`${K}`]).forEach(([V,K])=>{q.searchParams.append(V,K)})):(B="POST",H=_);const W=Object.assign({},this.headers);return O&&(W.Prefer=`count=${O}`),new PostgrestFilterBuilder_1$1.default({method:B,url:q,headers:W,schema:this.schemaName,body:H,fetch:this.fetch,allowEmpty:!1})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default,version$3="2.11.2",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$3}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(R){R[R.connecting=0]="connecting",R[R.open=1]="open",R[R.closing=2]="closing",R[R.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(R){R.closed="closed",R.errored="errored",R.joined="joined",R.joining="joining",R.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(R){R.close="phx_close",R.error="phx_error",R.join="phx_join",R.reply="phx_reply",R.leave="phx_leave",R.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(R){R.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(R){R.Connecting="connecting",R.Open="open",R.Closing="closing",R.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(w,_){return w.constructor===ArrayBuffer?_(this._binaryDecode(w)):_(typeof w=="string"?JSON.parse(w):{})}_binaryDecode(w){const _=new DataView(w),A=new TextDecoder;return this._decodeBroadcast(w,_,A)}_decodeBroadcast(w,_,A){const $=_.getUint8(1),O=_.getUint8(2);let B=this.HEADER_LENGTH+2;const q=A.decode(w.slice(B,B+$));B=B+$;const H=A.decode(w.slice(B,B+O));B=B+O;const W=JSON.parse(A.decode(w.slice(B,w.byteLength)));return{ref:null,topic:q,event:H,payload:W}}}class Timer{constructor(w,_){this.callback=w,this.timerCalc=_,this.timer=void 0,this.tries=0,this.callback=w,this.timerCalc=_}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(R){R.abstime="abstime",R.bool="bool",R.date="date",R.daterange="daterange",R.float4="float4",R.float8="float8",R.int2="int2",R.int4="int4",R.int4range="int4range",R.int8="int8",R.int8range="int8range",R.json="json",R.jsonb="jsonb",R.money="money",R.numeric="numeric",R.oid="oid",R.reltime="reltime",R.text="text",R.time="time",R.timestamp="timestamp",R.timestamptz="timestamptz",R.timetz="timetz",R.tsrange="tsrange",R.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(R,w,_={})=>{var A;const $=(A=_.skipTypes)!==null&&A!==void 0?A:[];return Object.keys(w).reduce((O,B)=>(O[B]=convertColumn(B,R,w,$),O),{})},convertColumn=(R,w,_,A)=>{const $=w.find(q=>q.name===R),O=$==null?void 0:$.type,B=_[R];return O&&!A.includes(O)?convertCell(O,B):noop$1(B)},convertCell=(R,w)=>{if(R.charAt(0)==="_"){const _=R.slice(1,R.length);return toArray(w,_)}switch(R){case PostgresTypes.bool:return toBoolean(w);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(w);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(w);case PostgresTypes.timestamp:return toTimestampString(w);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(w);default:return noop$1(w)}},noop$1=R=>R,toBoolean=R=>{switch(R){case"t":return!0;case"f":return!1;default:return R}},toNumber=R=>{if(typeof R=="string"){const w=parseFloat(R);if(!Number.isNaN(w))return w}return R},toJson=R=>{if(typeof R=="string")try{return JSON.parse(R)}catch(w){return console.log(`JSON parse error: ${w}`),R}return R},toArray=(R,w)=>{if(typeof R!="string")return R;const _=R.length-1,A=R[_];if(R[0]==="{"&&A==="}"){let O;const B=R.slice(1,_);try{O=JSON.parse("["+B+"]")}catch{O=B?B.split(","):[]}return O.map(q=>convertCell(w,q))}return R},toTimestampString=R=>typeof R=="string"?R.replace(" ","T"):R,httpEndpointURL=R=>{let w=R;return w=w.replace(/^ws/i,"http"),w=w.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),w.replace(/\/+$/,"")};class Push{constructor(w,_,A={},$=DEFAULT_TIMEOUT){this.channel=w,this.event=_,this.payload=A,this.timeout=$,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(w){this.timeout=w,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(w){this.payload=Object.assign(Object.assign({},this.payload),w)}receive(w,_){var A;return this._hasReceived(w)&&_((A=this.receivedResp)===null||A===void 0?void 0:A.response),this.recHooks.push({status:w,callback:_}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const w=_=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=_,this._matchReceive(_)};this.channel._on(this.refEvent,{},w),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(w,_){this.refEvent&&this.channel._trigger(this.refEvent,{status:w,response:_})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:w,response:_}){this.recHooks.filter(A=>A.status===w).forEach(A=>A.callback(_))}_hasReceived(w){return this.receivedResp&&this.receivedResp.status===w}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(R){R.SYNC="sync",R.JOIN="join",R.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(w,_){this.channel=w,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const A=(_==null?void 0:_.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(A.state,{},$=>{const{onJoin:O,onLeave:B,onSync:q}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,$,O,B),this.pendingDiffs.forEach(H=>{this.state=RealtimePresence.syncDiff(this.state,H,O,B)}),this.pendingDiffs=[],q()}),this.channel._on(A.diff,{},$=>{const{onJoin:O,onLeave:B,onSync:q}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push($):(this.state=RealtimePresence.syncDiff(this.state,$,O,B),q())}),this.onJoin(($,O,B)=>{this.channel._trigger("presence",{event:"join",key:$,currentPresences:O,newPresences:B})}),this.onLeave(($,O,B)=>{this.channel._trigger("presence",{event:"leave",key:$,currentPresences:O,leftPresences:B})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(w,_,A,$){const O=this.cloneDeep(w),B=this.transformState(_),q={},H={};return this.map(O,(W,V)=>{B[W]||(H[W]=V)}),this.map(B,(W,V)=>{const K=O[W];if(K){const Y=V.map(J=>J.presence_ref),re=K.map(J=>J.presence_ref),Q=V.filter(J=>re.indexOf(J.presence_ref)<0),ie=K.filter(J=>Y.indexOf(J.presence_ref)<0);Q.length>0&&(q[W]=Q),ie.length>0&&(H[W]=ie)}else q[W]=V}),this.syncDiff(O,{joins:q,leaves:H},A,$)}static syncDiff(w,_,A,$){const{joins:O,leaves:B}={joins:this.transformState(_.joins),leaves:this.transformState(_.leaves)};return A||(A=()=>{}),$||($=()=>{}),this.map(O,(q,H)=>{var W;const V=(W=w[q])!==null&&W!==void 0?W:[];if(w[q]=this.cloneDeep(H),V.length>0){const K=w[q].map(re=>re.presence_ref),Y=V.filter(re=>K.indexOf(re.presence_ref)<0);w[q].unshift(...Y)}A(q,V,H)}),this.map(B,(q,H)=>{let W=w[q];if(!W)return;const V=H.map(K=>K.presence_ref);W=W.filter(K=>V.indexOf(K.presence_ref)<0),w[q]=W,$(q,W,H),W.length===0&&delete w[q]}),w}static map(w,_){return Object.getOwnPropertyNames(w).map(A=>_(A,w[A]))}static transformState(w){return w=this.cloneDeep(w),Object.getOwnPropertyNames(w).reduce((_,A)=>{const $=w[A];return"metas"in $?_[A]=$.metas.map(O=>(O.presence_ref=O.phx_ref,delete O.phx_ref,delete O.phx_ref_prev,O)):_[A]=$,_},{})}static cloneDeep(w){return JSON.parse(JSON.stringify(w))}onJoin(w){this.caller.onJoin=w}onLeave(w){this.caller.onLeave=w}onSync(w){this.caller.onSync=w}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(R){R.ALL="*",R.INSERT="INSERT",R.UPDATE="UPDATE",R.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(R){R.BROADCAST="broadcast",R.PRESENCE="presence",R.POSTGRES_CHANGES="postgres_changes",R.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(R){R.SUBSCRIBED="SUBSCRIBED",R.TIMED_OUT="TIMED_OUT",R.CLOSED="CLOSED",R.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(w,_={config:{}},A){this.topic=w,this.params=_,this.socket=A,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=w.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},_.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach($=>$.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError($=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,$),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},($,O)=>{this._trigger(this._replyEventName(O),$)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(w,_=this.timeout){var A,$;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:O,presence:B,private:q}}=this.params;this._onError(V=>w==null?void 0:w(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,V)),this._onClose(()=>w==null?void 0:w(REALTIME_SUBSCRIBE_STATES.CLOSED));const H={},W={broadcast:O,presence:B,postgres_changes:($=(A=this.bindings.postgres_changes)===null||A===void 0?void 0:A.map(V=>V.filter))!==null&&$!==void 0?$:[],private:q};this.socket.accessTokenValue&&(H.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:W},H)),this.joinedOnce=!0,this._rejoin(_),this.joinPush.receive("ok",async({postgres_changes:V})=>{var K;if(this.socket.setAuth(),V===void 0){w==null||w(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const Y=this.bindings.postgres_changes,re=(K=Y==null?void 0:Y.length)!==null&&K!==void 0?K:0,Q=[];for(let ie=0;ie<re;ie++){const J=Y[ie],{filter:{event:ce,schema:ue,table:Ee,filter:ge}}=J,le=V&&V[ie];if(le&&le.event===ce&&le.schema===ue&&le.table===Ee&&le.filter===ge)Q.push(Object.assign(Object.assign({},J),{id:le.id}));else{this.unsubscribe(),w==null||w(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Q,w&&w(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",V=>{w==null||w(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(V).join(", ")||"error")))}).receive("timeout",()=>{w==null||w(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(w,_={}){return await this.send({type:"presence",event:"track",payload:w},_.timeout||this.timeout)}async untrack(w={}){return await this.send({type:"presence",event:"untrack"},w)}on(w,_,A){return this._on(w,_,A)}async send(w,_={}){var A,$;if(!this._canPush()&&w.type==="broadcast"){const{event:O,payload:B}=w,H={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:O,payload:B,private:this.private}]})};try{const W=await this._fetchWithTimeout(this.broadcastEndpointURL,H,(A=_.timeout)!==null&&A!==void 0?A:this.timeout);return await(($=W.body)===null||$===void 0?void 0:$.cancel()),W.ok?"ok":"error"}catch(W){return W.name==="AbortError"?"timed out":"error"}}else return new Promise(O=>{var B,q,H;const W=this._push(w.type,w,_.timeout||this.timeout);w.type==="broadcast"&&!(!((H=(q=(B=this.params)===null||B===void 0?void 0:B.config)===null||q===void 0?void 0:q.broadcast)===null||H===void 0)&&H.ack)&&O("ok"),W.receive("ok",()=>O("ok")),W.receive("error",()=>O("error")),W.receive("timeout",()=>O("timed out"))})}updateJoinPayload(w){this.joinPush.updatePayload(w)}unsubscribe(w=this.timeout){this.state=CHANNEL_STATES.leaving;const _=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(A=>{const $=new Push(this,CHANNEL_EVENTS.leave,{},w);$.receive("ok",()=>{_(),A("ok")}).receive("timeout",()=>{_(),A("timed out")}).receive("error",()=>{A("error")}),$.send(),this._canPush()||$.trigger("ok",{})})}async _fetchWithTimeout(w,_,A){const $=new AbortController,O=setTimeout(()=>$.abort(),A),B=await this.socket.fetch(w,Object.assign(Object.assign({},_),{signal:$.signal}));return clearTimeout(O),B}_push(w,_,A=this.timeout){if(!this.joinedOnce)throw`tried to push '${w}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let $=new Push(this,w,_,A);return this._canPush()?$.send():($.startTimeout(),this.pushBuffer.push($)),$}_onMessage(w,_,A){return _}_isMember(w){return this.topic===w}_joinRef(){return this.joinPush.ref}_trigger(w,_,A){var $,O;const B=w.toLocaleLowerCase(),{close:q,error:H,leave:W,join:V}=CHANNEL_EVENTS;if(A&&[q,H,W,V].indexOf(B)>=0&&A!==this._joinRef())return;let Y=this._onMessage(B,_,A);if(_&&!Y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(B)?($=this.bindings.postgres_changes)===null||$===void 0||$.filter(re=>{var Q,ie,J;return((Q=re.filter)===null||Q===void 0?void 0:Q.event)==="*"||((J=(ie=re.filter)===null||ie===void 0?void 0:ie.event)===null||J===void 0?void 0:J.toLocaleLowerCase())===B}).map(re=>re.callback(Y,A)):(O=this.bindings[B])===null||O===void 0||O.filter(re=>{var Q,ie,J,ce,ue,Ee;if(["broadcast","presence","postgres_changes"].includes(B))if("id"in re){const ge=re.id,le=(Q=re.filter)===null||Q===void 0?void 0:Q.event;return ge&&((ie=_.ids)===null||ie===void 0?void 0:ie.includes(ge))&&(le==="*"||(le==null?void 0:le.toLocaleLowerCase())===((J=_.data)===null||J===void 0?void 0:J.type.toLocaleLowerCase()))}else{const ge=(ue=(ce=re==null?void 0:re.filter)===null||ce===void 0?void 0:ce.event)===null||ue===void 0?void 0:ue.toLocaleLowerCase();return ge==="*"||ge===((Ee=_==null?void 0:_.event)===null||Ee===void 0?void 0:Ee.toLocaleLowerCase())}else return re.type.toLocaleLowerCase()===B}).map(re=>{if(typeof Y=="object"&&"ids"in Y){const Q=Y.data,{schema:ie,table:J,commit_timestamp:ce,type:ue,errors:Ee}=Q;Y=Object.assign(Object.assign({},{schema:ie,table:J,commit_timestamp:ce,eventType:ue,new:{},old:{},errors:Ee}),this._getPayloadRecords(Q))}re.callback(Y,A)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(w){return`chan_reply_${w}`}_on(w,_,A){const $=w.toLocaleLowerCase(),O={type:$,filter:_,callback:A};return this.bindings[$]?this.bindings[$].push(O):this.bindings[$]=[O],this}_off(w,_){const A=w.toLocaleLowerCase();return this.bindings[A]=this.bindings[A].filter($=>{var O;return!(((O=$.type)===null||O===void 0?void 0:O.toLocaleLowerCase())===A&&RealtimeChannel.isEqual($.filter,_))}),this}static isEqual(w,_){if(Object.keys(w).length!==Object.keys(_).length)return!1;for(const A in w)if(w[A]!==_[A])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(w){this._on(CHANNEL_EVENTS.close,{},w)}_onError(w){this._on(CHANNEL_EVENTS.error,{},_=>w(_))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(w=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(w))}_getPayloadRecords(w){const _={new:{},old:{}};return(w.type==="INSERT"||w.type==="UPDATE")&&(_.new=convertChangeData(w.columns,w.record)),(w.type==="UPDATE"||w.type==="DELETE")&&(_.old=convertChangeData(w.columns,w.old_record)),_}}const noop=()=>{},NATIVE_WEBSOCKET_AVAILABLE=typeof WebSocket<"u",WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(w,_){var A;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=O=>{let B;return O?B=O:typeof fetch>"u"?B=(...q)=>__vitePreload(async()=>{const{default:H}=await Promise.resolve().then(()=>browser);return{default:H}},void 0).then(({default:H})=>H(...q)):B=fetch,(...q)=>B(...q)},this.endPoint=`${w}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(w),_!=null&&_.transport?this.transport=_.transport:this.transport=null,_!=null&&_.params&&(this.params=_.params),_!=null&&_.headers&&(this.headers=Object.assign(Object.assign({},this.headers),_.headers)),_!=null&&_.timeout&&(this.timeout=_.timeout),_!=null&&_.logger&&(this.logger=_.logger),_!=null&&_.heartbeatIntervalMs&&(this.heartbeatIntervalMs=_.heartbeatIntervalMs);const $=(A=_==null?void 0:_.params)===null||A===void 0?void 0:A.apikey;if($&&(this.accessTokenValue=$,this.apiKey=$),this.reconnectAfterMs=_!=null&&_.reconnectAfterMs?_.reconnectAfterMs:O=>[1e3,2e3,5e3,1e4][O-1]||1e4,this.encode=_!=null&&_.encode?_.encode:(O,B)=>B(JSON.stringify(O)),this.decode=_!=null&&_.decode?_.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(_==null?void 0:_.fetch),_!=null&&_.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(_==null?void 0:_.worker)||!1,this.workerUrl=_==null?void 0:_.workerUrl}this.accessToken=(_==null?void 0:_.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(NATIVE_WEBSOCKET_AVAILABLE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new WSWebSocketDummy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),__vitePreload(async()=>{const{default:w}=await import("./browser-CbGO94Y-.js").then(_=>_.b);return{default:w}},__vite__mapDeps([0,1])).then(({default:w})=>{this.conn=new w(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(w,_){this.conn&&(this.conn.onclose=function(){},w?this.conn.close(w,_??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(w){const _=await w.unsubscribe();return this.channels.length===0&&this.disconnect(),_}async removeAllChannels(){const w=await Promise.all(this.channels.map(_=>_.unsubscribe()));return this.disconnect(),w}log(w,_,A){this.logger(w,_,A)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(w,_={config:{}}){const A=new RealtimeChannel(`realtime:${w}`,_,this);return this.channels.push(A),A}push(w){const{topic:_,event:A,payload:$,ref:O}=w,B=()=>{this.encode(w,q=>{var H;(H=this.conn)===null||H===void 0||H.send(q)})};this.log("push",`${_} ${A} (${O})`,$),this.isConnected()?B():this.sendBuffer.push(B)}async setAuth(w=null){let _=w||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(_){let A=null;try{A=JSON.parse(atob(_.split(".")[1]))}catch{}if(A&&A.exp&&!(Math.floor(Date.now()/1e3)-A.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${A.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${A.exp}`);this.accessTokenValue=_,this.channels.forEach($=>{_&&$.updateJoinPayload({access_token:_}),$.joinedOnce&&$._isJoined()&&$._push(CHANNEL_EVENTS.access_token,{access_token:_})})}}async sendHeartbeat(){var w;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(w=this.conn)===null||w===void 0||w.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(w=>w()),this.sendBuffer=[])}_makeRef(){let w=this.ref+1;return w===this.ref?this.ref=0:this.ref=w,this.ref.toString()}_leaveOpenTopic(w){let _=this.channels.find(A=>A.topic===w&&(A._isJoined()||A._isJoining()));_&&(this.log("transport",`leaving duplicate topic "${w}"`),_.unsubscribe())}_remove(w){this.channels=this.channels.filter(_=>_._joinRef()!==w._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=w=>this._onConnError(w),this.conn.onmessage=w=>this._onConnMessage(w),this.conn.onclose=w=>this._onConnClose(w))}_onConnMessage(w){this.decode(w.data,_=>{let{topic:A,event:$,payload:O,ref:B}=_;B&&B===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${O.status||""} ${A} ${$} ${B&&"("+B+")"||""}`,O),this.channels.filter(q=>q._isMember(A)).forEach(q=>q._trigger($,O,B)),this.stateChangeCallbacks.message.forEach(q=>q(_))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const w=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(w),this.workerRef.onerror=_=>{this.log("worker","worker error",_.message),this.workerRef.terminate()},this.workerRef.onmessage=_=>{_.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(w=>w())}_onConnClose(w){this.log("transport","close",w),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(_=>_(w))}_onConnError(w){this.log("transport",w.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(_=>_(w))}_triggerChanError(){this.channels.forEach(w=>w._trigger(CHANNEL_EVENTS.error))}_appendParams(w,_){if(Object.keys(_).length===0)return w;const A=w.match(/\?/)?"&":"?",$=new URLSearchParams(_);return`${w}${A}${$}`}_workerObjectUrl(w){let _;if(w)_=w;else{const A=new Blob([WORKER_SCRIPT],{type:"application/javascript"});_=URL.createObjectURL(A)}return _}}class WSWebSocketDummy{constructor(w,_,A){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=SOCKET_STATES.connecting,this.send=()=>{},this.url=null,this.url=w,this.close=A.close}}class StorageError extends Error{constructor(w){super(w),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(R){return typeof R=="object"&&R!==null&&"__isStorageError"in R}class StorageApiError extends StorageError{constructor(w,_){super(w),this.name="StorageApiError",this.status=_}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(w,_){super(w),this.name="StorageUnknownError",this.originalError=_}}var __awaiter$6=function(R,w,_,A){function $(O){return O instanceof _?O:new _(function(B){B(O)})}return new(_||(_=Promise))(function(O,B){function q(V){try{W(A.next(V))}catch(K){B(K)}}function H(V){try{W(A.throw(V))}catch(K){B(K)}}function W(V){V.done?O(V.value):$(V.value).then(q,H)}W((A=A.apply(R,w||[])).next())})};const resolveFetch$2=R=>{let w;return R?w=R:typeof fetch>"u"?w=(..._)=>__vitePreload(async()=>{const{default:A}=await Promise.resolve().then(()=>browser);return{default:A}},void 0).then(({default:A})=>A(..._)):w=fetch,(..._)=>w(..._)},resolveResponse=()=>__awaiter$6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=R=>{if(Array.isArray(R))return R.map(_=>recursiveToCamel(_));if(typeof R=="function"||R!==Object(R))return R;const w={};return Object.entries(R).forEach(([_,A])=>{const $=_.replace(/([-_][a-z])/gi,O=>O.toUpperCase().replace(/[-_]/g,""));w[$]=recursiveToCamel(A)}),w};var __awaiter$5=function(R,w,_,A){function $(O){return O instanceof _?O:new _(function(B){B(O)})}return new(_||(_=Promise))(function(O,B){function q(V){try{W(A.next(V))}catch(K){B(K)}}function H(V){try{W(A.throw(V))}catch(K){B(K)}}function W(V){V.done?O(V.value):$(V.value).then(q,H)}W((A=A.apply(R,w||[])).next())})};const _getErrorMessage$1=R=>R.msg||R.message||R.error_description||R.error||JSON.stringify(R),handleError$1=(R,w,_)=>__awaiter$5(void 0,void 0,void 0,function*(){const A=yield resolveResponse();R instanceof A&&!(_!=null&&_.noResolveJson)?R.json().then($=>{w(new StorageApiError(_getErrorMessage$1($),R.status||500))}).catch($=>{w(new StorageUnknownError(_getErrorMessage$1($),$))}):w(new StorageUnknownError(_getErrorMessage$1(R),R))}),_getRequestParams$1=(R,w,_,A)=>{const $={method:R,headers:(w==null?void 0:w.headers)||{}};return R==="GET"?$:($.headers=Object.assign({"Content-Type":"application/json"},w==null?void 0:w.headers),A&&($.body=JSON.stringify(A)),Object.assign(Object.assign({},$),_))};function _handleRequest$1(R,w,_,A,$,O){return __awaiter$5(this,void 0,void 0,function*(){return new Promise((B,q)=>{R(_,_getRequestParams$1(w,A,$,O)).then(H=>{if(!H.ok)throw H;return A!=null&&A.noResolveJson?H:H.json()}).then(H=>B(H)).catch(H=>handleError$1(H,q,A))})})}function get(R,w,_,A){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(R,"GET",w,_,A)})}function post(R,w,_,A,$){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(R,"POST",w,A,$,_)})}function put(R,w,_,A,$){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(R,"PUT",w,A,$,_)})}function head(R,w,_,A){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(R,"HEAD",w,Object.assign(Object.assign({},_),{noResolveJson:!0}),A)})}function remove(R,w,_,A,$){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(R,"DELETE",w,A,$,_)})}var __awaiter$4=function(R,w,_,A){function $(O){return O instanceof _?O:new _(function(B){B(O)})}return new(_||(_=Promise))(function(O,B){function q(V){try{W(A.next(V))}catch(K){B(K)}}function H(V){try{W(A.throw(V))}catch(K){B(K)}}function W(V){V.done?O(V.value):$(V.value).then(q,H)}W((A=A.apply(R,w||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(w,_={},A,$){this.url=w,this.headers=_,this.bucketId=A,this.fetch=resolveFetch$2($)}uploadOrUpdate(w,_,A,$){return __awaiter$4(this,void 0,void 0,function*(){try{let O;const B=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),$);let q=Object.assign(Object.assign({},this.headers),w==="POST"&&{"x-upsert":String(B.upsert)});const H=B.metadata;typeof Blob<"u"&&A instanceof Blob?(O=new FormData,O.append("cacheControl",B.cacheControl),H&&O.append("metadata",this.encodeMetadata(H)),O.append("",A)):typeof FormData<"u"&&A instanceof FormData?(O=A,O.append("cacheControl",B.cacheControl),H&&O.append("metadata",this.encodeMetadata(H))):(O=A,q["cache-control"]=`max-age=${B.cacheControl}`,q["content-type"]=B.contentType,H&&(q["x-metadata"]=this.toBase64(this.encodeMetadata(H)))),$!=null&&$.headers&&(q=Object.assign(Object.assign({},q),$.headers));const W=this._removeEmptyFolders(_),V=this._getFinalPath(W),K=yield this.fetch(`${this.url}/object/${V}`,Object.assign({method:w,body:O,headers:q},B!=null&&B.duplex?{duplex:B.duplex}:{})),Y=yield K.json();return K.ok?{data:{path:W,id:Y.Id,fullPath:Y.Key},error:null}:{data:null,error:Y}}catch(O){if(isStorageError(O))return{data:null,error:O};throw O}})}upload(w,_,A){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",w,_,A)})}uploadToSignedUrl(w,_,A,$){return __awaiter$4(this,void 0,void 0,function*(){const O=this._removeEmptyFolders(w),B=this._getFinalPath(O),q=new URL(this.url+`/object/upload/sign/${B}`);q.searchParams.set("token",_);try{let H;const W=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},$),V=Object.assign(Object.assign({},this.headers),{"x-upsert":String(W.upsert)});typeof Blob<"u"&&A instanceof Blob?(H=new FormData,H.append("cacheControl",W.cacheControl),H.append("",A)):typeof FormData<"u"&&A instanceof FormData?(H=A,H.append("cacheControl",W.cacheControl)):(H=A,V["cache-control"]=`max-age=${W.cacheControl}`,V["content-type"]=W.contentType);const K=yield this.fetch(q.toString(),{method:"PUT",body:H,headers:V}),Y=yield K.json();return K.ok?{data:{path:O,fullPath:Y.Key},error:null}:{data:null,error:Y}}catch(H){if(isStorageError(H))return{data:null,error:H};throw H}})}createSignedUploadUrl(w,_){return __awaiter$4(this,void 0,void 0,function*(){try{let A=this._getFinalPath(w);const $=Object.assign({},this.headers);_!=null&&_.upsert&&($["x-upsert"]="true");const O=yield post(this.fetch,`${this.url}/object/upload/sign/${A}`,{},{headers:$}),B=new URL(this.url+O.url),q=B.searchParams.get("token");if(!q)throw new StorageError("No token returned by API");return{data:{signedUrl:B.toString(),path:w,token:q},error:null}}catch(A){if(isStorageError(A))return{data:null,error:A};throw A}})}update(w,_,A){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",w,_,A)})}move(w,_,A){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:w,destinationKey:_,destinationBucket:A==null?void 0:A.destinationBucket},{headers:this.headers}),error:null}}catch($){if(isStorageError($))return{data:null,error:$};throw $}})}copy(w,_,A){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:w,destinationKey:_,destinationBucket:A==null?void 0:A.destinationBucket},{headers:this.headers})).Key},error:null}}catch($){if(isStorageError($))return{data:null,error:$};throw $}})}createSignedUrl(w,_,A){return __awaiter$4(this,void 0,void 0,function*(){try{let $=this._getFinalPath(w),O=yield post(this.fetch,`${this.url}/object/sign/${$}`,Object.assign({expiresIn:_},A!=null&&A.transform?{transform:A.transform}:{}),{headers:this.headers});const B=A!=null&&A.download?`&download=${A.download===!0?"":A.download}`:"";return O={signedUrl:encodeURI(`${this.url}${O.signedURL}${B}`)},{data:O,error:null}}catch($){if(isStorageError($))return{data:null,error:$};throw $}})}createSignedUrls(w,_,A){return __awaiter$4(this,void 0,void 0,function*(){try{const $=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:_,paths:w},{headers:this.headers}),O=A!=null&&A.download?`&download=${A.download===!0?"":A.download}`:"";return{data:$.map(B=>Object.assign(Object.assign({},B),{signedUrl:B.signedURL?encodeURI(`${this.url}${B.signedURL}${O}`):null})),error:null}}catch($){if(isStorageError($))return{data:null,error:$};throw $}})}download(w,_){return __awaiter$4(this,void 0,void 0,function*(){const $=typeof(_==null?void 0:_.transform)<"u"?"render/image/authenticated":"object",O=this.transformOptsToQueryString((_==null?void 0:_.transform)||{}),B=O?`?${O}`:"";try{const q=this._getFinalPath(w);return{data:yield(yield get(this.fetch,`${this.url}/${$}/${q}${B}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(q){if(isStorageError(q))return{data:null,error:q};throw q}})}info(w){return __awaiter$4(this,void 0,void 0,function*(){const _=this._getFinalPath(w);try{const A=yield get(this.fetch,`${this.url}/object/info/${_}`,{headers:this.headers});return{data:recursiveToCamel(A),error:null}}catch(A){if(isStorageError(A))return{data:null,error:A};throw A}})}exists(w){return __awaiter$4(this,void 0,void 0,function*(){const _=this._getFinalPath(w);try{return yield head(this.fetch,`${this.url}/object/${_}`,{headers:this.headers}),{data:!0,error:null}}catch(A){if(isStorageError(A)&&A instanceof StorageUnknownError){const $=A.originalError;if([400,404].includes($==null?void 0:$.status))return{data:!1,error:A}}throw A}})}getPublicUrl(w,_){const A=this._getFinalPath(w),$=[],O=_!=null&&_.download?`download=${_.download===!0?"":_.download}`:"";O!==""&&$.push(O);const q=typeof(_==null?void 0:_.transform)<"u"?"render/image":"object",H=this.transformOptsToQueryString((_==null?void 0:_.transform)||{});H!==""&&$.push(H);let W=$.join("&");return W!==""&&(W=`?${W}`),{data:{publicUrl:encodeURI(`${this.url}/${q}/public/${A}${W}`)}}}remove(w){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:w},{headers:this.headers}),error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}list(w,_,A){return __awaiter$4(this,void 0,void 0,function*(){try{const $=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),_),{prefix:w||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,$,{headers:this.headers},A),error:null}}catch($){if(isStorageError($))return{data:null,error:$};throw $}})}encodeMetadata(w){return JSON.stringify(w)}toBase64(w){return typeof Buffer<"u"?Buffer.from(w).toString("base64"):btoa(w)}_getFinalPath(w){return`${this.bucketId}/${w}`}_removeEmptyFolders(w){return w.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(w){const _=[];return w.width&&_.push(`width=${w.width}`),w.height&&_.push(`height=${w.height}`),w.resize&&_.push(`resize=${w.resize}`),w.format&&_.push(`format=${w.format}`),w.quality&&_.push(`quality=${w.quality}`),_.join("&")}}const version$2="2.7.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$3=function(R,w,_,A){function $(O){return O instanceof _?O:new _(function(B){B(O)})}return new(_||(_=Promise))(function(O,B){function q(V){try{W(A.next(V))}catch(K){B(K)}}function H(V){try{W(A.throw(V))}catch(K){B(K)}}function W(V){V.done?O(V.value):$(V.value).then(q,H)}W((A=A.apply(R,w||[])).next())})};class StorageBucketApi{constructor(w,_={},A){this.url=w,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),_),this.fetch=resolveFetch$2(A)}listBuckets(){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(w){if(isStorageError(w))return{data:null,error:w};throw w}})}getBucket(w){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${w}`,{headers:this.headers}),error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}createBucket(w,_={public:!1}){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:w,name:w,public:_.public,file_size_limit:_.fileSizeLimit,allowed_mime_types:_.allowedMimeTypes},{headers:this.headers}),error:null}}catch(A){if(isStorageError(A))return{data:null,error:A};throw A}})}updateBucket(w,_){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${w}`,{id:w,name:w,public:_.public,file_size_limit:_.fileSizeLimit,allowed_mime_types:_.allowedMimeTypes},{headers:this.headers}),error:null}}catch(A){if(isStorageError(A))return{data:null,error:A};throw A}})}emptyBucket(w){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${w}/empty`,{},{headers:this.headers}),error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}deleteBucket(w){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${w}`,{},{headers:this.headers}),error:null}}catch(_){if(isStorageError(_))return{data:null,error:_};throw _}})}}class StorageClient extends StorageBucketApi{constructor(w,_={},A){super(w,_,A)}from(w){return new StorageFileApi(this.url,this.headers,w,this.fetch)}}const version$1="2.49.8";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$2=function(R,w,_,A){function $(O){return O instanceof _?O:new _(function(B){B(O)})}return new(_||(_=Promise))(function(O,B){function q(V){try{W(A.next(V))}catch(K){B(K)}}function H(V){try{W(A.throw(V))}catch(K){B(K)}}function W(V){V.done?O(V.value):$(V.value).then(q,H)}W((A=A.apply(R,w||[])).next())})};const resolveFetch$1=R=>{let w;return R?w=R:typeof fetch>"u"?w=nodeFetch:w=fetch,(..._)=>w(..._)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(R,w,_)=>{const A=resolveFetch$1(_),$=resolveHeadersConstructor();return(O,B)=>__awaiter$2(void 0,void 0,void 0,function*(){var q;const H=(q=yield w())!==null&&q!==void 0?q:R;let W=new $(B==null?void 0:B.headers);return W.has("apikey")||W.set("apikey",R),W.has("Authorization")||W.set("Authorization",`Bearer ${H}`),A(O,Object.assign(Object.assign({},B),{headers:W}))})};var __awaiter$1=function(R,w,_,A){function $(O){return O instanceof _?O:new _(function(B){B(O)})}return new(_||(_=Promise))(function(O,B){function q(V){try{W(A.next(V))}catch(K){B(K)}}function H(V){try{W(A.throw(V))}catch(K){B(K)}}function W(V){V.done?O(V.value):$(V.value).then(q,H)}W((A=A.apply(R,w||[])).next())})};function ensureTrailingSlash(R){return R.endsWith("/")?R:R+"/"}function applySettingDefaults(R,w){var _,A;const{db:$,auth:O,realtime:B,global:q}=R,{db:H,auth:W,realtime:V,global:K}=w,Y={db:Object.assign(Object.assign({},H),$),auth:Object.assign(Object.assign({},W),O),realtime:Object.assign(Object.assign({},V),B),global:Object.assign(Object.assign(Object.assign({},K),q),{headers:Object.assign(Object.assign({},(_=K==null?void 0:K.headers)!==null&&_!==void 0?_:{}),(A=q==null?void 0:q.headers)!==null&&A!==void 0?A:{})}),accessToken:()=>__awaiter$1(this,void 0,void 0,function*(){return""})};return R.accessToken?Y.accessToken=R.accessToken:delete Y.accessToken,Y}const version="2.69.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=6e5;class AuthError extends Error{constructor(w,_,A){super(w),this.__isAuthError=!0,this.name="AuthError",this.status=_,this.code=A}}function isAuthError(R){return typeof R=="object"&&R!==null&&"__isAuthError"in R}class AuthApiError extends AuthError{constructor(w,_,A){super(w,_,A),this.name="AuthApiError",this.status=_,this.code=A}}function isAuthApiError(R){return isAuthError(R)&&R.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(w,_){super(w),this.name="AuthUnknownError",this.originalError=_}}class CustomAuthError extends AuthError{constructor(w,_,A,$){super(w,A,$),this.name=_,this.status=A}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(R){return isAuthError(R)&&R.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(w){super(w,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(w,_=null){super(w,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=_}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(R){return isAuthError(R)&&R.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(w,_=null){super(w,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=_}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(w,_){super(w,"AuthRetryableFetchError",_,void 0)}}function isAuthRetryableFetchError(R){return isAuthError(R)&&R.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(w,_,A){super(w,"AuthWeakPasswordError",_,"weak_password"),this.reasons=A}}class AuthInvalidJwtError extends CustomAuthError{constructor(w){super(w,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const R=new Array(128);for(let w=0;w<R.length;w+=1)R[w]=-1;for(let w=0;w<IGNORE_BASE64URL.length;w+=1)R[IGNORE_BASE64URL[w].charCodeAt(0)]=-2;for(let w=0;w<TO_BASE64URL.length;w+=1)R[TO_BASE64URL[w].charCodeAt(0)]=w;return R})();function byteFromBase64URL(R,w,_){const A=FROM_BASE64URL[R];if(A>-1)for(w.queue=w.queue<<6|A,w.queuedBits+=6;w.queuedBits>=8;)_(w.queue>>w.queuedBits-8&255),w.queuedBits-=8;else{if(A===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(R)}"`)}}function stringFromBase64URL(R){const w=[],_=B=>{w.push(String.fromCodePoint(B))},A={utf8seq:0,codepoint:0},$={queue:0,queuedBits:0},O=B=>{stringFromUTF8(B,A,_)};for(let B=0;B<R.length;B+=1)byteFromBase64URL(R.charCodeAt(B),$,O);return w.join("")}function codepointToUTF8(R,w){if(R<=127){w(R);return}else if(R<=2047){w(192|R>>6),w(128|R&63);return}else if(R<=65535){w(224|R>>12),w(128|R>>6&63),w(128|R&63);return}else if(R<=1114111){w(240|R>>18),w(128|R>>12&63),w(128|R>>6&63),w(128|R&63);return}throw new Error(`Unrecognized Unicode codepoint: ${R.toString(16)}`)}function stringToUTF8(R,w){for(let _=0;_<R.length;_+=1){let A=R.charCodeAt(_);if(A>55295&&A<=56319){const $=(A-55296)*1024&65535;A=(R.charCodeAt(_+1)-56320&65535|$)+65536,_+=1}codepointToUTF8(A,w)}}function stringFromUTF8(R,w,_){if(w.utf8seq===0){if(R<=127){_(R);return}for(let A=1;A<6;A+=1)if(!(R>>7-A&1)){w.utf8seq=A;break}if(w.utf8seq===2)w.codepoint=R&31;else if(w.utf8seq===3)w.codepoint=R&15;else if(w.utf8seq===4)w.codepoint=R&7;else throw new Error("Invalid UTF-8 sequence");w.utf8seq-=1}else if(w.utf8seq>0){if(R<=127)throw new Error("Invalid UTF-8 sequence");w.codepoint=w.codepoint<<6|R&63,w.utf8seq-=1,w.utf8seq===0&&_(w.codepoint)}}function base64UrlToUint8Array(R){const w=[],_={queue:0,queuedBits:0},A=$=>{w.push($)};for(let $=0;$<R.length;$+=1)byteFromBase64URL(R.charCodeAt($),_,A);return new Uint8Array(w)}function stringToUint8Array(R){const w=[];return stringToUTF8(R,_=>w.push(_)),new Uint8Array(w)}function expiresAt(R){return Math.round(Date.now()/1e3)+R}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(R){const w=Math.random()*16|0;return(R=="x"?w:w&3|8).toString(16)})}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const R=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(R,R),globalThis.localStorage.removeItem(R),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(R){const w={},_=new URL(R);if(_.hash&&_.hash[0]==="#")try{new URLSearchParams(_.hash.substring(1)).forEach(($,O)=>{w[O]=$})}catch{}return _.searchParams.forEach((A,$)=>{w[$]=A}),w}const resolveFetch=R=>{let w;return R?w=R:typeof fetch>"u"?w=(..._)=>__vitePreload(async()=>{const{default:A}=await Promise.resolve().then(()=>browser);return{default:A}},void 0).then(({default:A})=>A(..._)):w=fetch,(..._)=>w(..._)},looksLikeFetchResponse=R=>typeof R=="object"&&R!==null&&"status"in R&&"ok"in R&&"json"in R&&typeof R.json=="function",setItemAsync=async(R,w,_)=>{await R.setItem(w,JSON.stringify(_))},getItemAsync=async(R,w)=>{const _=await R.getItem(w);if(!_)return null;try{return JSON.parse(_)}catch{return _}},removeItemAsync=async(R,w)=>{await R.removeItem(w)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((w,_)=>{this.resolve=w,this.reject=_})}}Deferred.promiseConstructor=Promise;function decodeJWT(R){const w=R.split(".");if(w.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let A=0;A<w.length;A++)if(!BASE64URL_REGEX.test(w[A]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(w[0])),payload:JSON.parse(stringFromBase64URL(w[1])),signature:base64UrlToUint8Array(w[2]),raw:{header:w[0],payload:w[1]}}}async function sleep(R){return await new Promise(w=>{setTimeout(()=>w(null),R)})}function retryable(R,w){return new Promise((A,$)=>{(async()=>{for(let O=0;O<1/0;O++)try{const B=await R(O);if(!w(O,null,B)){A(B);return}}catch(B){if(!w(O,B)){$(B);return}}})()})}function dec2hex(R){return("0"+R.toString(16)).substr(-2)}function generatePKCEVerifier(){const w=new Uint32Array(56);if(typeof crypto>"u"){const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",A=_.length;let $="";for(let O=0;O<56;O++)$+=_.charAt(Math.floor(Math.random()*A));return $}return crypto.getRandomValues(w),Array.from(w,dec2hex).join("")}async function sha256(R){const _=new TextEncoder().encode(R),A=await crypto.subtle.digest("SHA-256",_),$=new Uint8Array(A);return Array.from($).map(O=>String.fromCharCode(O)).join("")}async function generatePKCEChallenge(R){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),R;const _=await sha256(R);return btoa(_).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(R,w,_=!1){const A=generatePKCEVerifier();let $=A;_&&($+="/PASSWORD_RECOVERY"),await setItemAsync(R,`${w}-code-verifier`,$);const O=await generatePKCEChallenge(A);return[O,A===O?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(R){const w=R.headers.get(API_VERSION_HEADER_NAME);if(!w||!w.match(API_VERSION_REGEX))return null;try{return new Date(`${w}T00:00:00.0Z`)}catch{return null}}function validateExp(R){if(!R)throw new Error("Missing exp claim");const w=Math.floor(Date.now()/1e3);if(R<=w)throw new Error("JWT has expired")}function getAlgorithm(R){switch(R){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var __rest$1=function(R,w){var _={};for(var A in R)Object.prototype.hasOwnProperty.call(R,A)&&w.indexOf(A)<0&&(_[A]=R[A]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,A=Object.getOwnPropertySymbols(R);$<A.length;$++)w.indexOf(A[$])<0&&Object.prototype.propertyIsEnumerable.call(R,A[$])&&(_[A[$]]=R[A[$]]);return _};const _getErrorMessage=R=>R.msg||R.message||R.error_description||R.error||JSON.stringify(R),NETWORK_ERROR_CODES=[502,503,504];async function handleError(R){var w;if(!looksLikeFetchResponse(R))throw new AuthRetryableFetchError(_getErrorMessage(R),0);if(NETWORK_ERROR_CODES.includes(R.status))throw new AuthRetryableFetchError(_getErrorMessage(R),R.status);let _;try{_=await R.json()}catch(O){throw new AuthUnknownError(_getErrorMessage(O),O)}let A;const $=parseResponseAPIVersion(R);if($&&$.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof _=="object"&&_&&typeof _.code=="string"?A=_.code:typeof _=="object"&&_&&typeof _.error_code=="string"&&(A=_.error_code),A){if(A==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(_),R.status,((w=_.weak_password)===null||w===void 0?void 0:w.reasons)||[]);if(A==="session_not_found")throw new AuthSessionMissingError}else if(typeof _=="object"&&_&&typeof _.weak_password=="object"&&_.weak_password&&Array.isArray(_.weak_password.reasons)&&_.weak_password.reasons.length&&_.weak_password.reasons.reduce((O,B)=>O&&typeof B=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(_),R.status,_.weak_password.reasons);throw new AuthApiError(_getErrorMessage(_),R.status||500,A)}const _getRequestParams=(R,w,_,A)=>{const $={method:R,headers:(w==null?void 0:w.headers)||{}};return R==="GET"?$:($.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},w==null?void 0:w.headers),$.body=JSON.stringify(A),Object.assign(Object.assign({},$),_))};async function _request(R,w,_,A){var $;const O=Object.assign({},A==null?void 0:A.headers);O[API_VERSION_HEADER_NAME]||(O[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),A!=null&&A.jwt&&(O.Authorization=`Bearer ${A.jwt}`);const B=($=A==null?void 0:A.query)!==null&&$!==void 0?$:{};A!=null&&A.redirectTo&&(B.redirect_to=A.redirectTo);const q=Object.keys(B).length?"?"+new URLSearchParams(B).toString():"",H=await _handleRequest(R,w,_+q,{headers:O,noResolveJson:A==null?void 0:A.noResolveJson},{},A==null?void 0:A.body);return A!=null&&A.xform?A==null?void 0:A.xform(H):{data:Object.assign({},H),error:null}}async function _handleRequest(R,w,_,A,$,O){const B=_getRequestParams(w,A,$,O);let q;try{q=await R(_,Object.assign({},B))}catch(H){throw console.error(H),new AuthRetryableFetchError(_getErrorMessage(H),0)}if(q.ok||await handleError(q),A!=null&&A.noResolveJson)return q;try{return await q.json()}catch(H){await handleError(H)}}function _sessionResponse(R){var w;let _=null;hasSession(R)&&(_=Object.assign({},R),R.expires_at||(_.expires_at=expiresAt(R.expires_in)));const A=(w=R.user)!==null&&w!==void 0?w:R;return{data:{session:_,user:A},error:null}}function _sessionResponsePassword(R){const w=_sessionResponse(R);return!w.error&&R.weak_password&&typeof R.weak_password=="object"&&Array.isArray(R.weak_password.reasons)&&R.weak_password.reasons.length&&R.weak_password.message&&typeof R.weak_password.message=="string"&&R.weak_password.reasons.reduce((_,A)=>_&&typeof A=="string",!0)&&(w.data.weak_password=R.weak_password),w}function _userResponse(R){var w;return{data:{user:(w=R.user)!==null&&w!==void 0?w:R},error:null}}function _ssoResponse(R){return{data:R,error:null}}function _generateLinkResponse(R){const{action_link:w,email_otp:_,hashed_token:A,redirect_to:$,verification_type:O}=R,B=__rest$1(R,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),q={action_link:w,email_otp:_,hashed_token:A,redirect_to:$,verification_type:O},H=Object.assign({},B);return{data:{properties:q,user:H},error:null}}function _noResolveJsonResponse(R){return R}function hasSession(R){return R.access_token&&R.refresh_token&&R.expires_in}var __rest=function(R,w){var _={};for(var A in R)Object.prototype.hasOwnProperty.call(R,A)&&w.indexOf(A)<0&&(_[A]=R[A]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,A=Object.getOwnPropertySymbols(R);$<A.length;$++)w.indexOf(A[$])<0&&Object.prototype.propertyIsEnumerable.call(R,A[$])&&(_[A[$]]=R[A[$]]);return _};class GoTrueAdminApi{constructor({url:w="",headers:_={},fetch:A}){this.url=w,this.headers=_,this.fetch=resolveFetch(A),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(w,_="global"){try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${_}`,{headers:this.headers,jwt:w,noResolveJson:!0}),{data:null,error:null}}catch(A){if(isAuthError(A))return{data:null,error:A};throw A}}async inviteUserByEmail(w,_={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:w,data:_.data},headers:this.headers,redirectTo:_.redirectTo,xform:_userResponse})}catch(A){if(isAuthError(A))return{data:{user:null},error:A};throw A}}async generateLink(w){try{const{options:_}=w,A=__rest(w,["options"]),$=Object.assign(Object.assign({},A),_);return"newEmail"in A&&($.new_email=A==null?void 0:A.newEmail,delete $.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:$,headers:this.headers,xform:_generateLinkResponse,redirectTo:_==null?void 0:_.redirectTo})}catch(_){if(isAuthError(_))return{data:{properties:null,user:null},error:_};throw _}}async createUser(w){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:w,headers:this.headers,xform:_userResponse})}catch(_){if(isAuthError(_))return{data:{user:null},error:_};throw _}}async listUsers(w){var _,A,$,O,B,q,H;try{const W={nextPage:null,lastPage:0,total:0},V=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(A=(_=w==null?void 0:w.page)===null||_===void 0?void 0:_.toString())!==null&&A!==void 0?A:"",per_page:(O=($=w==null?void 0:w.perPage)===null||$===void 0?void 0:$.toString())!==null&&O!==void 0?O:""},xform:_noResolveJsonResponse});if(V.error)throw V.error;const K=await V.json(),Y=(B=V.headers.get("x-total-count"))!==null&&B!==void 0?B:0,re=(H=(q=V.headers.get("link"))===null||q===void 0?void 0:q.split(","))!==null&&H!==void 0?H:[];return re.length>0&&(re.forEach(Q=>{const ie=parseInt(Q.split(";")[0].split("=")[1].substring(0,1)),J=JSON.parse(Q.split(";")[1].split("=")[1]);W[`${J}Page`]=ie}),W.total=parseInt(Y)),{data:Object.assign(Object.assign({},K),W),error:null}}catch(W){if(isAuthError(W))return{data:{users:[]},error:W};throw W}}async getUserById(w){try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${w}`,{headers:this.headers,xform:_userResponse})}catch(_){if(isAuthError(_))return{data:{user:null},error:_};throw _}}async updateUserById(w,_){try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${w}`,{body:_,headers:this.headers,xform:_userResponse})}catch(A){if(isAuthError(A))return{data:{user:null},error:A};throw A}}async deleteUser(w,_=!1){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${w}`,{headers:this.headers,body:{should_soft_delete:_},xform:_userResponse})}catch(A){if(isAuthError(A))return{data:{user:null},error:A};throw A}}async _listFactors(w){try{const{data:_,error:A}=await _request(this.fetch,"GET",`${this.url}/admin/users/${w.userId}/factors`,{headers:this.headers,xform:$=>({data:{factors:$},error:null})});return{data:_,error:A}}catch(_){if(isAuthError(_))return{data:null,error:_};throw _}}async _deleteFactor(w){try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${w.userId}/factors/${w.id}`,{headers:this.headers}),error:null}}catch(_){if(isAuthError(_))return{data:null,error:_};throw _}}}const localStorageAdapter={getItem:R=>supportsLocalStorage()?globalThis.localStorage.getItem(R):null,setItem:(R,w)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(R,w)},removeItem:R=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(R)}};function memoryLocalStorageAdapter(R={}){return{getItem:w=>R[w]||null,setItem:(w,_)=>{R[w]=_},removeItem:w=>{delete R[w]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(w){super(w),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(R,w,_){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",R,w);const A=new globalThis.AbortController;return w>0&&setTimeout(()=>{A.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",R)},w),await Promise.resolve().then(()=>globalThis.navigator.locks.request(R,w===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:A.signal},async $=>{if($){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",R,$.name);try{return await _()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",R,$.name)}}else{if(w===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",R),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${R}" immediately failed`);if(internals.debug)try{const O=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(O,null,"  "))}catch(O){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",O)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await _()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(R,w,_){return await _()}class GoTrueClient{constructor(w){var _,A;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const $=Object.assign(Object.assign({},DEFAULT_OPTIONS),w);if(this.logDebugMessages=!!$.debug,typeof $.debug=="function"&&(this.logger=$.debug),this.persistSession=$.persistSession,this.storageKey=$.storageKey,this.autoRefreshToken=$.autoRefreshToken,this.admin=new GoTrueAdminApi({url:$.url,headers:$.headers,fetch:$.fetch}),this.url=$.url,this.headers=$.headers,this.fetch=resolveFetch($.fetch),this.lock=$.lock||lockNoOp,this.detectSessionInUrl=$.detectSessionInUrl,this.flowType=$.flowType,this.hasCustomAuthorizationHeader=$.hasCustomAuthorizationHeader,$.lock?this.lock=$.lock:isBrowser()&&(!((_=globalThis==null?void 0:globalThis.navigator)===null||_===void 0)&&_.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?$.storage?this.storage=$.storage:supportsLocalStorage()?this.storage=localStorageAdapter:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(O){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",O)}(A=this.broadcastChannel)===null||A===void 0||A.addEventListener("message",async O=>{this._debug("received broadcast notification from other tab or client",O),await this._notifyAllSubscribers(O.data.event,O.data.session,!1)})}this.initialize()}_debug(...w){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...w),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var w;try{const _=parseParametersFromURL(window.location.href);let A="none";if(this._isImplicitGrantCallback(_)?A="implicit":await this._isPKCECallback(_)&&(A="pkce"),isBrowser()&&this.detectSessionInUrl&&A!=="none"){const{data:$,error:O}=await this._getSessionFromURL(_,A);if(O){if(this._debug("#_initialize()","error detecting session from URL",O),isAuthImplicitGrantRedirectError(O)){const H=(w=O.details)===null||w===void 0?void 0:w.code;if(H==="identity_already_exists"||H==="identity_not_found"||H==="single_identity_not_deletable")return{error:O}}return await this._removeSession(),{error:O}}const{session:B,redirectType:q}=$;return this._debug("#_initialize()","detected session in URL",B,"redirect type",q),await this._saveSession(B),setTimeout(async()=>{q==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",B):await this._notifyAllSubscribers("SIGNED_IN",B)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(_){return isAuthError(_)?{error:_}:{error:new AuthUnknownError("Unexpected error during initialization",_)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(w){var _,A,$;try{const O=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(A=(_=w==null?void 0:w.options)===null||_===void 0?void 0:_.data)!==null&&A!==void 0?A:{},gotrue_meta_security:{captcha_token:($=w==null?void 0:w.options)===null||$===void 0?void 0:$.captchaToken}},xform:_sessionResponse}),{data:B,error:q}=O;if(q||!B)return{data:{user:null,session:null},error:q};const H=B.session,W=B.user;return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",H)),{data:{user:W,session:H},error:null}}catch(O){if(isAuthError(O))return{data:{user:null,session:null},error:O};throw O}}async signUp(w){var _,A,$;try{let O;if("email"in w){const{email:V,password:K,options:Y}=w;let re=null,Q=null;this.flowType==="pkce"&&([re,Q]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),O=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:Y==null?void 0:Y.emailRedirectTo,body:{email:V,password:K,data:(_=Y==null?void 0:Y.data)!==null&&_!==void 0?_:{},gotrue_meta_security:{captcha_token:Y==null?void 0:Y.captchaToken},code_challenge:re,code_challenge_method:Q},xform:_sessionResponse})}else if("phone"in w){const{phone:V,password:K,options:Y}=w;O=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:V,password:K,data:(A=Y==null?void 0:Y.data)!==null&&A!==void 0?A:{},channel:($=Y==null?void 0:Y.channel)!==null&&$!==void 0?$:"sms",gotrue_meta_security:{captcha_token:Y==null?void 0:Y.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:B,error:q}=O;if(q||!B)return{data:{user:null,session:null},error:q};const H=B.session,W=B.user;return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",H)),{data:{user:W,session:H},error:null}}catch(O){if(isAuthError(O))return{data:{user:null,session:null},error:O};throw O}}async signInWithPassword(w){try{let _;if("email"in w){const{email:O,password:B,options:q}=w;_=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:O,password:B,gotrue_meta_security:{captcha_token:q==null?void 0:q.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in w){const{phone:O,password:B,options:q}=w;_=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:O,password:B,gotrue_meta_security:{captcha_token:q==null?void 0:q.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:A,error:$}=_;return $?{data:{user:null,session:null},error:$}:!A||!A.session||!A.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({user:A.user,session:A.session},A.weak_password?{weakPassword:A.weak_password}:null),error:$})}catch(_){if(isAuthError(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithOAuth(w){var _,A,$,O;return await this._handleProviderSignIn(w.provider,{redirectTo:(_=w.options)===null||_===void 0?void 0:_.redirectTo,scopes:(A=w.options)===null||A===void 0?void 0:A.scopes,queryParams:($=w.options)===null||$===void 0?void 0:$.queryParams,skipBrowserRedirect:(O=w.options)===null||O===void 0?void 0:O.skipBrowserRedirect})}async exchangeCodeForSession(w){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(w))}async _exchangeCodeForSession(w){const _=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[A,$]=(_??"").split("/");try{const{data:O,error:B}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:w,code_verifier:A},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),B)throw B;return!O||!O.session||!O.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign(Object.assign({},O),{redirectType:$??null}),error:B})}catch(O){if(isAuthError(O))return{data:{user:null,session:null,redirectType:null},error:O};throw O}}async signInWithIdToken(w){try{const{options:_,provider:A,token:$,access_token:O,nonce:B}=w,q=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:A,id_token:$,access_token:O,nonce:B,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:_sessionResponse}),{data:H,error:W}=q;return W?{data:{user:null,session:null},error:W}:!H||!H.session||!H.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),{data:H,error:W})}catch(_){if(isAuthError(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithOtp(w){var _,A,$,O,B;try{if("email"in w){const{email:q,options:H}=w;let W=null,V=null;this.flowType==="pkce"&&([W,V]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:K}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:q,data:(_=H==null?void 0:H.data)!==null&&_!==void 0?_:{},create_user:(A=H==null?void 0:H.shouldCreateUser)!==null&&A!==void 0?A:!0,gotrue_meta_security:{captcha_token:H==null?void 0:H.captchaToken},code_challenge:W,code_challenge_method:V},redirectTo:H==null?void 0:H.emailRedirectTo});return{data:{user:null,session:null},error:K}}if("phone"in w){const{phone:q,options:H}=w,{data:W,error:V}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:q,data:($=H==null?void 0:H.data)!==null&&$!==void 0?$:{},create_user:(O=H==null?void 0:H.shouldCreateUser)!==null&&O!==void 0?O:!0,gotrue_meta_security:{captcha_token:H==null?void 0:H.captchaToken},channel:(B=H==null?void 0:H.channel)!==null&&B!==void 0?B:"sms"}});return{data:{user:null,session:null,messageId:W==null?void 0:W.message_id},error:V}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(q){if(isAuthError(q))return{data:{user:null,session:null},error:q};throw q}}async verifyOtp(w){var _,A;try{let $,O;"options"in w&&($=(_=w.options)===null||_===void 0?void 0:_.redirectTo,O=(A=w.options)===null||A===void 0?void 0:A.captchaToken);const{data:B,error:q}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},w),{gotrue_meta_security:{captcha_token:O}}),redirectTo:$,xform:_sessionResponse});if(q)throw q;if(!B)throw new Error("An error occurred on token verification.");const H=B.session,W=B.user;return H!=null&&H.access_token&&(await this._saveSession(H),await this._notifyAllSubscribers(w.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",H)),{data:{user:W,session:H},error:null}}catch($){if(isAuthError($))return{data:{user:null,session:null},error:$};throw $}}async signInWithSSO(w){var _,A,$;try{let O=null,B=null;return this.flowType==="pkce"&&([O,B]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in w?{provider_id:w.providerId}:null),"domain"in w?{domain:w.domain}:null),{redirect_to:(A=(_=w.options)===null||_===void 0?void 0:_.redirectTo)!==null&&A!==void 0?A:void 0}),!(($=w==null?void 0:w.options)===null||$===void 0)&&$.captchaToken?{gotrue_meta_security:{captcha_token:w.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:O,code_challenge_method:B}),headers:this.headers,xform:_ssoResponse})}catch(O){if(isAuthError(O))return{data:null,error:O};throw O}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async w=>{const{data:{session:_},error:A}=w;if(A)throw A;if(!_)throw new AuthSessionMissingError;const{error:$}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:_.access_token});return{data:{user:null,session:null},error:$}})}catch(w){if(isAuthError(w))return{data:{user:null,session:null},error:w};throw w}}async resend(w){try{const _=`${this.url}/resend`;if("email"in w){const{email:A,type:$,options:O}=w,{error:B}=await _request(this.fetch,"POST",_,{headers:this.headers,body:{email:A,type:$,gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken}},redirectTo:O==null?void 0:O.emailRedirectTo});return{data:{user:null,session:null},error:B}}else if("phone"in w){const{phone:A,type:$,options:O}=w,{data:B,error:q}=await _request(this.fetch,"POST",_,{headers:this.headers,body:{phone:A,type:$,gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken}}});return{data:{user:null,session:null,messageId:B==null?void 0:B.message_id},error:q}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(_){if(isAuthError(_))return{data:{user:null,session:null},error:_};throw _}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async _=>_))}async _acquireLock(w,_){this._debug("#_acquireLock","begin",w);try{if(this.lockAcquired){const A=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),$=(async()=>(await A,await _()))();return this.pendingInLock.push((async()=>{try{await $}catch{}})()),$}return await this.lock(`lock:${this.storageKey}`,w,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const A=_();for(this.pendingInLock.push((async()=>{try{await A}catch{}})()),await A;this.pendingInLock.length;){const $=[...this.pendingInLock];await Promise.all($),this.pendingInLock.splice(0,$.length)}return await A}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(w){this._debug("#_useSession","begin");try{const _=await this.__loadSession();return await w(_)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let w=null;const _=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",_),_!==null&&(this._isValidSession(_)?w=_:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!w)return{data:{session:null},error:null};const A=w.expires_at?w.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${A?"":" not"} expired`,"expires_at",w.expires_at),!A){if(this.storage.isServer){let B=this.suppressGetSessionWarning;w=new Proxy(w,{get:(H,W,V)=>(!B&&W==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),B=!0,this.suppressGetSessionWarning=!0),Reflect.get(H,W,V))})}return{data:{session:w},error:null}}const{session:$,error:O}=await this._callRefreshToken(w.refresh_token);return O?{data:{session:null},error:O}:{data:{session:$},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(w){return w?await this._getUser(w):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(w){try{return w?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:w,xform:_userResponse}):await this._useSession(async _=>{var A,$,O;const{data:B,error:q}=_;if(q)throw q;return!(!((A=B.session)===null||A===void 0)&&A.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(O=($=B.session)===null||$===void 0?void 0:$.access_token)!==null&&O!==void 0?O:void 0,xform:_userResponse})})}catch(_){if(isAuthError(_))return isAuthSessionMissingError(_)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:_};throw _}}async updateUser(w,_={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(w,_))}async _updateUser(w,_={}){try{return await this._useSession(async A=>{const{data:$,error:O}=A;if(O)throw O;if(!$.session)throw new AuthSessionMissingError;const B=$.session;let q=null,H=null;this.flowType==="pkce"&&w.email!=null&&([q,H]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:W,error:V}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:Object.assign(Object.assign({},w),{code_challenge:q,code_challenge_method:H}),jwt:B.access_token,xform:_userResponse});if(V)throw V;return B.user=W.user,await this._saveSession(B),await this._notifyAllSubscribers("USER_UPDATED",B),{data:{user:B.user},error:null}})}catch(A){if(isAuthError(A))return{data:{user:null},error:A};throw A}}async setSession(w){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(w))}async _setSession(w){try{if(!w.access_token||!w.refresh_token)throw new AuthSessionMissingError;const _=Date.now()/1e3;let A=_,$=!0,O=null;const{payload:B}=decodeJWT(w.access_token);if(B.exp&&(A=B.exp,$=A<=_),$){const{session:q,error:H}=await this._callRefreshToken(w.refresh_token);if(H)return{data:{user:null,session:null},error:H};if(!q)return{data:{user:null,session:null},error:null};O=q}else{const{data:q,error:H}=await this._getUser(w.access_token);if(H)throw H;O={access_token:w.access_token,refresh_token:w.refresh_token,user:q.user,token_type:"bearer",expires_in:A-_,expires_at:A},await this._saveSession(O),await this._notifyAllSubscribers("SIGNED_IN",O)}return{data:{user:O.user,session:O},error:null}}catch(_){if(isAuthError(_))return{data:{session:null,user:null},error:_};throw _}}async refreshSession(w){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(w))}async _refreshSession(w){try{return await this._useSession(async _=>{var A;if(!w){const{data:B,error:q}=_;if(q)throw q;w=(A=B.session)!==null&&A!==void 0?A:void 0}if(!(w!=null&&w.refresh_token))throw new AuthSessionMissingError;const{session:$,error:O}=await this._callRefreshToken(w.refresh_token);return O?{data:{user:null,session:null},error:O}:$?{data:{user:$.user,session:$},error:null}:{data:{user:null,session:null},error:null}})}catch(_){if(isAuthError(_))return{data:{user:null,session:null},error:_};throw _}}async _getSessionFromURL(w,_){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(w.error||w.error_description||w.error_code)throw new AuthImplicitGrantRedirectError(w.error_description||"Error in URL with unspecified error_description",{error:w.error||"unspecified_error",code:w.error_code||"unspecified_code"});switch(_){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(_==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!w.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:ue,error:Ee}=await this._exchangeCodeForSession(w.code);if(Ee)throw Ee;const ge=new URL(window.location.href);return ge.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ge.toString()),{data:{session:ue.session,redirectType:null},error:null}}const{provider_token:A,provider_refresh_token:$,access_token:O,refresh_token:B,expires_in:q,expires_at:H,token_type:W}=w;if(!O||!q||!B||!W)throw new AuthImplicitGrantRedirectError("No session defined in URL");const V=Math.round(Date.now()/1e3),K=parseInt(q);let Y=V+K;H&&(Y=parseInt(H));const re=Y-V;re*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${re}s, should have been closer to ${K}s`);const Q=Y-K;V-Q>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Q,Y,V):V-Q<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Q,Y,V);const{data:ie,error:J}=await this._getUser(O);if(J)throw J;const ce={provider_token:A,provider_refresh_token:$,access_token:O,expires_in:K,expires_at:Y,refresh_token:B,token_type:W,user:ie.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ce,redirectType:w.type},error:null}}catch(A){if(isAuthError(A))return{data:{session:null,redirectType:null},error:A};throw A}}_isImplicitGrantCallback(w){return!!(w.access_token||w.error_description)}async _isPKCECallback(w){const _=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(w.code&&_)}async signOut(w={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(w))}async _signOut({scope:w}={scope:"global"}){return await this._useSession(async _=>{var A;const{data:$,error:O}=_;if(O)return{error:O};const B=(A=$.session)===null||A===void 0?void 0:A.access_token;if(B){const{error:q}=await this.admin.signOut(B,w);if(q&&!(isAuthApiError(q)&&(q.status===404||q.status===401||q.status===403)))return{error:q}}return w!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(w){const _=uuid(),A={id:_,callback:w,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",_),this.stateChangeEmitters.delete(_)}};return this._debug("#onAuthStateChange()","registered callback with id",_),this.stateChangeEmitters.set(_,A),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(_)})))(),{data:{subscription:A}}}async _emitInitialSession(w){return await this._useSession(async _=>{var A,$;try{const{data:{session:O},error:B}=_;if(B)throw B;await((A=this.stateChangeEmitters.get(w))===null||A===void 0?void 0:A.callback("INITIAL_SESSION",O)),this._debug("INITIAL_SESSION","callback id",w,"session",O)}catch(O){await(($=this.stateChangeEmitters.get(w))===null||$===void 0?void 0:$.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",w,"error",O),console.error(O)}})}async resetPasswordForEmail(w,_={}){let A=null,$=null;this.flowType==="pkce"&&([A,$]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:w,code_challenge:A,code_challenge_method:$,gotrue_meta_security:{captcha_token:_.captchaToken}},headers:this.headers,redirectTo:_.redirectTo})}catch(O){if(isAuthError(O))return{data:null,error:O};throw O}}async getUserIdentities(){var w;try{const{data:_,error:A}=await this.getUser();if(A)throw A;return{data:{identities:(w=_.user.identities)!==null&&w!==void 0?w:[]},error:null}}catch(_){if(isAuthError(_))return{data:null,error:_};throw _}}async linkIdentity(w){var _;try{const{data:A,error:$}=await this._useSession(async O=>{var B,q,H,W,V;const{data:K,error:Y}=O;if(Y)throw Y;const re=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,w.provider,{redirectTo:(B=w.options)===null||B===void 0?void 0:B.redirectTo,scopes:(q=w.options)===null||q===void 0?void 0:q.scopes,queryParams:(H=w.options)===null||H===void 0?void 0:H.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",re,{headers:this.headers,jwt:(V=(W=K.session)===null||W===void 0?void 0:W.access_token)!==null&&V!==void 0?V:void 0})});if($)throw $;return isBrowser()&&!(!((_=w.options)===null||_===void 0)&&_.skipBrowserRedirect)&&window.location.assign(A==null?void 0:A.url),{data:{provider:w.provider,url:A==null?void 0:A.url},error:null}}catch(A){if(isAuthError(A))return{data:{provider:w.provider,url:null},error:A};throw A}}async unlinkIdentity(w){try{return await this._useSession(async _=>{var A,$;const{data:O,error:B}=_;if(B)throw B;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${w.identity_id}`,{headers:this.headers,jwt:($=(A=O.session)===null||A===void 0?void 0:A.access_token)!==null&&$!==void 0?$:void 0})})}catch(_){if(isAuthError(_))return{data:null,error:_};throw _}}async _refreshAccessToken(w){const _=`#_refreshAccessToken(${w.substring(0,5)}...)`;this._debug(_,"begin");try{const A=Date.now();return await retryable(async $=>($>0&&await sleep(200*Math.pow(2,$-1)),this._debug(_,"refreshing attempt",$),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:w},headers:this.headers,xform:_sessionResponse})),($,O)=>{const B=200*Math.pow(2,$);return O&&isAuthRetryableFetchError(O)&&Date.now()+B-A<AUTO_REFRESH_TICK_DURATION_MS})}catch(A){if(this._debug(_,"error",A),isAuthError(A))return{data:{session:null,user:null},error:A};throw A}finally{this._debug(_,"end")}}_isValidSession(w){return typeof w=="object"&&w!==null&&"access_token"in w&&"refresh_token"in w&&"expires_at"in w}async _handleProviderSignIn(w,_){const A=await this._getUrlForProvider(`${this.url}/authorize`,w,{redirectTo:_.redirectTo,scopes:_.scopes,queryParams:_.queryParams});return this._debug("#_handleProviderSignIn()","provider",w,"options",_,"url",A),isBrowser()&&!_.skipBrowserRedirect&&window.location.assign(A),{data:{provider:w,url:A},error:null}}async _recoverAndRefresh(){var w;const _="#_recoverAndRefresh()";this._debug(_,"begin");try{const A=await getItemAsync(this.storage,this.storageKey);if(this._debug(_,"session from storage",A),!this._isValidSession(A)){this._debug(_,"session is not valid"),A!==null&&await this._removeSession();return}const $=((w=A.expires_at)!==null&&w!==void 0?w:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(_,`session has${$?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),$){if(this.autoRefreshToken&&A.refresh_token){const{error:O}=await this._callRefreshToken(A.refresh_token);O&&(console.error(O),isAuthRetryableFetchError(O)||(this._debug(_,"refresh failed with a non-retryable error, removing the session",O),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",A)}catch(A){this._debug(_,"error",A),console.error(A);return}finally{this._debug(_,"end")}}async _callRefreshToken(w){var _,A;if(!w)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const $=`#_callRefreshToken(${w.substring(0,5)}...)`;this._debug($,"begin");try{this.refreshingDeferred=new Deferred;const{data:O,error:B}=await this._refreshAccessToken(w);if(B)throw B;if(!O.session)throw new AuthSessionMissingError;await this._saveSession(O.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",O.session);const q={session:O.session,error:null};return this.refreshingDeferred.resolve(q),q}catch(O){if(this._debug($,"error",O),isAuthError(O)){const B={session:null,error:O};return isAuthRetryableFetchError(O)||await this._removeSession(),(_=this.refreshingDeferred)===null||_===void 0||_.resolve(B),B}throw(A=this.refreshingDeferred)===null||A===void 0||A.reject(O),O}finally{this.refreshingDeferred=null,this._debug($,"end")}}async _notifyAllSubscribers(w,_,A=!0){const $=`#_notifyAllSubscribers(${w})`;this._debug($,"begin",_,`broadcast = ${A}`);try{this.broadcastChannel&&A&&this.broadcastChannel.postMessage({event:w,session:_});const O=[],B=Array.from(this.stateChangeEmitters.values()).map(async q=>{try{await q.callback(w,_)}catch(H){O.push(H)}});if(await Promise.all(B),O.length>0){for(let q=0;q<O.length;q+=1)console.error(O[q]);throw O[0]}}finally{this._debug($,"end")}}async _saveSession(w){this._debug("#_saveSession()",w),this.suppressGetSessionWarning=!0,await setItemAsync(this.storage,this.storageKey,w)}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const w=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{w&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",w)}catch(_){console.error("removing visibilitychange callback failed",_)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const w=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=w,w&&typeof w=="object"&&typeof w.unref=="function"?w.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(w),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const w=this.autoRefreshTicker;this.autoRefreshTicker=null,w&&clearInterval(w)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const w=Date.now();try{return await this._useSession(async _=>{const{data:{session:A}}=_;if(!A||!A.refresh_token||!A.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const $=Math.floor((A.expires_at*1e3-w)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${$} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),$<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(A.refresh_token)})}catch(_){console.error("Auto refresh tick failed with error. This is likely a transient error.",_)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(w){if(w.isAcquireTimeout||w instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw w}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(w){console.error("_handleVisibilityChange",w)}}async _onVisibilityChanged(w){const _=`#_onVisibilityChanged(${w})`;this._debug(_,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),w||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(_,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(w,_,A){const $=[`provider=${encodeURIComponent(_)}`];if(A!=null&&A.redirectTo&&$.push(`redirect_to=${encodeURIComponent(A.redirectTo)}`),A!=null&&A.scopes&&$.push(`scopes=${encodeURIComponent(A.scopes)}`),this.flowType==="pkce"){const[O,B]=await getCodeChallengeAndMethod(this.storage,this.storageKey),q=new URLSearchParams({code_challenge:`${encodeURIComponent(O)}`,code_challenge_method:`${encodeURIComponent(B)}`});$.push(q.toString())}if(A!=null&&A.queryParams){const O=new URLSearchParams(A.queryParams);$.push(O.toString())}return A!=null&&A.skipBrowserRedirect&&$.push(`skip_http_redirect=${A.skipBrowserRedirect}`),`${w}?${$.join("&")}`}async _unenroll(w){try{return await this._useSession(async _=>{var A;const{data:$,error:O}=_;return O?{data:null,error:O}:await _request(this.fetch,"DELETE",`${this.url}/factors/${w.factorId}`,{headers:this.headers,jwt:(A=$==null?void 0:$.session)===null||A===void 0?void 0:A.access_token})})}catch(_){if(isAuthError(_))return{data:null,error:_};throw _}}async _enroll(w){try{return await this._useSession(async _=>{var A,$;const{data:O,error:B}=_;if(B)return{data:null,error:B};const q=Object.assign({friendly_name:w.friendlyName,factor_type:w.factorType},w.factorType==="phone"?{phone:w.phone}:{issuer:w.issuer}),{data:H,error:W}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:q,headers:this.headers,jwt:(A=O==null?void 0:O.session)===null||A===void 0?void 0:A.access_token});return W?{data:null,error:W}:(w.factorType==="totp"&&(!(($=H==null?void 0:H.totp)===null||$===void 0)&&$.qr_code)&&(H.totp.qr_code=`data:image/svg+xml;utf-8,${H.totp.qr_code}`),{data:H,error:null})})}catch(_){if(isAuthError(_))return{data:null,error:_};throw _}}async _verify(w){return this._acquireLock(-1,async()=>{try{return await this._useSession(async _=>{var A;const{data:$,error:O}=_;if(O)return{data:null,error:O};const{data:B,error:q}=await _request(this.fetch,"POST",`${this.url}/factors/${w.factorId}/verify`,{body:{code:w.code,challenge_id:w.challengeId},headers:this.headers,jwt:(A=$==null?void 0:$.session)===null||A===void 0?void 0:A.access_token});return q?{data:null,error:q}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+B.expires_in},B)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",B),{data:B,error:q})})}catch(_){if(isAuthError(_))return{data:null,error:_};throw _}})}async _challenge(w){return this._acquireLock(-1,async()=>{try{return await this._useSession(async _=>{var A;const{data:$,error:O}=_;return O?{data:null,error:O}:await _request(this.fetch,"POST",`${this.url}/factors/${w.factorId}/challenge`,{body:{channel:w.channel},headers:this.headers,jwt:(A=$==null?void 0:$.session)===null||A===void 0?void 0:A.access_token})})}catch(_){if(isAuthError(_))return{data:null,error:_};throw _}})}async _challengeAndVerify(w){const{data:_,error:A}=await this._challenge({factorId:w.factorId});return A?{data:null,error:A}:await this._verify({factorId:w.factorId,challengeId:_.id,code:w.code})}async _listFactors(){const{data:{user:w},error:_}=await this.getUser();if(_)return{data:null,error:_};const A=(w==null?void 0:w.factors)||[],$=A.filter(B=>B.factor_type==="totp"&&B.status==="verified"),O=A.filter(B=>B.factor_type==="phone"&&B.status==="verified");return{data:{all:A,totp:$,phone:O},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async w=>{var _,A;const{data:{session:$},error:O}=w;if(O)return{data:null,error:O};if(!$)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:B}=decodeJWT($.access_token);let q=null;B.aal&&(q=B.aal);let H=q;((A=(_=$.user.factors)===null||_===void 0?void 0:_.filter(K=>K.status==="verified"))!==null&&A!==void 0?A:[]).length>0&&(H="aal2");const V=B.amr||[];return{data:{currentLevel:q,nextLevel:H,currentAuthenticationMethods:V},error:null}}))}async fetchJwk(w,_={keys:[]}){let A=_.keys.find(B=>B.kid===w);if(A||(A=this.jwks.keys.find(B=>B.kid===w),A&&this.jwks_cached_at+JWKS_TTL>Date.now()))return A;const{data:$,error:O}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(O)throw O;if(!$.keys||$.keys.length===0)throw new AuthInvalidJwtError("JWKS is empty");if(this.jwks=$,this.jwks_cached_at=Date.now(),A=$.keys.find(B=>B.kid===w),!A)throw new AuthInvalidJwtError("No matching signing key found in JWKS");return A}async getClaims(w,_={keys:[]}){try{let A=w;if(!A){const{data:re,error:Q}=await this.getSession();if(Q||!re.session)return{data:null,error:Q};A=re.session.access_token}const{header:$,payload:O,signature:B,raw:{header:q,payload:H}}=decodeJWT(A);if(validateExp(O.exp),!$.kid||$.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:re}=await this.getUser(A);if(re)throw re;return{data:{claims:O,header:$,signature:B},error:null}}const W=getAlgorithm($.alg),V=await this.fetchJwk($.kid,_),K=await crypto.subtle.importKey("jwk",V,W,!0,["verify"]);if(!await crypto.subtle.verify(W,K,B,stringToUint8Array(`${q}.${H}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:O,header:$,signature:B},error:null}}catch(A){if(isAuthError(A))return{data:null,error:A};throw A}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(w){super(w)}}var __awaiter=function(R,w,_,A){function $(O){return O instanceof _?O:new _(function(B){B(O)})}return new(_||(_=Promise))(function(O,B){function q(V){try{W(A.next(V))}catch(K){B(K)}}function H(V){try{W(A.throw(V))}catch(K){B(K)}}function W(V){V.done?O(V.value):$(V.value).then(q,H)}W((A=A.apply(R,w||[])).next())})};class SupabaseClient{constructor(w,_,A){var $,O,B;if(this.supabaseUrl=w,this.supabaseKey=_,!w)throw new Error("supabaseUrl is required.");if(!_)throw new Error("supabaseKey is required.");const q=ensureTrailingSlash(w),H=new URL(q);this.realtimeUrl=new URL("realtime/v1",H),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",H),this.storageUrl=new URL("storage/v1",H),this.functionsUrl=new URL("functions/v1",H);const W=`sb-${H.hostname.split(".")[0]}-auth-token`,V={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:W}),global:DEFAULT_GLOBAL_OPTIONS},K=applySettingDefaults(A??{},V);this.storageKey=($=K.auth.storageKey)!==null&&$!==void 0?$:"",this.headers=(O=K.global.headers)!==null&&O!==void 0?O:{},K.accessToken?(this.accessToken=K.accessToken,this.auth=new Proxy({},{get:(Y,re)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(re)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((B=K.auth)!==null&&B!==void 0?B:{},this.headers,K.global.fetch),this.fetch=fetchWithAuth(_,this._getAccessToken.bind(this),K.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},K.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",H).href,{headers:this.headers,schema:K.db.schema,fetch:this.fetch}),K.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl.href,this.headers,this.fetch)}from(w){return this.rest.from(w)}schema(w){return this.rest.schema(w)}rpc(w,_={},A={}){return this.rest.rpc(w,_,A)}channel(w,_={config:{}}){return this.realtime.channel(w,_)}getChannels(){return this.realtime.getChannels()}removeChannel(w){return this.realtime.removeChannel(w)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var w,_;return __awaiter(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:A}=yield this.auth.getSession();return(_=(w=A.session)===null||w===void 0?void 0:w.access_token)!==null&&_!==void 0?_:null})}_initSupabaseAuthClient({autoRefreshToken:w,persistSession:_,detectSessionInUrl:A,storage:$,storageKey:O,flowType:B,lock:q,debug:H},W,V){const K={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},K),W),storageKey:O,autoRefreshToken:w,persistSession:_,detectSessionInUrl:A,storage:$,flowType:B,lock:q,debug:H,fetch:V,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(w){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},w),{params:Object.assign({apikey:this.supabaseKey},w==null?void 0:w.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((_,A)=>{this._handleTokenChanged(_,"CLIENT",A==null?void 0:A.access_token)})}_handleTokenChanged(w,_,A){(w==="TOKEN_REFRESHED"||w==="SIGNED_IN")&&this.changedAccessToken!==A?this.changedAccessToken=A:w==="SIGNED_OUT"&&(this.realtime.setAuth(),_=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(R,w,_)=>new SupabaseClient(R,w,_),SUPABASE_URL="https://xafgvakclkwjivgfzljq.supabase.co",SUPABASE_PUBLISHABLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhhZmd2YWtjbGt3aml2Z2Z6bGpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzOTIyNzYsImV4cCI6MjA2Mzk2ODI3Nn0.XS1BZvSgW63kc2t5G5lOVHiWJEzw1VYxa68XihpeCwg",supabase=createClient(SUPABASE_URL,SUPABASE_PUBLISHABLE_KEY),useDatabaseSettings=()=>useQuery({queryKey:["database-settings"],queryFn:async()=>{const{data:R,error:w}=await supabase.from("settings").select("*");if(w){try{console.error("Error fetching settings:",JSON.stringify(w))}catch{console.error("Error fetching settings:",w)}throw new Error((w==null?void 0:w.message)||JSON.stringify(w)||"Unknown error fetching settings")}const _={};return R==null||R.forEach(A=>{A&&typeof A.key=="string"&&(_[A.key]=A.value??"")}),_}}),useCompanyName=()=>{const{data:R}=useDatabaseSettings();return(R==null?void 0:R.company_name)||"Insights Business Magazine"},DEFAULT_SETTINGS={siteTitle:"Insights Business Magazine",companyName:"Insights Business Magazine",siteLogo:null,primaryColor:"#0f172a",analyticsCode:"",homepageSections:{featuredArticles:!0,latestMagazine:!0,leadershipProfiles:!0,pressReleases:!0,industryNews:!0}},useSettings=()=>{const[R,w]=reactExports.useState(DEFAULT_SETTINGS),[_,A]=reactExports.useState(!1),{data:$}=useDatabaseSettings();reactExports.useEffect(()=>{O()},[$]);const O=()=>{try{const W=localStorage.getItem("siteSettings");let V=DEFAULT_SETTINGS;if(W){const K=JSON.parse(W);V={...DEFAULT_SETTINGS,...K}}$&&(V={...V,companyName:$.company_name||V.companyName,siteTitle:$.company_name||V.siteTitle}),w(V)}catch(W){console.error("Error loading settings:",W),w(DEFAULT_SETTINGS)}},B=async W=>{A(!0);try{const V={...R,...W};return w(V),localStorage.setItem("siteSettings",JSON.stringify(V)),Jt.success("Settings saved successfully"),!0}catch(V){return console.error("Error saving settings:",V),Jt.error("Failed to save settings"),!1}finally{A(!1)}};return{settings:R,loading:_,saveSettings:B,updateHomepageSection:(W,V)=>{const K={...R.homepageSections,[W]:V};B({homepageSections:K})},resetSettings:()=>{w(DEFAULT_SETTINGS),localStorage.removeItem("siteSettings"),Jt.success("Settings reset to defaults")},loadSettings:O}},categories=[{href:"/",label:"Home"},{href:"/magazine",label:"Magazine"},{href:"/leadership",label:"Leadership"},{href:"/press-releases",label:"Press Releases"},{href:"/about",label:"About"},{href:"/contact",label:"Contact"}],Navbar=()=>{const[R,w]=reactExports.useState(!1),{settings:_}=useSettings(),A=()=>w(!R);return jsxRuntimeExports.jsxs("header",{className:"sticky top-0 z-[1000] shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"hidden md:block bg-insightBlack text-white text-sm",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-10 flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4",children:jsxRuntimeExports.jsx("span",{className:"opacity-80",children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"opacity-80 hover:opacity-100 transition",children:jsxRuntimeExports.jsx(Facebook,{size:16})}),jsxRuntimeExports.jsx("a",{href:"#",className:"opacity-80 hover:opacity-100 transition",children:jsxRuntimeExports.jsx(Twitter,{size:16})}),jsxRuntimeExports.jsx("a",{href:"#",className:"opacity-80 hover:opacity-100 transition",children:jsxRuntimeExports.jsx(Instagram,{size:16})}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/company/theciovision",target:"_blank",rel:"noopener noreferrer",className:"opacity-80 hover:opacity-100 transition",children:jsxRuntimeExports.jsx(Linkedin,{size:16})}),jsxRuntimeExports.jsx(Link,{to:"/magazine",className:"ml-4 inline-flex items-center px-3 py-1 rounded-full bg-insightRed hover:bg-insightRed/90 text-white font-medium",children:"Subscribe"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white border-b border-gray-100",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"h-20 flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center group",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:_.siteLogo?jsxRuntimeExports.jsx("img",{src:_.siteLogo,alt:_.companyName,className:"w-12 h-12 rounded-lg shadow-lg group-hover:shadow-xl transition-all duration-300"}):jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-insightRed to-red-700 rounded-lg flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300",children:jsxRuntimeExports.jsxs("div",{className:"w-8 h-8 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white rounded-sm opacity-90"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1 left-1 right-1 h-1 bg-insightRed rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-3 left-1 right-2 h-0.5 bg-gray-400 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-[18px] left-1 right-3 h-0.5 bg-gray-400 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-6 left-1 right-1.5 h-0.5 bg-gray-400 rounded-full"})]})})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold font-premium tracking-tight text-insightBlack group-hover:text-insightRed transition-colors duration-300",children:_.companyName}),jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.2em] -mt-1",children:"Business Magazine"})]})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{className:"h-10 w-64 pl-10 pr-3 rounded-md border border-gray-200 bg-gray-50 focus:bg-white focus:border-insightRed outline-none transition",placeholder:"Search"}),jsxRuntimeExports.jsx(Search,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]}),jsxRuntimeExports.jsx(Link,{to:"/magazine",className:"inline-flex items-center h-10 px-4 rounded-md bg-insightRed text-white hover:bg-insightRed/90 transition",children:"Read Latest"})]}),jsxRuntimeExports.jsxs("button",{className:"lg:hidden inline-flex items-center justify-center p-3 rounded-md text-insightBlack hover:text-insightRed hover:bg-gray-100 focus:outline-none transition-colors duration-200",onClick:A,children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Open main menu"}),R?jsxRuntimeExports.jsx(X,{className:"h-6 w-6"}):jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})]})]})})}),jsxRuntimeExports.jsx("nav",{className:"hidden lg:block bg-white/90 backdrop-blur border-b border-gray-100",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsx("ul",{className:"flex items-center gap-6 h-12",children:categories.map($=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs(Link,{to:$.href,className:"px-2 py-1 text-sm font-semibold tracking-wide uppercase text-insightBlack/80 hover:text-insightRed relative group",children:[$.label,jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-insightRed transition-all duration-300 group-hover:w-full"})]})},$.href))})})}),R&&jsxRuntimeExports.jsxs("div",{className:"lg:hidden bg-white border-b border-gray-100 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"px-4 pb-4 pt-2 space-y-1",children:categories.map($=>jsxRuntimeExports.jsx(Link,{to:$.href,className:"block px-4 py-3 text-base font-medium text-insightBlack hover:text-insightRed hover:bg-gray-50 rounded-lg transition-colors",onClick:A,children:$.label},$.href))}),jsxRuntimeExports.jsx("div",{className:"px-4 pb-4",children:jsxRuntimeExports.jsx(Link,{to:"/magazine",className:"inline-flex w-full items-center justify-center h-11 rounded-md bg-insightRed text-white font-medium hover:bg-insightRed/90",children:"Subscribe"})})]})]})},buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:R,variant:w,size:_,asChild:A=!1,...$},O)=>{const B=A?Slot:"button";return jsxRuntimeExports.jsx(B,{className:cn(buttonVariants({variant:w,size:_,className:R})),ref:O,...$})});Button.displayName="Button";const Input=reactExports.forwardRef(({className:R,type:w,..._},A)=>jsxRuntimeExports.jsx("input",{type:w,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",R),ref:A,..._}));Input.displayName="Input";const Footer=()=>{const{settings:R}=useSettings(),[w,_]=reactExports.useState(""),[A,$]=reactExports.useState(!1),O=reactExports.useRef(null),B=async q=>{if(q.preventDefault(),!w.trim()){toast({title:"Email is required",description:"Please enter a valid email address.",variant:"destructive"});return}$(!0);try{const{error:H}=await supabase.from("newsletter_subscribers").insert([{email:w.trim()}]);H?H.code==="23505"?toast({title:"Already Subscribed",description:"This email is already subscribed to the newsletter.",variant:"default"}):toast({title:"Subscription failed",description:H.message,variant:"destructive"}):(toast({title:"Thank you for subscribing!",description:"You have been added to our newsletter.",variant:"default"}),_(""),O.current&&(O.current.value=""))}catch(H){toast({title:"Subscription failed",description:H.message,variant:"destructive"})}$(!1)};return jsxRuntimeExports.jsxs("footer",{className:"bg-insightBlack text-white",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-gray-700",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold",children:"Subscribe to Our Newsletter"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-3 text-lg",children:"Stay updated with the latest business insights and executive news"})]}),jsxRuntimeExports.jsxs("form",{className:"flex w-full max-w-lg space-x-3",onSubmit:B,children:[jsxRuntimeExports.jsx(Input,{ref:O,type:"email",placeholder:"Enter your email address",className:"bg-gray-800 border-gray-700 placeholder-gray-500 text-white h-12 text-base",value:w,onChange:q=>_(q.target.value),disabled:A,required:!0}),jsxRuntimeExports.jsx(Button,{size:"lg",className:"bg-insightRed hover:bg-insightRed/90 text-white border-insightRed px-8",disabled:A,type:"submit",children:A?"Subscribing...":"Subscribe"})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-6",children:"About"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/about",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Our Story"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/about",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Team"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/about",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Careers"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/documentation",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Documentation"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-6",children:"Content"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/magazine",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Magazine"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/leadership",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Leadership"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/press-releases",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Press Releases"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-6",children:"Legal"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Privacy Policy"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Terms of Service"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Cookie Policy"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-6",children:"Connect"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Contact Us"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Partner With Us"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-base",children:"Advertise"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-16 border-t border-gray-700 pt-10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center group",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-insightRed to-red-700 rounded-lg flex items-center justify-center shadow-lg mr-3",children:jsxRuntimeExports.jsxs("div",{className:"w-6 h-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white rounded-sm opacity-90"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0.5 left-0.5 right-0.5 h-0.5 bg-insightRed rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-0.5 right-1 h-0.5 bg-gray-400 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-3 left-0.5 right-1.5 h-0.5 bg-gray-400 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-0.5 right-1 h-0.5 bg-gray-400 rounded-full"})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-white",children:R.companyName}),jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-gray-400 -mt-1",children:"BUSINESS MAGAZINE"})]})]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-400 ml-6 text-base",children:[" 2025 ",R.companyName,". All rights reserved."]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-6 mt-6 md:mt-0",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-gray-800",children:jsxRuntimeExports.jsx(Facebook,{size:22})}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-gray-800",children:jsxRuntimeExports.jsx(Twitter,{size:22})}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-gray-800",children:jsxRuntimeExports.jsx(Instagram,{size:22})}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/company/theciovision",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-gray-800",children:jsxRuntimeExports.jsx(Linkedin,{size:22})}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-gray-800",children:jsxRuntimeExports.jsx(Mail,{size:22})})]})]})})]})]})},Dialog=Root$6,DialogTrigger=Trigger$2,DialogPortal=Portal$1,DialogOverlay=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Overlay,{ref:_,className:cn("fixed inset-0 z-[2000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",R),...w}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:R,children:w,..._},A)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$3,{ref:A,className:cn("fixed left-[50%] top-[50%] z-[2000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",R),..._,children:[w,jsxRuntimeExports.jsxs(Close$1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content$3.displayName;const DialogHeader=({className:R,...w})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",R),...w});DialogHeader.displayName="DialogHeader";const DialogTitle=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Title$1,{ref:_,className:cn("text-lg font-semibold leading-none tracking-tight",R),...w}));DialogTitle.displayName=Title$1.displayName;const DialogDescription=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Description$1,{ref:_,className:cn("text-sm text-muted-foreground",R),...w}));DialogDescription.displayName=Description$1.displayName;const ChatBot=()=>{const R=useCompanyName(),w=[`How can I subscribe to ${R}?`,"Tell me about your featured C-suite executives","Which industries do you cover in your publications?","How can my company be featured in your magazine?","When is the next issue releasing?","What are your advertising opportunities?","How do I submit a press release?","Can you provide insights on industry trends?"],[_,A]=reactExports.useState(!1),[$,O]=reactExports.useState(!0),[B,q]=reactExports.useState([{text:"Hello! I'm your Insights Business Magazine Assistant. How can I help you with magazine subscriptions, business insights, or industry inquiries today?",isUser:!1}]),[H,W]=reactExports.useState("");reactExports.useEffect(()=>{q([{text:`Hello! I'm your ${R} Assistant. How can I help you with magazine subscriptions, business insights, or industry inquiries today?`,isUser:!1}])},[R]);const V=Y=>{typeof Y!="string"&&Y.preventDefault();const re=typeof Y=="string"?Y:H;re.trim()&&(q(Q=>[...Q,{text:re,isUser:!0}]),typeof Y!="string"&&W(""),setTimeout(()=>{let Q="Thank you for your inquiry. Our editorial team will provide you with detailed information shortly.";const ie=re.toLowerCase();ie.includes("subscribe")||ie.includes("subscription")?Q=`${R} offers premium subscriptions with exclusive access to C-suite interviews, industry analysis, and leadership insights. Visit our Contact page or call our subscription team at 1-800-INSIGHTS for personalized plans.`:ie.includes("featured")||ie.includes("executive")?Q="Our magazine regularly features Fortune 500 CEOs, innovative startup founders, and transformational leaders. Recent features include executives from technology, finance, healthcare, and sustainable business sectors.":ie.includes("industry")||ie.includes("industries")?Q="We cover Technology & Innovation, Financial Services, Healthcare & Biotechnology, Sustainable Business, Manufacturing & Supply Chain, Retail & E-commerce, and Emerging Markets. Each issue provides deep-dive analysis and strategic insights.":ie.includes("advertise")||ie.includes("advertising")?Q=`${R} offers premium advertising opportunities including full-page spreads, sponsored content, and digital placements. Our readership includes 2.5M+ C-suite executives globally. Contact our media team for advertising packages.`:ie.includes("press release")||ie.includes("submit")?Q="Submit your press releases through our Press Releases section. We prioritize announcements about leadership changes, strategic partnerships, innovation launches, and market expansions from established companies.":ie.includes("trend")||ie.includes("insight")?Q="Our research team tracks key business trends including AI transformation, sustainable business practices, remote leadership strategies, and emerging market opportunities. Access our latest trend reports in the Magazine section.":(ie.includes("next issue")||ie.includes("release"))&&(Q="Our quarterly magazine releases in March, June, September, and December. The upcoming issue focuses on 'Digital Transformation Leadership' featuring 50+ global executives sharing transformation strategies."),q(J=>[...J,{text:Q,isUser:!1}])},1500))},K=Y=>{V(Y),O(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>A(!0),className:"fixed bottom-8 right-8 h-16 w-16 rounded-full shadow-2xl bg-gradient-to-br from-insightRed to-red-700 hover:from-red-700 hover:to-insightRed transition-all duration-500 transform hover:scale-110 border-4 border-white","aria-label":"Open chat assistant",children:[jsxRuntimeExports.jsx(Bot,{className:"h-7 w-7 text-white"}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),jsxRuntimeExports.jsx(Dialog,{open:_,onOpenChange:A,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[480px] h-[700px] flex flex-col p-0 overflow-hidden rounded-2xl border-2 border-gray-200 shadow-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{className:"p-8 bg-gradient-to-r from-insightRed via-red-600 to-red-700 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-20",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gradient-to-br from-white/10 to-transparent"})}),jsxRuntimeExports.jsxs(DialogTitle,{className:"text-white flex items-center gap-3 relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:jsxRuntimeExports.jsx(Bot,{className:"h-6 w-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",children:"Insights Assistant"}),jsxRuntimeExports.jsxs("div",{className:"text-white/90 text-sm font-normal",children:[R," Support"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-50",children:B.map((Y,re)=>jsxRuntimeExports.jsx("div",{className:`flex ${Y.isUser?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl shadow-sm ${Y.isUser?"bg-gradient-to-br from-insightRed to-red-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md border border-gray-200"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed",children:Y.text})})},re))}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>O(!$),className:"flex items-center justify-between w-full p-3 text-left text-sm font-medium text-gray-700 hover:text-insightRed transition-colors duration-200 rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4"}),"Suggested Questions (",w.length,")"]}),$?jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})]}),$&&jsxRuntimeExports.jsx("div",{className:"mt-3 space-y-2 max-h-32 overflow-y-auto",children:w.map((Y,re)=>jsxRuntimeExports.jsx("button",{onClick:()=>K(Y),className:"w-full text-left text-xs bg-gradient-to-r from-gray-50 to-gray-100 hover:from-insightRed/10 hover:to-red-50 text-gray-700 hover:text-insightRed rounded-lg px-3 py-2.5 transition-all duration-200 border border-gray-200 hover:border-insightRed/30",children:Y},re))})]})}),jsxRuntimeExports.jsx("form",{onSubmit:V,className:"p-6 border-t bg-white",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Input,{value:H,onChange:Y=>W(Y.target.value),placeholder:"Ask about subscriptions, features, or business insights...",className:"flex-1 h-12 text-base border-2 border-gray-200 focus:border-insightRed rounded-xl"}),jsxRuntimeExports.jsx(Button,{type:"submit",size:"lg",className:"bg-gradient-to-r from-insightRed to-red-600 hover:from-red-600 hover:to-red-700 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:jsxRuntimeExports.jsx(Send,{className:"h-5 w-5"})})]})})]})})]})},Layout=({children:R})=>(useSettings(),jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:"flex-grow",children:R}),jsxRuntimeExports.jsx(Footer,{}),jsxRuntimeExports.jsx(ChatBot,{})]})),useArticles=()=>useQuery({queryKey:["articles"],queryFn:async()=>{const{data:R,error:w}=await supabase.from("articles").select("*").order("date",{ascending:!1});if(w)throw w;return R}}),useFeaturedArticles=()=>useQuery({queryKey:["articles","featured"],queryFn:async()=>{const{data:R,error:w}=await supabase.from("articles").select("*").eq("featured",!0).order("date",{ascending:!1}).limit(6);if(w)throw w;return R}}),useArticleBySlug=R=>useQuery({queryKey:["articles",R],queryFn:async()=>{const{data:w,error:_}=await supabase.from("articles").select("*").eq("slug",R).single();if(_)throw _;return w},enabled:!!R}),useCreateArticle=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{data:_,error:A}=await supabase.from("articles").insert([w]).select().single();if(A)throw A;return _},onSuccess:()=>{R.invalidateQueries({queryKey:["articles"]}),Jt.success("Article created successfully")},onError:w=>{Jt.error("Failed to create article"),console.error(w)}})},useUpdateArticle=()=>{const R=useQueryClient();return useMutation({mutationFn:async({id:w,..._})=>{const{data:A,error:$}=await supabase.from("articles").update(_).eq("id",w).select().single();if($)throw $;return A},onSuccess:()=>{R.invalidateQueries({queryKey:["articles"]}),Jt.success("Article updated successfully")},onError:w=>{Jt.error("Failed to update article"),console.error(w)}})},useDeleteArticle=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{error:_}=await supabase.from("articles").delete().eq("id",w);if(_)throw _},onSuccess:()=>{R.invalidateQueries({queryKey:["articles"]}),Jt.success("Article deleted successfully")},onError:w=>{Jt.error("Failed to delete article"),console.error(w)}})},useMagazines=()=>useQuery({queryKey:["magazines"],queryFn:async()=>{const{data:R,error:w}=await supabase.from("magazines").select("*").order("publish_date",{ascending:!1});if(w)throw w;return R}}),useFeaturedMagazines=()=>useQuery({queryKey:["magazines","featured"],queryFn:async()=>{const{data:R,error:w}=await supabase.from("magazines").select("*").eq("featured",!0).order("publish_date",{ascending:!1}).limit(3);if(w)throw w;return R}}),useMagazineBySlug=(R,w)=>useQuery({queryKey:["magazines",R],queryFn:async()=>{const{data:_,error:A}=await supabase.from("magazines").select("*").eq("slug",R).single();if(A)throw A;return _},enabled:!!R&&(w==null?void 0:w.enabled)!==!1}),useCreateMagazine=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{data:_,error:A}=await supabase.from("magazines").insert([w]).select().single();if(A)throw A;return _},onSuccess:()=>{R.invalidateQueries({queryKey:["magazines"]}),Jt.success("Magazine created successfully")},onError:w=>{Jt.error("Failed to create magazine"),console.error(w)}})},useUpdateMagazine=()=>{const R=useQueryClient();return useMutation({mutationFn:async({id:w,..._})=>{const{data:A,error:$}=await supabase.from("magazines").update(_).eq("id",w).select().single();if($)throw $;return A},onSuccess:()=>{R.invalidateQueries({queryKey:["magazines"]}),Jt.success("Magazine updated successfully")},onError:w=>{Jt.error("Failed to update magazine"),console.error(w)}})},useDeleteMagazine=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{error:_}=await supabase.from("magazines").delete().eq("id",w);if(_)throw _},onSuccess:()=>{R.invalidateQueries({queryKey:["magazines"]}),Jt.success("Magazine deleted successfully")},onError:w=>{Jt.error("Failed to delete magazine"),console.error(w)}})},useLeadershipProfiles=()=>useQuery({queryKey:["leadership"],queryFn:async()=>{const{data:R,error:w}=await supabase.from("leadership_profiles").select("*").order("name");if(w)throw w;return R}}),useLeadershipBySlug=R=>useQuery({queryKey:["leadership",R],queryFn:async()=>{const{data:w,error:_}=await supabase.from("leadership_profiles").select("*").eq("slug",R).single();if(_)throw _;return w},enabled:!!R}),useCreateLeadership=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{data:_,error:A}=await supabase.from("leadership_profiles").insert([w]).select().single();if(A)throw A;return _},onSuccess:()=>{R.invalidateQueries({queryKey:["leadership"]}),Jt.success("Leadership profile created successfully")},onError:w=>{Jt.error("Failed to create leadership profile"),console.error(w)}})},useUpdateLeadership=()=>{const R=useQueryClient();return useMutation({mutationFn:async({id:w,..._})=>{const{data:A,error:$}=await supabase.from("leadership_profiles").update(_).eq("id",w).select().single();if($)throw $;return A},onSuccess:()=>{R.invalidateQueries({queryKey:["leadership"]}),Jt.success("Leadership profile updated successfully")},onError:w=>{Jt.error("Failed to update leadership profile"),console.error(w)}})},useDeleteLeadership=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{error:_}=await supabase.from("leadership_profiles").delete().eq("id",w);if(_)throw _},onSuccess:()=>{R.invalidateQueries({queryKey:["leadership"]}),Jt.success("Leadership profile deleted successfully")},onError:w=>{Jt.error("Failed to delete leadership profile"),console.error(w)}})},usePressReleases=()=>useQuery({queryKey:["press_releases"],queryFn:async()=>{const{data:R,error:w}=await supabase.from("press_releases").select("*").order("date",{ascending:!1});if(w)throw new Error(w.message);return R||[]}}),useCreatePressRelease=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{data:_,error:A}=await supabase.from("press_releases").insert([w]).select().single();if(A)throw new Error(A.message);return _},onSuccess:()=>{R.invalidateQueries({queryKey:["press_releases"]}),R.invalidateQueries({queryKey:["dashboard_stats"]}),Jt.success("Press release created successfully.")},onError:w=>{Jt.error(`Error creating press release: ${w.message}`)}})},useUpdatePressRelease=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{id:_,...A}=w;if(!_)throw new Error("ID is required for updating");const{data:$,error:O}=await supabase.from("press_releases").update(A).eq("id",_).select().single();if(O)throw new Error(O.message);return $},onSuccess:()=>{R.invalidateQueries({queryKey:["press_releases"]}),Jt.success("Press release updated successfully.")},onError:w=>{Jt.error(`Error updating press release: ${w.message}`)}})},useDeletePressRelease=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{error:_}=await supabase.from("press_releases").delete().eq("id",w);if(_)throw new Error(_.message)},onSuccess:()=>{R.invalidateQueries({queryKey:["press_releases"]}),R.invalidateQueries({queryKey:["dashboard_stats"]}),Jt.success("Press release deleted successfully.")},onError:w=>{Jt.error(`Error deleting press release: ${w.message}`)}})},Card=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("div",{ref:_,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",R),...w}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("div",{ref:_,className:cn("flex flex-col space-y-1.5 p-6",R),...w}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("h3",{ref:_,className:cn("text-2xl font-semibold leading-none tracking-tight",R),...w}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("p",{ref:_,className:cn("text-sm text-muted-foreground",R),...w}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("div",{ref:_,className:cn("p-6 pt-0",R),...w}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("div",{ref:_,className:cn("flex items-center p-6 pt-0",R),...w}));CardFooter.displayName="CardFooter";function imgOf$1(R){return(R==null?void 0:R.image_url)||"/placeholder.svg"}function titleOf$1(R){return(R==null?void 0:R.title)||"Untitled"}function slugOf$1(R){return(R==null?void 0:R.slug)||""}function dateOf$1(R){const w=R!=null&&R.date?new Date(R.date):null;return w?w.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}function categoryOf$1(R){return(R==null?void 0:R.category)||"Business"}function excerptOf$1(R){return(R==null?void 0:R.excerpt)||""}const Home=()=>{const{data:R=[]}=useArticles(),{data:w=[]}=useMagazines(),{data:_=[]}=useFeaturedArticles(),{settings:A}=useSettings(),{data:$=[]}=useLeadershipProfiles(),{data:O=[]}=usePressReleases(),B=Array.isArray(R)?R:[],q=Array.isArray(w)?w:[],{main:H,secondary:W,headlines:V,mostRead:K,latestGrid:Y,latestMagazine:re}=reactExports.useMemo(()=>{const Q=[...B].filter(Boolean).sort((ve,he)=>new Date((he==null?void 0:he.date)||0).getTime()-new Date((ve==null?void 0:ve.date)||0).getTime()),ie=[...Q].sort((ve,he)=>(he!=null&&he.featured?1:0)-(ve!=null&&ve.featured?1:0)),J=ie[0],ce=ie.slice(1,4),ue=ie.slice(3,11),Ee=Q.slice(0,4),ge=Q.slice(11,15),le=q[0]||null;return{main:J,secondary:ce,headlines:ue,mostRead:Ee,latestGrid:ge,latestMagazine:le}},[B,q]);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx("div",{className:"bg-insightBlack text-white overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 py-2",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-insightRed text-white text-xs font-bold uppercase tracking-wide",children:[jsxRuntimeExports.jsx(Newspaper,{className:"w-3 h-3 mr-1"})," Latest"]}),jsxRuntimeExports.jsx("div",{className:"relative flex-1 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"whitespace-nowrap animate-marquee",children:[...V.length?V:B.slice(0,8)].map((Q,ie)=>jsxRuntimeExports.jsx(Link,{to:`/article/${slugOf$1(Q)}`,className:"inline-flex items-center text-sm text-white/90 hover:text-white mx-6",children:titleOf$1(Q)},slugOf$1(Q)+ie))})})]})})}),jsxRuntimeExports.jsx("section",{className:"py-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[jsxRuntimeExports.jsx("aside",{className:"lg:col-span-3 space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 font-semibold uppercase tracking-wide text-sm text-insightBlack flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-4 w-4 text-insightRed"}),"Most Read"]}),jsxRuntimeExports.jsx("ul",{className:"divide-y divide-gray-200 [&>*]:border-b [&>*]:border-gray-200 [&>*:last-child]:border-b-0",children:K.map((Q,ie)=>jsxRuntimeExports.jsx("li",{className:"p-4 hover:bg-white transition",children:jsxRuntimeExports.jsxs(Link,{to:`/article/${slugOf$1(Q)}`,className:"flex gap-4 group items-start",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-24 overflow-hidden rounded bg-gray-100 flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:imgOf$1(Q),alt:titleOf$1(Q),className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"leading-snug flex-1",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mb-1",children:categoryOf$1(Q)}),jsxRuntimeExports.jsx("h4",{className:"font-semibold group-hover:text-insightRed line-clamp-2",children:titleOf$1(Q)}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:dateOf$1(Q)})]})]})},slugOf$1(Q)+ie))})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-6 space-y-6",children:H&&jsxRuntimeExports.jsxs("article",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Link,{to:`/article/${slugOf$1(H)}`,className:"block group rounded-2xl overflow-hidden shadow-lg bg-white",children:jsxRuntimeExports.jsx("div",{className:"w-full aspect-[16/9] bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:imgOf$1(H),alt:titleOf$1(H),className:"max-h-full max-w-full object-contain"})})}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white rounded-md",children:[jsxRuntimeExports.jsx("h1",{style:{fontSize:"27px"},className:"font-bold leading-tight text-insightBlack",children:titleOf$1(H)}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mt-2 line-clamp-2 md:line-clamp-3",children:excerptOf$1(H)}),jsxRuntimeExports.jsxs(Link,{to:`/article/${slugOf$1(H)}`,className:"inline-flex items-center text-insightRed hover:text-insightBlack font-medium mt-3",children:["Read full story ",jsxRuntimeExports.jsx(ChevronRight,{className:"ml-1 h-4 w-4"})]})]})]})}),jsxRuntimeExports.jsx("aside",{className:"lg:col-span-3 space-y-6",children:W.map((Q,ie)=>jsxRuntimeExports.jsx(Link,{to:`/article/${slugOf$1(Q)}`,className:"block group rounded-xl overflow-hidden border border-gray-200 hover:shadow-lg transition",children:jsxRuntimeExports.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:imgOf$1(Q),alt:titleOf$1(Q),className:"w-full h-full object-cover"})})},slugOf$1(Q)+ie))})]})}),jsxRuntimeExports.jsx("section",{className:"py-12 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack",children:"Editor's Picks"}),jsxRuntimeExports.jsx(Link,{to:"/articles",className:"text-sm font-semibold text-insightRed hover:text-insightBlack",children:"View all"})]}),(()=>{const ie=(_&&_.length?_:Y||[]).slice(0,3);return jsxRuntimeExports.jsx("div",{className:"grid gap-6",style:{gridTemplateColumns:`repeat(${Math.max(ie.length,1)}, minmax(0, 1fr))`},children:ie.map((J,ce)=>jsxRuntimeExports.jsxs(Link,{to:`/article/${slugOf$1(J)}`,className:"bg-white rounded-2xl shadow overflow-hidden flex flex-col h-full group",children:[jsxRuntimeExports.jsx("div",{className:"aspect-[16/10] bg-black flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:imgOf$1(J),alt:titleOf$1(J),className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mb-2",children:categoryOf$1(J)}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg line-clamp-2 group-hover:text-insightRed",children:titleOf$1(J)})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-400",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:dateOf$1(J)})]})})]})]},slugOf$1(J)+ce))})})()]})}),jsxRuntimeExports.jsx("section",{className:"py-12 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack",children:"Top Stories"}),jsxRuntimeExports.jsx(Link,{to:"/articles",className:"text-sm font-semibold text-insightRed hover:text-insightBlack",children:"View all"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:(_&&_.length?_:Y).slice(0,3).map((Q,ie)=>jsxRuntimeExports.jsxs(Link,{to:`/article/${slugOf$1(Q)}`,className:"bg-white rounded-2xl shadow hover:shadow-md transition-shadow overflow-hidden flex flex-col group",children:[jsxRuntimeExports.jsx("div",{className:"aspect-[16/10] bg-black flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:imgOf$1(Q),alt:titleOf$1(Q),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),jsxRuntimeExports.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mb-2",children:categoryOf$1(Q)}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg line-clamp-2 group-hover:text-insightRed",children:titleOf$1(Q)})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center text-xs text-gray-400",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-2"}),dateOf$1(Q)]})]})]},slugOf$1(Q)+ie))})]})}),jsxRuntimeExports.jsx("section",{className:"py-12 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack",children:"Leadership Spotlight"}),jsxRuntimeExports.jsx(Link,{to:"/leadership",className:"text-sm font-semibold text-insightRed hover:text-insightBlack",children:"View all"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:($||[]).slice(0,3).map(Q=>jsxRuntimeExports.jsx(Link,{to:`/leadership/${Q.slug||Q.id}`,className:"block group",children:jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[jsxRuntimeExports.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:Q.image_url||"/placeholder.svg",alt:Q.name,className:"max-h-full max-w-full object-cover group-hover:scale-105 transition-transform duration-300"})}),jsxRuntimeExports.jsxs("div",{className:"p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-insightRed font-semibold text-sm mb-1",children:Q.title}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg group-hover:text-insightRed",children:Q.name}),Q.company&&jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:Q.company})]})]})},Q.id))})]})}),jsxRuntimeExports.jsx("section",{className:"py-12 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack",children:"Press Releases"}),jsxRuntimeExports.jsx(Link,{to:"/press-releases",className:"text-sm font-semibold text-insightRed hover:text-insightBlack",children:"View all"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:(O||[]).slice(0,4).map(Q=>{const ie=Q.image_url&&Q.image_url.trim()!==""?Q.image_url:"/placeholder.svg";return jsxRuntimeExports.jsxs(Link,{to:`/press-releases/${Q.slug}`,className:"flex items-start gap-4 group rounded-lg p-4 border border-gray-100 hover:shadow-md bg-white transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"w-28 h-20 bg-gray-100 rounded flex items-center justify-center overflow-hidden flex-shrink-0",children:ie.endsWith("placeholder.svg")?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400 text-xs",children:[jsxRuntimeExports.jsx(Newspaper,{className:"h-6 w-6 mb-1 text-gray-400"}),"No Image"]}):jsxRuntimeExports.jsx("img",{src:ie,alt:Q.title,className:"w-full h-full object-cover rounded group-hover:scale-105 transition-transform duration-300",loading:"lazy"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-bold text-insightRed uppercase tracking-wide mb-1",children:Q.category||"Press Release"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold line-clamp-2 group-hover:text-insightRed",children:Q.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:Q.excerpt}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 mt-2",children:dateOf$1(Q)})]})]},Q.id)})})]})}),jsxRuntimeExports.jsx("section",{className:"py-16 bg-insightRed text-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-3xl font-bold mb-3",children:["Subscribe to ",A.companyName]}),jsxRuntimeExports.jsx("p",{className:"text-white/90 mb-5",children:"Monthly strategies and interviews for leaders. No noise, just signal."}),jsxRuntimeExports.jsx(Link,{to:"/magazine",children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"bg-white text-insightRed hover:bg-gray-100",children:[jsxRuntimeExports.jsx(BookOpen,{className:"mr-2 h-5 w-5"})," Explore Issues"]})})]}),jsxRuntimeExports.jsx("div",{className:"hidden lg:block justify-self-end",children:jsxRuntimeExports.jsx("img",{src:(re==null?void 0:re.cover_image_url)||"/placeholder.svg",alt:"Latest",className:"w-64 rounded-lg shadow-2xl -rotate-6"})})]})})]})},Pagination=({className:R,...w})=>jsxRuntimeExports.jsx("nav",{role:"navigation","aria-label":"pagination",className:cn("mx-auto flex w-full justify-center",R),...w});Pagination.displayName="Pagination";const PaginationContent=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("ul",{ref:_,className:cn("flex flex-row items-center gap-1",R),...w}));PaginationContent.displayName="PaginationContent";const PaginationItem=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("li",{ref:_,className:cn("",R),...w}));PaginationItem.displayName="PaginationItem";const PaginationLink=({className:R,isActive:w,size:_="icon",...A})=>jsxRuntimeExports.jsx("a",{"aria-current":w?"page":void 0,className:cn(buttonVariants({variant:w?"outline":"ghost",size:_}),R),...A});PaginationLink.displayName="PaginationLink";const PaginationPrevious=({className:R,...w})=>jsxRuntimeExports.jsxs(PaginationLink,{"aria-label":"Go to previous page",size:"default",className:cn("gap-1 pl-2.5",R),...w,children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Previous"})]});PaginationPrevious.displayName="PaginationPrevious";const PaginationNext=({className:R,...w})=>jsxRuntimeExports.jsxs(PaginationLink,{"aria-label":"Go to next page",size:"default",className:cn("gap-1 pr-2.5",R),...w,children:[jsxRuntimeExports.jsx("span",{children:"Next"}),jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})]});PaginationNext.displayName="PaginationNext";const PaginationEllipsis=({className:R,...w})=>jsxRuntimeExports.jsxs("span",{"aria-hidden":!0,className:cn("flex h-9 w-9 items-center justify-center",R),...w,children:[jsxRuntimeExports.jsx(Ellipsis,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"More pages"})]});PaginationEllipsis.displayName="PaginationEllipsis";const Select=Root2$3,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:R,children:w,..._},A)=>jsxRuntimeExports.jsxs(Trigger$3,{ref:A,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",R),..._,children:[w,jsxRuntimeExports.jsx(Icon$1,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$3.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:_,className:cn("flex cursor-default items-center justify-center py-1",R),...w,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:_,className:cn("flex cursor-default items-center justify-center py-1",R),...w,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:R,children:w,position:_="popper",...A},$)=>jsxRuntimeExports.jsx(Portal$2,{children:jsxRuntimeExports.jsxs(Content2$2,{ref:$,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",_==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",R),position:_,...A,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",_==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:w}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$2.displayName;const SelectLabel=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Label$2,{ref:_,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",R),...w}));SelectLabel.displayName=Label$2.displayName;const SelectItem=reactExports.forwardRef(({className:R,children:w,..._},A)=>jsxRuntimeExports.jsxs(Item$2,{ref:A,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",R),..._,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:w})]}));SelectItem.displayName=Item$2.displayName;const SelectSeparator=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Separator$2,{ref:_,className:cn("-mx-1 my-1 h-px bg-muted",R),...w}));SelectSeparator.displayName=Separator$2.displayName;const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:R,variant:w,..._}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:w}),R),..._})}const Magazine=()=>{const[R,w]=reactExports.useState("all"),[_,A]=reactExports.useState(""),[$,O]=reactExports.useState("newest"),[B,q]=reactExports.useState(1),H=9,{data:W=[],isLoading:V}=useMagazines(),{data:K=[]}=useFeaturedMagazines(),Y=React.useRef(null),re=React.useRef(null),Q=React.useRef(0);React.useEffect(()=>()=>{re.current&&cancelAnimationFrame(re.current)},[]);const ie=Pe=>{const Se=Y.current;if(!Se)return;const Le=Se.getBoundingClientRect(),$e=Pe.clientX-Le.left,He=Math.max(0,Math.min(1,$e/Le.width)),je=Se.scrollWidth-Se.clientWidth;if(Q.current=He*je,!re.current){const De=()=>{const qe=Y.current;if(!qe){re.current&&(cancelAnimationFrame(re.current),re.current=null);return}const Ce=qe.scrollLeft,de=Q.current,me=Ce+(de-Ce)*.15;qe.scrollLeft=me,Math.abs(me-de)>.5?re.current=requestAnimationFrame(De):re.current=null};re.current=requestAnimationFrame(De)}},J=()=>{re.current&&(cancelAnimationFrame(re.current),re.current=null)},ce=()=>{const Pe=Y.current;if(!Pe)return;const Se=Array.from(Pe.children),Le=Pe.getBoundingClientRect(),$e=Le.left+Le.width/2,He=Le.width/2;Se.forEach((je,De)=>{const qe=je.getBoundingClientRect(),de=(qe.left+qe.width/2-$e)/He,me=Math.max(0,1-Math.abs(de)),ye=1.3,Ne=1,Fe=Ne+me*(ye-Ne),Oe=-12*me,Xe=de*-12,rt=Math.round(me*100),gt=je.querySelector("div");gt&&(gt.style.transform=`translateY(${Oe}px) scale(${Fe})`,gt.style.transition="transform 0.26s cubic-bezier(.2,.9,.2,1)",gt.style.willChange="transform"),je.style.zIndex=String(300+rt),je.style.transform=`perspective(1000px) rotateY(${Xe}deg)`,je.style.transition="transform 0.26s cubic-bezier(.2,.9,.2,1), filter 0.26s ease",je.style.filter=me>.2?"none":"grayscale(50%) brightness(0.78)"})};React.useEffect(()=>{const Pe=Y.current;if(!Pe)return;setTimeout(()=>{ce();const Le=Array.from(Pe.children);if(Le.length){const $e=Math.floor(Le.length/2),He=Le[$e],je=Math.max(0,He.offsetLeft+He.offsetWidth/2-Pe.clientWidth/2);Pe.scrollLeft=je,ce()}},80);const Se=()=>ce();return window.addEventListener("resize",Se),()=>window.removeEventListener("resize",Se)},[K,W]);const ue=reactExports.useMemo(()=>{const Pe=new Set;return W.forEach(Se=>{const Le=(Se.title||"").toLowerCase();Le.includes("ai")||Le.includes("artificial intelligence")||Le.includes("tech")?Pe.add("technology"):Le.includes("cyber")||Le.includes("security")?Pe.add("security"):Le.includes("innovation")||Le.includes("startup")?Pe.add("innovation"):Le.includes("finance")||Le.includes("banking")?Pe.add("finance"):Le.includes("health")||Le.includes("medical")?Pe.add("healthcare"):Le.includes("sustain")||Le.includes("green")||Le.includes("environment")?Pe.add("sustainability"):Le.includes("leader")||Le.includes("management")?Pe.add("leadership"):Pe.add("business")}),["all",...Array.from(Pe)]},[W]),Ee=reactExports.useMemo(()=>{const Pe=W.filter(Se=>{const Le=R==="all"||(()=>{const He=(Se.title||"").toLowerCase();return R==="technology"?He.includes("ai")||He.includes("artificial intelligence")||He.includes("tech"):R==="security"?He.includes("cyber")||He.includes("security"):R==="innovation"?He.includes("innovation")||He.includes("startup"):R==="finance"?He.includes("finance")||He.includes("banking"):R==="healthcare"?He.includes("health")||He.includes("medical"):R==="sustainability"?He.includes("sustain")||He.includes("green")||He.includes("environment"):R==="leadership"?He.includes("leader")||He.includes("management"):R==="business"})(),$e=!_||(Se.title||"").toLowerCase().includes(_.toLowerCase())||(Se.description||"").toLowerCase().includes(_.toLowerCase());return Le&&$e});switch($){case"newest":return Pe.sort((Se,Le)=>new Date(Le.publish_date).getTime()-new Date(Se.publish_date).getTime());case"oldest":return Pe.sort((Se,Le)=>new Date(Se.publish_date).getTime()-new Date(Le.publish_date).getTime());case"title":return Pe.sort((Se,Le)=>(Se.title||"").localeCompare(Le.title||""));case"featured":return Pe.sort((Se,Le)=>(Le.featured?1:0)-(Se.featured?1:0));default:return Pe}},[W,R,_,$]),ge=B*H,le=ge-H,ve=Ee.slice(le,ge),he=Math.max(1,Math.ceil(Ee.length/H)),fe=Pe=>{q(Pe),window.scrollTo({top:0,behavior:"smooth"})},be=Pe=>{A(Pe),q(1)},Ae=Pe=>{w(Pe),q(1)},xe=Pe=>{O(Pe),q(1)},we=()=>{const Pe=[];if(he<=7){for(let $e=1;$e<=he;$e++)Pe.push($e);return Pe}Pe.push(1),B>4&&Pe.push("ellipsis1");const Se=Math.max(2,B-1),Le=Math.min(he-1,B+1);for(let $e=Se;$e<=Le;$e++)Pe.push($e);return B<he-3&&Pe.push("ellipsis2"),he>1&&Pe.push(he),Pe};W.length,K.length,Math.max(0,ue.length-1);const Me=useCompanyName();return V?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-12 w-12 animate-spin text-insightRed"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Loading magazines..."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Preparing the latest business insights for you"})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[jsxRuntimeExports.jsx("section",{className:"py-12 bg-white",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-insightBlack",children:[Me," Magazine"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl",children:"Explore our curated issues  deep-dive interviews, long-form features, and analysis from industry leaders. Subscribe for full access to archives and exclusive content."}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Link,{to:"/magazine",className:"inline-flex items-center px-4 py-2 rounded-md bg-insightRed text-white font-medium hover:bg-insightRed/90",children:"Subscribe"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"text-sm text-gray-600 hover:text-insightBlack",children:"Request a Corporate License"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full lg:w-1/2",children:jsxRuntimeExports.jsx("div",{className:"relative overflow-visible rounded-xl",children:jsxRuntimeExports.jsx("div",{ref:Y,onMouseMove:ie,onMouseLeave:J,onScroll:()=>ce(),className:"scroller-strip flex gap-6 overflow-x-auto py-6 px-6 no-scrollbar",children:(K.length?K:W.slice(0,6)).map((Pe,Se)=>jsxRuntimeExports.jsxs(Link,{to:`/magazine/${Pe.slug}`,className:"mag-scroller-item relative min-w-[220px] w-[220px] shrink-0 group rounded-lg overflow-visible bg-transparent",children:[jsxRuntimeExports.jsxs("div",{className:"aspect-[3/4] cover-wrapper bg-transparent flex items-center justify-center transform transition-transform duration-500 will-change-transform overflow-visible",children:[jsxRuntimeExports.jsx("img",{src:Pe.cover_image_url||"/placeholder.svg",alt:Pe.title,className:"w-full h-full object-contain p-2 rounded-lg bg-transparent drop-shadow-lg"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 pointer-events-none"})]}),jsxRuntimeExports.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 translate-y-6 bg-black/60 text-white text-xs rounded-md px-3 py-1 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold line-clamp-1",children:Pe.title}),jsxRuntimeExports.jsx("div",{className:"text-[11px] text-gray-200",children:Pe.publish_date?new Date(Pe.publish_date).toLocaleDateString():""})]})]},Pe.id))})})})]})})}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Card,{className:"p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search magazines by title, description, or keywords...",value:_,onChange:Pe=>be(Pe.target.value),className:"pl-10 h-12"})]}),jsxRuntimeExports.jsx("div",{className:"md:w-48",children:jsxRuntimeExports.jsxs(Select,{value:R,onValueChange:Ae,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Category"})}),jsxRuntimeExports.jsx(SelectContent,{children:ue.map(Pe=>jsxRuntimeExports.jsx(SelectItem,{value:Pe,children:Pe.charAt(0).toUpperCase()+Pe.slice(1)},Pe))})]})}),jsxRuntimeExports.jsx("div",{className:"md:w-48",children:jsxRuntimeExports.jsxs(Select,{value:$,onValueChange:xe,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Sort by"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"newest",children:"Newest First"}),jsxRuntimeExports.jsx(SelectItem,{value:"oldest",children:"Oldest First"}),jsxRuntimeExports.jsx(SelectItem,{value:"title",children:"Title A-Z"}),jsxRuntimeExports.jsx(SelectItem,{value:"featured",children:"Featured First"})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-3 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("span",{children:["Showing ",Ee.length," of ",W.length]}),_&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:['Search: "',_,'"']}),R!=="all"&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:["Category: ",R]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ve.length>0?ve.map(Pe=>jsxRuntimeExports.jsx(Link,{to:`/magazine/${Pe.slug}`,className:"block group",children:jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden rounded-xl hover:shadow-xl transition",children:[jsxRuntimeExports.jsx("div",{className:"aspect-[3/4] bg-white overflow-hidden flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:Pe.cover_image_url||"/placeholder.svg",alt:Pe.title,className:"w-full h-full object-contain group-hover:scale-105 transition-transform"})}),jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold line-clamp-2 text-insightBlack group-hover:text-insightRed transition-colors",children:Pe.title})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:Pe.publish_date?new Date(Pe.publish_date).toLocaleDateString():""}),jsxRuntimeExports.jsx(Badge,{className:"mt-2 bg-insightRed text-white",children:Pe.issue_number?`Issue ${Pe.issue_number}`:"Latest"})]})]})})]})},Pe.id)):jsxRuntimeExports.jsxs(Card,{className:"p-12 text-center",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No magazines found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:_||R!=="all"?"Try adjusting your search criteria.":"New magazine issues will appear here."})]})}),he>1&&jsxRuntimeExports.jsx("div",{className:"mt-8 flex items-center justify-center",children:jsxRuntimeExports.jsx(Pagination,{children:jsxRuntimeExports.jsxs(PaginationContent,{children:[B>1&&jsxRuntimeExports.jsx(PaginationItem,{children:jsxRuntimeExports.jsx(PaginationPrevious,{onClick:()=>fe(B-1),className:"cursor-pointer hover:bg-gray-100"})}),we().map((Pe,Se)=>jsxRuntimeExports.jsx(PaginationItem,{children:Pe==="ellipsis1"||Pe==="ellipsis2"?jsxRuntimeExports.jsx(PaginationEllipsis,{}):jsxRuntimeExports.jsx(PaginationLink,{isActive:B===Pe,onClick:()=>fe(Pe),className:`${B===Pe?"bg-insightRed text-white":"hover:bg-gray-100"}`,children:Pe})},Se)),B<he&&jsxRuntimeExports.jsx(PaginationItem,{children:jsxRuntimeExports.jsx(PaginationNext,{onClick:()=>fe(B+1),className:"cursor-pointer hover:bg-gray-100"})})]})})})]})})})]})},useMagazineArticles=R=>useQuery({queryKey:["magazine-articles",R],queryFn:async()=>{const{data:w,error:_}=await supabase.from("magazine_articles").select(`
          *,
          articles:article_id (
            id,
            title,
            excerpt,
            author,
            image_url,
            slug,
            category
          )
        `).eq("magazine_id",R).order("page_number",{ascending:!0});if(_)throw _;return w},enabled:!!R}),useCreateMagazineArticle=()=>{const R=useQueryClient();return useMutation({mutationFn:async w=>{const{data:_,error:A}=await supabase.from("magazine_articles").insert([w]).select().single();if(A)throw A;return _},onSuccess:()=>{R.invalidateQueries({queryKey:["magazine-articles"]}),Jt.success("Article added to magazine successfully")},onError:w=>{Jt.error("Failed to add article to magazine"),console.error(w)}})};var lib$4={exports:{}},core_min={};function commonjsRequire(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(w,_){module.exports=w.pdfjsLib=_()})(globalThis,()=>(()=>{var __webpack_modules__=[,(R,w)=>{var Hs;Object.defineProperty(w,"__esModule",{value:!0}),w.VerbosityLevel=w.Util=w.UnknownErrorException=w.UnexpectedResponseException=w.TextRenderingMode=w.RenderingIntentFlag=w.PromiseCapability=w.PermissionFlag=w.PasswordResponses=w.PasswordException=w.PageActionEventType=w.OPS=w.MissingPDFException=w.MAX_IMAGE_SIZE_TO_CACHE=w.LINE_FACTOR=w.LINE_DESCENT_FACTOR=w.InvalidPDFException=w.ImageKind=w.IDENTITY_MATRIX=w.FormatError=w.FeatureTest=w.FONT_IDENTITY_MATRIX=w.DocumentActionEventType=w.CMapCompressionType=w.BaseException=w.BASELINE_FACTOR=w.AnnotationType=w.AnnotationReplyType=w.AnnotationPrefix=w.AnnotationMode=w.AnnotationFlag=w.AnnotationFieldFlag=w.AnnotationEditorType=w.AnnotationEditorPrefix=w.AnnotationEditorParamsType=w.AnnotationBorderStyleType=w.AnnotationActionEventType=w.AbortException=void 0,w.assert=je,w.bytesToString=gt,w.createValidAbsoluteUrl=qe,w.getModificationDate=Bt,w.getUuid=fs,w.getVerbosityLevel=Se,w.info=Le,w.isArrayBuffer=et,w.isArrayEqual=zt,w.isNodeJS=void 0,w.normalizeUnicode=ls,w.objectFromMap=At,w.objectSize=jt,w.setVerbosityLevel=Pe,w.shadow=Ce,w.string32=Et,w.stringToBytes=xt,w.stringToPDFString=mt,w.stringToUTF8String=Rt,w.unreachable=He,w.utf8StringToString=wt,w.warn=$e;const _=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");w.isNodeJS=_;const A=[1,0,0,1,0,0];w.IDENTITY_MATRIX=A;const $=[.001,0,0,.001,0,0];w.FONT_IDENTITY_MATRIX=$;const O=1e7;w.MAX_IMAGE_SIZE_TO_CACHE=O;const B=1.35;w.LINE_FACTOR=B;const q=.35;w.LINE_DESCENT_FACTOR=q;const H=q/B;w.BASELINE_FACTOR=H;const W={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};w.RenderingIntentFlag=W;const V={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};w.AnnotationMode=V;const K="pdfjs_internal_editor_";w.AnnotationEditorPrefix=K;const Y={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};w.AnnotationEditorType=Y;const re={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};w.AnnotationEditorParamsType=re;const Q={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};w.PermissionFlag=Q;const ie={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};w.TextRenderingMode=ie;const J={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};w.ImageKind=J;const ce={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};w.AnnotationType=ce;const ue={GROUP:"Group",REPLY:"R"};w.AnnotationReplyType=ue;const Ee={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};w.AnnotationFlag=Ee;const ge={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};w.AnnotationFieldFlag=ge;const le={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};w.AnnotationBorderStyleType=le;const ve={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};w.AnnotationActionEventType=ve;const he={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};w.DocumentActionEventType=he;const fe={O:"PageOpen",C:"PageClose"};w.PageActionEventType=fe;const be={ERRORS:0,WARNINGS:1,INFOS:5};w.VerbosityLevel=be;const Ae={NONE:0,BINARY:1};w.CMapCompressionType=Ae;const xe={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};w.OPS=xe;const we={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};w.PasswordResponses=we;let Me=be.WARNINGS;function Pe(St){Number.isInteger(St)&&(Me=St)}function Se(){return Me}function Le(St){Me>=be.INFOS&&console.log(`Info: ${St}`)}function $e(St){Me>=be.WARNINGS&&console.log(`Warning: ${St}`)}function He(St){throw new Error(St)}function je(St,st){St||He(st)}function De(St){switch(St==null?void 0:St.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function qe(St,st=null,at=null){if(!St)return null;try{if(at&&typeof St=="string"){if(at.addDefaultProtocol&&St.startsWith("www.")){const ss=St.match(/\./g);(ss==null?void 0:ss.length)>=2&&(St=`http://${St}`)}if(at.tryConvertEncoding)try{St=Rt(St)}catch{}}const Nt=st?new URL(St,st):new URL(St);if(De(Nt))return Nt}catch{}return null}function Ce(St,st,at,Nt=!1){return Object.defineProperty(St,st,{value:at,enumerable:!Nt,configurable:!0,writable:!1}),at}const de=function(){function st(at,Nt){this.constructor===st&&He("Cannot initialize BaseException."),this.message=at,this.name=Nt}return st.prototype=new Error,st.constructor=st,st}();w.BaseException=de;class me extends de{constructor(st,at){super(st,"PasswordException"),this.code=at}}w.PasswordException=me;class ye extends de{constructor(st,at){super(st,"UnknownErrorException"),this.details=at}}w.UnknownErrorException=ye;class Ne extends de{constructor(st){super(st,"InvalidPDFException")}}w.InvalidPDFException=Ne;class Fe extends de{constructor(st){super(st,"MissingPDFException")}}w.MissingPDFException=Fe;class Oe extends de{constructor(st,at){super(st,"UnexpectedResponseException"),this.status=at}}w.UnexpectedResponseException=Oe;class Xe extends de{constructor(st){super(st,"FormatError")}}w.FormatError=Xe;class rt extends de{constructor(st){super(st,"AbortException")}}w.AbortException=rt;function gt(St){(typeof St!="object"||(St==null?void 0:St.length)===void 0)&&He("Invalid argument for bytesToString");const st=St.length,at=8192;if(st<at)return String.fromCharCode.apply(null,St);const Nt=[];for(let ss=0;ss<st;ss+=at){const is=Math.min(ss+at,st),ze=St.subarray(ss,is);Nt.push(String.fromCharCode.apply(null,ze))}return Nt.join("")}function xt(St){typeof St!="string"&&He("Invalid argument for stringToBytes");const st=St.length,at=new Uint8Array(st);for(let Nt=0;Nt<st;++Nt)at[Nt]=St.charCodeAt(Nt)&255;return at}function Et(St){return String.fromCharCode(St>>24&255,St>>16&255,St>>8&255,St&255)}function jt(St){return Object.keys(St).length}function At(St){const st=Object.create(null);for(const[at,Nt]of St)st[at]=Nt;return st}function nt(){const St=new Uint8Array(4);return St[0]=1,new Uint32Array(St.buffer,0,1)[0]===1}function lt(){try{return new Function(""),!0}catch{return!1}}class _e{static get isLittleEndian(){return Ce(this,"isLittleEndian",nt())}static get isEvalSupported(){return Ce(this,"isEvalSupported",lt())}static get isOffscreenCanvasSupported(){return Ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ce(this,"platform",{isWin:!1,isMac:!1}):Ce(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var st,at;return Ce(this,"isCSSRoundSupported",(at=(st=globalThis.CSS)==null?void 0:st.supports)==null?void 0:at.call(st,"width: round(1.5px, 1px)"))}}w.FeatureTest=_e;const ke=[...Array(256).keys()].map(St=>St.toString(16).padStart(2,"0"));class Je{static makeHexColor(st,at,Nt){return`#${ke[st]}${ke[at]}${ke[Nt]}`}static scaleMinMax(st,at){let Nt;st[0]?(st[0]<0&&(Nt=at[0],at[0]=at[1],at[1]=Nt),at[0]*=st[0],at[1]*=st[0],st[3]<0&&(Nt=at[2],at[2]=at[3],at[3]=Nt),at[2]*=st[3],at[3]*=st[3]):(Nt=at[0],at[0]=at[2],at[2]=Nt,Nt=at[1],at[1]=at[3],at[3]=Nt,st[1]<0&&(Nt=at[2],at[2]=at[3],at[3]=Nt),at[2]*=st[1],at[3]*=st[1],st[2]<0&&(Nt=at[0],at[0]=at[1],at[1]=Nt),at[0]*=st[2],at[1]*=st[2]),at[0]+=st[4],at[1]+=st[4],at[2]+=st[5],at[3]+=st[5]}static transform(st,at){return[st[0]*at[0]+st[2]*at[1],st[1]*at[0]+st[3]*at[1],st[0]*at[2]+st[2]*at[3],st[1]*at[2]+st[3]*at[3],st[0]*at[4]+st[2]*at[5]+st[4],st[1]*at[4]+st[3]*at[5]+st[5]]}static applyTransform(st,at){const Nt=st[0]*at[0]+st[1]*at[2]+at[4],ss=st[0]*at[1]+st[1]*at[3]+at[5];return[Nt,ss]}static applyInverseTransform(st,at){const Nt=at[0]*at[3]-at[1]*at[2],ss=(st[0]*at[3]-st[1]*at[2]+at[2]*at[5]-at[4]*at[3])/Nt,is=(-st[0]*at[1]+st[1]*at[0]+at[4]*at[1]-at[5]*at[0])/Nt;return[ss,is]}static getAxialAlignedBoundingBox(st,at){const Nt=this.applyTransform(st,at),ss=this.applyTransform(st.slice(2,4),at),is=this.applyTransform([st[0],st[3]],at),ze=this.applyTransform([st[2],st[1]],at);return[Math.min(Nt[0],ss[0],is[0],ze[0]),Math.min(Nt[1],ss[1],is[1],ze[1]),Math.max(Nt[0],ss[0],is[0],ze[0]),Math.max(Nt[1],ss[1],is[1],ze[1])]}static inverseTransform(st){const at=st[0]*st[3]-st[1]*st[2];return[st[3]/at,-st[1]/at,-st[2]/at,st[0]/at,(st[2]*st[5]-st[4]*st[3])/at,(st[4]*st[1]-st[5]*st[0])/at]}static singularValueDecompose2dScale(st){const at=[st[0],st[2],st[1],st[3]],Nt=st[0]*at[0]+st[1]*at[2],ss=st[0]*at[1]+st[1]*at[3],is=st[2]*at[0]+st[3]*at[2],ze=st[2]*at[1]+st[3]*at[3],bt=(Nt+ze)/2,Yt=Math.sqrt((Nt+ze)**2-4*(Nt*ze-is*ss))/2,cs=bt+Yt||1,ms=bt-Yt||1;return[Math.sqrt(cs),Math.sqrt(ms)]}static normalizeRect(st){const at=st.slice(0);return st[0]>st[2]&&(at[0]=st[2],at[2]=st[0]),st[1]>st[3]&&(at[1]=st[3],at[3]=st[1]),at}static intersect(st,at){const Nt=Math.max(Math.min(st[0],st[2]),Math.min(at[0],at[2])),ss=Math.min(Math.max(st[0],st[2]),Math.max(at[0],at[2]));if(Nt>ss)return null;const is=Math.max(Math.min(st[1],st[3]),Math.min(at[1],at[3])),ze=Math.min(Math.max(st[1],st[3]),Math.max(at[1],at[3]));return is>ze?null:[Nt,is,ss,ze]}static bezierBoundingBox(st,at,Nt,ss,is,ze,bt,Yt){const cs=[],ms=[[],[]];let os,Be,Ie,Ze,vt,yt,Tt,Lt;for(let Ps=0;Ps<2;++Ps){if(Ps===0?(Be=6*st-12*Nt+6*is,os=-3*st+9*Nt-9*is+3*bt,Ie=3*Nt-3*st):(Be=6*at-12*ss+6*ze,os=-3*at+9*ss-9*ze+3*Yt,Ie=3*ss-3*at),Math.abs(os)<1e-12){if(Math.abs(Be)<1e-12)continue;Ze=-Ie/Be,0<Ze&&Ze<1&&cs.push(Ze);continue}Tt=Be*Be-4*Ie*os,Lt=Math.sqrt(Tt),!(Tt<0)&&(vt=(-Be+Lt)/(2*os),0<vt&&vt<1&&cs.push(vt),yt=(-Be-Lt)/(2*os),0<yt&&yt<1&&cs.push(yt))}let hs=cs.length,us;const rs=hs;for(;hs--;)Ze=cs[hs],us=1-Ze,ms[0][hs]=us*us*us*st+3*us*us*Ze*Nt+3*us*Ze*Ze*is+Ze*Ze*Ze*bt,ms[1][hs]=us*us*us*at+3*us*us*Ze*ss+3*us*Ze*Ze*ze+Ze*Ze*Ze*Yt;return ms[0][rs]=st,ms[1][rs]=at,ms[0][rs+1]=bt,ms[1][rs+1]=Yt,ms[0].length=ms[1].length=rs+2,[Math.min(...ms[0]),Math.min(...ms[1]),Math.max(...ms[0]),Math.max(...ms[1])]}}w.Util=Je;const it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function mt(St){if(St[0]>=""){let at;if(St[0]===""&&St[1]===""?at="utf-16be":St[0]===""&&St[1]===""?at="utf-16le":St[0]===""&&St[1]===""&&St[2]===""&&(at="utf-8"),at)try{const Nt=new TextDecoder(at,{fatal:!0}),ss=xt(St);return Nt.decode(ss)}catch(Nt){$e(`stringToPDFString: "${Nt}".`)}}const st=[];for(let at=0,Nt=St.length;at<Nt;at++){const ss=it[St.charCodeAt(at)];st.push(ss?String.fromCharCode(ss):St.charAt(at))}return st.join("")}function Rt(St){return decodeURIComponent(escape(St))}function wt(St){return unescape(encodeURIComponent(St))}function et(St){return typeof St=="object"&&(St==null?void 0:St.byteLength)!==void 0}function zt(St,st){if(St.length!==st.length)return!1;for(let at=0,Nt=St.length;at<Nt;at++)if(St[at]!==st[at])return!1;return!0}function Bt(St=new Date){return[St.getUTCFullYear().toString(),(St.getUTCMonth()+1).toString().padStart(2,"0"),St.getUTCDate().toString().padStart(2,"0"),St.getUTCHours().toString().padStart(2,"0"),St.getUTCMinutes().toString().padStart(2,"0"),St.getUTCSeconds().toString().padStart(2,"0")].join("")}class js{constructor(){Ye(this,Hs,!1);this.promise=new Promise((st,at)=>{this.resolve=Nt=>{Ge(this,Hs,!0),st(Nt)},this.reject=Nt=>{Ge(this,Hs,!0),at(Nt)}})}get settled(){return G(this,Hs)}}Hs=new WeakMap,w.PromiseCapability=js;let xs=null,Ls=null;function ls(St){return xs||(xs=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ls=new Map([["","t"]])),St.replaceAll(xs,(st,at,Nt)=>at?at.normalize("NFKC"):Ls.get(Nt))}function fs(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const St=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(St);else for(let st=0;st<32;st++)St[st]=Math.floor(Math.random()*255);return gt(St)}const As="pdfjs_internal_id_";w.AnnotationPrefix=As},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var R,_,A,$,Tr,gi,q,H,W,V,K,Y,re,Q,ie,xi,ce,ue,Ji,ge,le;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(he){if(typeof he=="string"||he instanceof URL?he={url:he}:(0,_util.isArrayBuffer)(he)&&(he={data:he}),typeof he!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!he.url&&!he.data&&!he.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const fe=new PDFDocumentLoadingTask,{docId:be}=fe,Ae=he.url?getUrlProp(he.url):null,xe=he.data?getDataProp(he.data):null,we=he.httpHeaders||null,Me=he.withCredentials===!0,Pe=he.password??null,Se=he.range instanceof PDFDataRangeTransport?he.range:null,Le=Number.isInteger(he.rangeChunkSize)&&he.rangeChunkSize>0?he.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let $e=he.worker instanceof PDFWorker?he.worker:null;const He=he.verbosity,je=typeof he.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(he.docBaseUrl)?he.docBaseUrl:null,De=typeof he.cMapUrl=="string"?he.cMapUrl:null,qe=he.cMapPacked!==!1,Ce=he.CMapReaderFactory||DefaultCMapReaderFactory,de=typeof he.standardFontDataUrl=="string"?he.standardFontDataUrl:null,me=he.StandardFontDataFactory||DefaultStandardFontDataFactory,ye=he.stopAtErrors!==!0,Ne=Number.isInteger(he.maxImageSize)&&he.maxImageSize>-1?he.maxImageSize:-1,Fe=he.isEvalSupported!==!1,Oe=typeof he.isOffscreenCanvasSupported=="boolean"?he.isOffscreenCanvasSupported:!_util.isNodeJS,Xe=Number.isInteger(he.canvasMaxAreaInBytes)?he.canvasMaxAreaInBytes:-1,rt=typeof he.disableFontFace=="boolean"?he.disableFontFace:_util.isNodeJS,gt=he.fontExtraProperties===!0,xt=he.enableXfa===!0,Et=he.ownerDocument||globalThis.document,jt=he.disableRange===!0,At=he.disableStream===!0,nt=he.disableAutoFetch===!0,lt=he.pdfBug===!0,_e=Se?Se.length:he.length??NaN,ke=typeof he.useSystemFonts=="boolean"?he.useSystemFonts:!_util.isNodeJS&&!rt,Je=typeof he.useWorkerFetch=="boolean"?he.useWorkerFetch:Ce===_display_utils.DOMCMapReaderFactory&&me===_display_utils.DOMStandardFontDataFactory&&De&&de&&(0,_display_utils.isValidFetchUrl)(De,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(de,document.baseURI),it=he.canvasFactory||new DefaultCanvasFactory({ownerDocument:Et}),mt=he.filterFactory||new DefaultFilterFactory({docId:be,ownerDocument:Et}),Rt=null;(0,_util.setVerbosityLevel)(He);const wt={canvasFactory:it,filterFactory:mt};if(Je||(wt.cMapReaderFactory=new Ce({baseUrl:De,isCompressed:qe}),wt.standardFontDataFactory=new me({baseUrl:de})),!$e){const Bt={verbosity:He,port:_worker_options.GlobalWorkerOptions.workerPort};$e=Bt.port?PDFWorker.fromPort(Bt):new PDFWorker(Bt),fe._worker=$e}const et={docId:be,apiVersion:"3.11.174",data:xe,password:Pe,disableAutoFetch:nt,rangeChunkSize:Le,length:_e,docBaseUrl:je,enableXfa:xt,evaluatorOptions:{maxImageSize:Ne,disableFontFace:rt,ignoreErrors:ye,isEvalSupported:Fe,isOffscreenCanvasSupported:Oe,canvasMaxAreaInBytes:Xe,fontExtraProperties:gt,useSystemFonts:ke,cMapUrl:Je?De:null,standardFontDataUrl:Je?de:null}},zt={ignoreErrors:ye,isEvalSupported:Fe,disableFontFace:rt,fontExtraProperties:gt,enableXfa:xt,ownerDocument:Et,disableAutoFetch:nt,pdfBug:lt,styleElement:Rt};return $e.promise.then(function(){if(fe.destroyed)throw new Error("Loading aborted");const Bt=_fetchDocument($e,et),js=new Promise(function(xs){let Ls;Se?Ls=new _transport_stream.PDFDataTransportStream({length:_e,initialData:Se.initialData,progressiveDone:Se.progressiveDone,contentDispositionFilename:Se.contentDispositionFilename,disableRange:jt,disableStream:At},Se):xe||(Ls=(fs=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(fs):(0,_display_utils.isValidFetchUrl)(fs.url)?new _displayFetch_stream.PDFFetchStream(fs):new _displayNetwork.PDFNetworkStream(fs))({url:Ae,length:_e,httpHeaders:we,withCredentials:Me,rangeChunkSize:Le,disableRange:jt,disableStream:At})),xs(Ls)});return Promise.all([Bt,js]).then(function([xs,Ls]){if(fe.destroyed)throw new Error("Loading aborted");const ls=new _message_handler.MessageHandler(be,xs,$e.port),fs=new WorkerTransport(ls,fe,Ls,zt,wt);fe._transport=fs,ls.send("Ready",null)})}).catch(fe._capability.reject),fe}async function _fetchDocument(he,fe){if(he.destroyed)throw new Error("Worker was destroyed");const be=await he.messageHandler.sendWithPromise("GetDocRequest",fe,fe.data?[fe.data.buffer]:null);if(he.destroyed)throw new Error("Worker was destroyed");return be}function getUrlProp(he){if(he instanceof URL)return he.href;try{return new URL(he,window.location).href}catch{if(_util.isNodeJS&&typeof he=="string")return he}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(he){if(_util.isNodeJS&&typeof Buffer<"u"&&he instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(he instanceof Uint8Array&&he.byteLength===he.buffer.byteLength)return he;if(typeof he=="string")return(0,_util.stringToBytes)(he);if(typeof he=="object"&&!isNaN(he==null?void 0:he.length)||(0,_util.isArrayBuffer)(he))return new Uint8Array(he);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const w=class w{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ir(w,R)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var fe,be,Ae;this.destroyed=!0;try{(fe=this._worker)!=null&&fe.port&&(this._worker._pendingDestroy=!0),await((be=this._transport)==null?void 0:be.destroy())}catch(xe){throw(Ae=this._worker)!=null&&Ae.port&&delete this._worker._pendingDestroy,xe}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};R=new WeakMap,Ye(w,R,0);let PDFDocumentLoadingTask=w;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(fe,be,Ae=!1,xe=null){this.length=fe,this.initialData=be,this.progressiveDone=Ae,this.contentDispositionFilename=xe,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(fe){this._rangeListeners.push(fe)}addProgressListener(fe){this._progressListeners.push(fe)}addProgressiveReadListener(fe){this._progressiveReadListeners.push(fe)}addProgressiveDoneListener(fe){this._progressiveDoneListeners.push(fe)}onDataRange(fe,be){for(const Ae of this._rangeListeners)Ae(fe,be)}onDataProgress(fe,be){this._readyCapability.promise.then(()=>{for(const Ae of this._progressListeners)Ae(fe,be)})}onDataProgressiveRead(fe){this._readyCapability.promise.then(()=>{for(const be of this._progressiveReadListeners)be(fe)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const fe of this._progressiveDoneListeners)fe()})}transportReady(){this._readyCapability.resolve()}requestDataRange(fe,be){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(fe,be){this._pdfInfo=fe,this._transport=be,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ae=>{if(!Ae)return Ae;const xe=[];for(const we in Ae)xe.push(...Ae[we]);return xe}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(fe){return this._transport.getPage(fe)}getPageIndex(fe){return this._transport.getPageIndex(fe)}getDestinations(){return this._transport.getDestinations()}getDestination(fe){return this._transport.getDestination(fe)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(fe=!1){return this._transport.startCleanup(fe||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(fe,be,Ae,xe=!1){Ye(this,$);Ye(this,_,null);Ye(this,A,!1);this._pageIndex=fe,this._pageInfo=be,this._transport=Ae,this._stats=xe?new _display_utils.StatTimer:null,this._pdfBug=xe,this.commonObjs=Ae.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:fe,rotation:be=this.rotate,offsetX:Ae=0,offsetY:xe=0,dontFlip:we=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:fe,rotation:be,offsetX:Ae,offsetY:xe,dontFlip:we})}getAnnotations({intent:fe="display"}={}){const be=this._transport.getRenderingIntent(fe);return this._transport.getAnnotations(this._pageIndex,be.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var fe;return((fe=this._transport._htmlForXfa)==null?void 0:fe.children[this._pageIndex])||null}render({canvasContext:fe,viewport:be,intent:Ae="display",annotationMode:xe=_util.AnnotationMode.ENABLE,transform:we=null,background:Me=null,optionalContentConfigPromise:Pe=null,annotationCanvasMap:Se=null,pageColors:Le=null,printAnnotationStorage:$e=null}){var me,ye;(me=this._stats)==null||me.time("Overall");const He=this._transport.getRenderingIntent(Ae,xe,$e);Ge(this,A,!1),Ve(this,$,gi).call(this),Pe||(Pe=this._transport.getOptionalContentConfig());let je=this._intentStates.get(He.cacheKey);je||(je=Object.create(null),this._intentStates.set(He.cacheKey,je)),je.streamReaderCancelTimeout&&(clearTimeout(je.streamReaderCancelTimeout),je.streamReaderCancelTimeout=null);const De=!!(He.renderingIntent&_util.RenderingIntentFlag.PRINT);je.displayReadyCapability||(je.displayReadyCapability=new _util.PromiseCapability,je.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ye=this._stats)==null||ye.time("Page Request"),this._pumpOperatorList(He));const qe=Ne=>{var Fe,Oe;je.renderTasks.delete(Ce),(this._maybeCleanupAfterRender||De)&&Ge(this,A,!0),Ve(this,$,Tr).call(this,!De),Ne?(Ce.capability.reject(Ne),this._abortOperatorList({intentState:je,reason:Ne instanceof Error?Ne:new Error(Ne)})):Ce.capability.resolve(),(Fe=this._stats)==null||Fe.timeEnd("Rendering"),(Oe=this._stats)==null||Oe.timeEnd("Overall")},Ce=new InternalRenderTask({callback:qe,params:{canvasContext:fe,viewport:be,transform:we,background:Me},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Se,operatorList:je.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!De,pdfBug:this._pdfBug,pageColors:Le});(je.renderTasks||(je.renderTasks=new Set)).add(Ce);const de=Ce.task;return Promise.all([je.displayReadyCapability.promise,Pe]).then(([Ne,Fe])=>{var Oe;if(this.destroyed){qe();return}(Oe=this._stats)==null||Oe.time("Rendering"),Ce.initializeGraphics({transparency:Ne,optionalContentConfig:Fe}),Ce.operatorListChanged()}).catch(qe),de}getOperatorList({intent:fe="display",annotationMode:be=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ae=null}={}){var Se;function xe(){Me.operatorList.lastChunk&&(Me.opListReadCapability.resolve(Me.operatorList),Me.renderTasks.delete(Pe))}const we=this._transport.getRenderingIntent(fe,be,Ae,!0);let Me=this._intentStates.get(we.cacheKey);Me||(Me=Object.create(null),this._intentStates.set(we.cacheKey,Me));let Pe;return Me.opListReadCapability||(Pe=Object.create(null),Pe.operatorListChanged=xe,Me.opListReadCapability=new _util.PromiseCapability,(Me.renderTasks||(Me.renderTasks=new Set)).add(Pe),Me.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Se=this._stats)==null||Se.time("Page Request"),this._pumpOperatorList(we)),Me.opListReadCapability.promise}streamTextContent({includeMarkedContent:fe=!1,disableNormalization:be=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:fe===!0,disableNormalization:be===!0},{highWaterMark:100,size(xe){return xe.items.length}})}getTextContent(fe={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ae=>_xfa_text.XfaText.textContent(Ae));const be=this.streamTextContent(fe);return new Promise(function(Ae,xe){function we(){Me.read().then(function({value:Se,done:Le}){if(Le){Ae(Pe);return}Object.assign(Pe.styles,Se.styles),Pe.items.push(...Se.items),we()},xe)}const Me=be.getReader(),Pe={items:[],styles:Object.create(null)};we()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const fe=[];for(const be of this._intentStates.values())if(this._abortOperatorList({intentState:be,reason:new Error("Page was destroyed."),force:!0}),!be.opListReadCapability)for(const Ae of be.renderTasks)fe.push(Ae.completed),Ae.cancel();return this.objs.clear(),Ge(this,A,!1),Ve(this,$,gi).call(this),Promise.all(fe)}cleanup(fe=!1){Ge(this,A,!0);const be=Ve(this,$,Tr).call(this,!1);return fe&&be&&this._stats&&(this._stats=new _display_utils.StatTimer),be}_startRenderPage(fe,be){var xe,we;const Ae=this._intentStates.get(be);Ae&&((xe=this._stats)==null||xe.timeEnd("Page Request"),(we=Ae.displayReadyCapability)==null||we.resolve(fe))}_renderPageChunk(fe,be){for(let Ae=0,xe=fe.length;Ae<xe;Ae++)be.operatorList.fnArray.push(fe.fnArray[Ae]),be.operatorList.argsArray.push(fe.argsArray[Ae]);be.operatorList.lastChunk=fe.lastChunk,be.operatorList.separateAnnots=fe.separateAnnots;for(const Ae of be.renderTasks)Ae.operatorListChanged();fe.lastChunk&&Ve(this,$,Tr).call(this,!0)}_pumpOperatorList({renderingIntent:fe,cacheKey:be,annotationStorageSerializable:Ae}){const{map:xe,transfers:we}=Ae,Pe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:fe,cacheKey:be,annotationStorage:xe},we).getReader(),Se=this._intentStates.get(be);Se.streamReader=Pe;const Le=()=>{Pe.read().then(({value:$e,done:He})=>{if(He){Se.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk($e,Se),Le())},$e=>{if(Se.streamReader=null,!this._transport.destroyed){if(Se.operatorList){Se.operatorList.lastChunk=!0;for(const He of Se.renderTasks)He.operatorListChanged();Ve(this,$,Tr).call(this,!0)}if(Se.displayReadyCapability)Se.displayReadyCapability.reject($e);else if(Se.opListReadCapability)Se.opListReadCapability.reject($e);else throw $e}})};Le()}_abortOperatorList({intentState:fe,reason:be,force:Ae=!1}){if(fe.streamReader){if(fe.streamReaderCancelTimeout&&(clearTimeout(fe.streamReaderCancelTimeout),fe.streamReaderCancelTimeout=null),!Ae){if(fe.renderTasks.size>0)return;if(be instanceof _display_utils.RenderingCancelledException){let xe=RENDERING_CANCELLED_TIMEOUT;be.extraDelay>0&&be.extraDelay<1e3&&(xe+=be.extraDelay),fe.streamReaderCancelTimeout=setTimeout(()=>{fe.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:fe,reason:be,force:!0})},xe);return}}if(fe.streamReader.cancel(new _util.AbortException(be.message)).catch(()=>{}),fe.streamReader=null,!this._transport.destroyed){for(const[xe,we]of this._intentStates)if(we===fe){this._intentStates.delete(xe);break}this.cleanup()}}}get stats(){return this._stats}}_=new WeakMap,A=new WeakMap,$=new WeakSet,Tr=function(fe=!1){if(Ve(this,$,gi).call(this),!G(this,A)||this.destroyed)return!1;if(fe)return Ge(this,_,setTimeout(()=>{Ge(this,_,null),Ve(this,$,Tr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:be,operatorList:Ae}of this._intentStates.values())if(be.size>0||!Ae.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ge(this,A,!1),!0},gi=function(){G(this,_)&&(clearTimeout(G(this,_)),Ge(this,_,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Ye(this,q,new Set);Ye(this,H,Promise.resolve())}postMessage(fe,be){const Ae={data:structuredClone(fe,be?{transfer:be}:null)};G(this,H).then(()=>{for(const xe of G(this,q))xe.call(this,Ae)})}addEventListener(fe,be){G(this,q).add(be)}removeEventListener(fe,be){G(this,q).delete(be)}terminate(){G(this,q).clear()}}q=new WeakMap,H=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const he=(W=document==null?void 0:document.currentScript)==null?void 0:W.src;he&&(PDFWorkerUtil.fallbackWorkerSrc=he.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(he,fe){let be;try{if(be=new URL(he),!be.origin||be.origin==="null")return!1}catch{return!1}const Ae=new URL(fe,be);return be.origin===Ae.origin},PDFWorkerUtil.createCDNWrapper=function(he){const fe=`importScripts("${he}");`;return URL.createObjectURL(new Blob([fe]))}}const _PDFWorker=class _PDFWorker{constructor({name:he=null,port:fe=null,verbosity:be=(0,_util.getVerbosityLevel)()}={}){var Ae;if(this.name=he,this.destroyed=!1,this.verbosity=be,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,fe){if((Ae=G(_PDFWorker,V))!=null&&Ae.has(fe))throw new Error("Cannot use more than one PDFWorker per port.");(G(_PDFWorker,V)||Ge(_PDFWorker,V,new WeakMap)).set(fe,this),this._initializeFromPort(fe);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(he){this._port=he,this._messageHandler=new _message_handler.MessageHandler("main","worker",he),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:he}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,he)||(he=PDFWorkerUtil.createCDNWrapper(new URL(he,window.location).href));const fe=new Worker(he),be=new _message_handler.MessageHandler("main","worker",fe),Ae=()=>{fe.removeEventListener("error",xe),be.destroy(),fe.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},xe=()=>{this._webWorker||Ae()};fe.addEventListener("error",xe),be.on("test",Me=>{if(fe.removeEventListener("error",xe),this.destroyed){Ae();return}Me?(this._messageHandler=be,this._port=fe,this._webWorker=fe,this._readyCapability.resolve(),be.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),be.destroy(),fe.terminate())}),be.on("ready",Me=>{if(fe.removeEventListener("error",xe),this.destroyed){Ae();return}try{we()}catch{this._setupFakeWorker()}});const we=()=>{const Me=new Uint8Array;be.send("test",Me,[Me.buffer])};we();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(he=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const fe=new LoopbackPort;this._port=fe;const be=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ae=new _message_handler.MessageHandler(be+"_worker",be,fe);he.setup(Ae,fe);const xe=new _message_handler.MessageHandler(be,be+"_worker",fe);this._messageHandler=xe,this._readyCapability.resolve(),xe.send("configure",{verbosity:this.verbosity})}).catch(he=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${he.message}".`))})}destroy(){var he;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(he=G(_PDFWorker,V))==null||he.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(he){var be;if(!(he!=null&&he.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const fe=(be=G(this,V))==null?void 0:be.get(he.port);if(fe){if(fe._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return fe}return new _PDFWorker(he)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var he;try{return((he=globalThis.pdfjsWorker)==null?void 0:he.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};V=new WeakMap,Ye(_PDFWorker,V);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(fe,be,Ae,xe,we){Ye(this,ie);Ye(this,K,new Map);Ye(this,Y,new Map);Ye(this,re,new Map);Ye(this,Q,null);this.messageHandler=fe,this.loadingTask=be,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:xe.ownerDocument,styleElement:xe.styleElement}),this._params=xe,this.canvasFactory=we.canvasFactory,this.filterFactory=we.filterFactory,this.cMapReaderFactory=we.cMapReaderFactory,this.standardFontDataFactory=we.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ae,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(fe,be=_util.AnnotationMode.ENABLE,Ae=null,xe=!1){let we=_util.RenderingIntentFlag.DISPLAY,Me=_annotation_storage.SerializableEmpty;switch(fe){case"any":we=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":we=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${fe}`)}switch(be){case _util.AnnotationMode.DISABLE:we+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:we+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:we+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Me=(we&_util.RenderingIntentFlag.PRINT&&Ae instanceof _annotation_storage.PrintAnnotationStorage?Ae:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${be}`)}return xe&&(we+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:we,cacheKey:`${we}_${Me.hash}`,annotationStorageSerializable:Me}}destroy(){var Ae;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Ae=G(this,Q))==null||Ae.reject(new Error("Worker was destroyed during onPassword callback"));const fe=[];for(const xe of G(this,Y).values())fe.push(xe._destroy());G(this,Y).clear(),G(this,re).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const be=this.messageHandler.sendWithPromise("Terminate",null);return fe.push(be),Promise.all(fe).then(()=>{var xe;this.commonObjs.clear(),this.fontLoader.clear(),G(this,K).clear(),this.filterFactory.destroy(),(xe=this._networkStream)==null||xe.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:fe,loadingTask:be}=this;fe.on("GetReader",(Ae,xe)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=we=>{this._lastProgress={loaded:we.loaded,total:we.total}},xe.onPull=()=>{this._fullReader.read().then(function({value:we,done:Me}){if(Me){xe.close();return}(0,_util.assert)(we instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),xe.enqueue(new Uint8Array(we),1,[we])}).catch(we=>{xe.error(we)})},xe.onCancel=we=>{this._fullReader.cancel(we),xe.ready.catch(Me=>{if(!this.destroyed)throw Me})}}),fe.on("ReaderHeadersReady",Ae=>{const xe=new _util.PromiseCapability,we=this._fullReader;return we.headersReady.then(()=>{var Me;(!we.isStreamingSupported||!we.isRangeSupported)&&(this._lastProgress&&((Me=be.onProgress)==null||Me.call(be,this._lastProgress)),we.onProgress=Pe=>{var Se;(Se=be.onProgress)==null||Se.call(be,{loaded:Pe.loaded,total:Pe.total})}),xe.resolve({isStreamingSupported:we.isStreamingSupported,isRangeSupported:we.isRangeSupported,contentLength:we.contentLength})},xe.reject),xe.promise}),fe.on("GetRangeReader",(Ae,xe)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const we=this._networkStream.getRangeReader(Ae.begin,Ae.end);if(!we){xe.close();return}xe.onPull=()=>{we.read().then(function({value:Me,done:Pe}){if(Pe){xe.close();return}(0,_util.assert)(Me instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),xe.enqueue(new Uint8Array(Me),1,[Me])}).catch(Me=>{xe.error(Me)})},xe.onCancel=Me=>{we.cancel(Me),xe.ready.catch(Pe=>{if(!this.destroyed)throw Pe})}}),fe.on("GetDoc",({pdfInfo:Ae})=>{this._numPages=Ae.numPages,this._htmlForXfa=Ae.htmlForXfa,delete Ae.htmlForXfa,be._capability.resolve(new PDFDocumentProxy(Ae,this))}),fe.on("DocException",function(Ae){let xe;switch(Ae.name){case"PasswordException":xe=new _util.PasswordException(Ae.message,Ae.code);break;case"InvalidPDFException":xe=new _util.InvalidPDFException(Ae.message);break;case"MissingPDFException":xe=new _util.MissingPDFException(Ae.message);break;case"UnexpectedResponseException":xe=new _util.UnexpectedResponseException(Ae.message,Ae.status);break;case"UnknownErrorException":xe=new _util.UnknownErrorException(Ae.message,Ae.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}be._capability.reject(xe)}),fe.on("PasswordRequest",Ae=>{if(Ge(this,Q,new _util.PromiseCapability),be.onPassword){const xe=we=>{we instanceof Error?G(this,Q).reject(we):G(this,Q).resolve({password:we})};try{be.onPassword(xe,Ae.code)}catch(we){G(this,Q).reject(we)}}else G(this,Q).reject(new _util.PasswordException(Ae.message,Ae.code));return G(this,Q).promise}),fe.on("DataLoaded",Ae=>{var xe;(xe=be.onProgress)==null||xe.call(be,{loaded:Ae.length,total:Ae.length}),this.downloadInfoCapability.resolve(Ae)}),fe.on("StartRenderPage",Ae=>{if(this.destroyed)return;G(this,Y).get(Ae.pageIndex)._startRenderPage(Ae.transparency,Ae.cacheKey)}),fe.on("commonobj",([Ae,xe,we])=>{var Me;if(!this.destroyed&&!this.commonObjs.has(Ae))switch(xe){case"Font":const Pe=this._params;if("error"in we){const $e=we.error;(0,_util.warn)(`Error during font loading: ${$e}`),this.commonObjs.resolve(Ae,$e);break}const Se=Pe.pdfBug&&((Me=globalThis.FontInspector)!=null&&Me.enabled)?($e,He)=>globalThis.FontInspector.fontAdded($e,He):null,Le=new _font_loader.FontFaceObject(we,{isEvalSupported:Pe.isEvalSupported,disableFontFace:Pe.disableFontFace,ignoreErrors:Pe.ignoreErrors,inspectFont:Se});this.fontLoader.bind(Le).catch($e=>fe.sendWithPromise("FontFallback",{id:Ae})).finally(()=>{!Pe.fontExtraProperties&&Le.data&&(Le.data=null),this.commonObjs.resolve(Ae,Le)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ae,we);break;default:throw new Error(`Got unknown common object type ${xe}`)}}),fe.on("obj",([Ae,xe,we,Me])=>{var Se;if(this.destroyed)return;const Pe=G(this,Y).get(xe);if(!Pe.objs.has(Ae))switch(we){case"Image":if(Pe.objs.resolve(Ae,Me),Me){let Le;if(Me.bitmap){const{width:$e,height:He}=Me;Le=$e*He*4}else Le=((Se=Me.data)==null?void 0:Se.length)||0;Le>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Pe._maybeCleanupAfterRender=!0)}break;case"Pattern":Pe.objs.resolve(Ae,Me);break;default:throw new Error(`Got unknown object type ${we}`)}}),fe.on("DocProgress",Ae=>{var xe;this.destroyed||(xe=be.onProgress)==null||xe.call(be,{loaded:Ae.loaded,total:Ae.total})}),fe.on("FetchBuiltInCMap",Ae=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ae):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),fe.on("FetchStandardFontData",Ae=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ae):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ae;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:fe,transfers:be}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:fe,filename:((Ae=this._fullReader)==null?void 0:Ae.filename)??null},be).finally(()=>{this.annotationStorage.resetModified()})}getPage(fe){if(!Number.isInteger(fe)||fe<=0||fe>this._numPages)return Promise.reject(new Error("Invalid page request."));const be=fe-1,Ae=G(this,re).get(be);if(Ae)return Ae;const xe=this.messageHandler.sendWithPromise("GetPage",{pageIndex:be}).then(we=>{if(this.destroyed)throw new Error("Transport destroyed");const Me=new PDFPageProxy(be,we,this,this._params.pdfBug);return G(this,Y).set(be,Me),Me});return G(this,re).set(be,xe),xe}getPageIndex(fe){return typeof fe!="object"||fe===null||!Number.isInteger(fe.num)||fe.num<0||!Number.isInteger(fe.gen)||fe.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:fe.num,gen:fe.gen})}getAnnotations(fe,be){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:fe,intent:be})}getFieldObjects(){return Ve(this,ie,xi).call(this,"GetFieldObjects")}hasJSActions(){return Ve(this,ie,xi).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(fe){return typeof fe!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:fe})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ve(this,ie,xi).call(this,"GetDocJSActions")}getPageJSActions(fe){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:fe})}getStructTree(fe){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:fe})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(fe=>new _optional_content_config.OptionalContentConfig(fe))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const fe="GetMetadata",be=G(this,K).get(fe);if(be)return be;const Ae=this.messageHandler.sendWithPromise(fe,null).then(xe=>{var we,Me;return{info:xe[0],metadata:xe[1]?new _metadata.Metadata(xe[1]):null,contentDispositionFilename:((we=this._fullReader)==null?void 0:we.filename)??null,contentLength:((Me=this._fullReader)==null?void 0:Me.contentLength)??null}});return G(this,K).set(fe,Ae),Ae}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(fe=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const be of G(this,Y).values())if(!be.cleanup())throw new Error(`startCleanup: Page ${be.pageNumber} is currently rendering.`);this.commonObjs.clear(),fe||this.fontLoader.clear(),G(this,K).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:fe,enableXfa:be}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:fe,enableXfa:be})}}K=new WeakMap,Y=new WeakMap,re=new WeakMap,Q=new WeakMap,ie=new WeakSet,xi=function(fe,be=null){const Ae=G(this,K).get(fe);if(Ae)return Ae;const xe=this.messageHandler.sendWithPromise(fe,be);return G(this,K).set(fe,xe),xe};class PDFObjects{constructor(){Ye(this,ue);Ye(this,ce,Object.create(null))}get(fe,be=null){if(be){const xe=Ve(this,ue,Ji).call(this,fe);return xe.capability.promise.then(()=>be(xe.data)),null}const Ae=G(this,ce)[fe];if(!(Ae!=null&&Ae.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${fe}.`);return Ae.data}has(fe){const be=G(this,ce)[fe];return(be==null?void 0:be.capability.settled)||!1}resolve(fe,be=null){const Ae=Ve(this,ue,Ji).call(this,fe);Ae.data=be,Ae.capability.resolve()}clear(){var fe;for(const be in G(this,ce)){const{data:Ae}=G(this,ce)[be];(fe=Ae==null?void 0:Ae.bitmap)==null||fe.close()}Ge(this,ce,Object.create(null))}}ce=new WeakMap,ue=new WeakSet,Ji=function(fe){var be;return(be=G(this,ce))[fe]||(be[fe]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(fe){Ye(this,ge,null);Ge(this,ge,fe),this.onContinue=null}get promise(){return G(this,ge).capability.promise}cancel(fe=0){G(this,ge).cancel(null,fe)}get separateAnnots(){const{separateAnnots:fe}=G(this,ge).operatorList;if(!fe)return!1;const{annotationCanvasMap:be}=G(this,ge);return fe.form||fe.canvas&&(be==null?void 0:be.size)>0}}ge=new WeakMap,exports.RenderTask=RenderTask;const ve=class ve{constructor({callback:fe,params:be,objs:Ae,commonObjs:xe,annotationCanvasMap:we,operatorList:Me,pageIndex:Pe,canvasFactory:Se,filterFactory:Le,useRequestAnimationFrame:$e=!1,pdfBug:He=!1,pageColors:je=null}){this.callback=fe,this.params=be,this.objs=Ae,this.commonObjs=xe,this.annotationCanvasMap=we,this.operatorListIdx=null,this.operatorList=Me,this._pageIndex=Pe,this.canvasFactory=Se,this.filterFactory=Le,this._pdfBug=He,this.pageColors=je,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=$e===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=be.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:fe=!1,optionalContentConfig:be}){var Pe,Se;if(this.cancelled)return;if(this._canvas){if(G(ve,le).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");G(ve,le).add(this._canvas)}this._pdfBug&&((Pe=globalThis.StepperManager)!=null&&Pe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ae,viewport:xe,transform:we,background:Me}=this.params;this.gfx=new _canvas.CanvasGraphics(Ae,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:be},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:we,viewport:xe,transparency:fe,background:Me}),this.operatorListIdx=0,this.graphicsReady=!0,(Se=this.graphicsReadyCallback)==null||Se.call(this)}cancel(fe=null,be=0){var Ae;this.running=!1,this.cancelled=!0,(Ae=this.gfx)==null||Ae.endDrawing(),G(ve,le).delete(this._canvas),this.callback(fe||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,be))}operatorListChanged(){var fe;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(fe=this.stepper)==null||fe.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),G(ve,le).delete(this._canvas),this.callback())))}};le=new WeakMap,Ye(ve,le,new WeakSet);let InternalRenderTask=ve;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(R,w,_)=>{var W,V,K,lo,re;Object.defineProperty(w,"__esModule",{value:!0}),w.SerializableEmpty=w.PrintAnnotationStorage=w.AnnotationStorage=void 0;var A=_(1),$=_(4),O=_(8);const B=Object.freeze({map:null,hash:"",transfers:void 0});w.SerializableEmpty=B;class q{constructor(){Ye(this,K);Ye(this,W,!1);Ye(this,V,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ie,J){const ce=G(this,V).get(ie);return ce===void 0?J:Object.assign(J,ce)}getRawValue(ie){return G(this,V).get(ie)}remove(ie){if(G(this,V).delete(ie),G(this,V).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const J of G(this,V).values())if(J instanceof $.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ie,J){const ce=G(this,V).get(ie);let ue=!1;if(ce!==void 0)for(const[Ee,ge]of Object.entries(J))ce[Ee]!==ge&&(ue=!0,ce[Ee]=ge);else ue=!0,G(this,V).set(ie,J);ue&&Ve(this,K,lo).call(this),J instanceof $.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(J.constructor._type)}has(ie){return G(this,V).has(ie)}getAll(){return G(this,V).size>0?(0,A.objectFromMap)(G(this,V)):null}setAll(ie){for(const[J,ce]of Object.entries(ie))this.setValue(J,ce)}get size(){return G(this,V).size}resetModified(){G(this,W)&&(Ge(this,W,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new H(this)}get serializable(){if(G(this,V).size===0)return B;const ie=new Map,J=new O.MurmurHash3_64,ce=[],ue=Object.create(null);let Ee=!1;for(const[ge,le]of G(this,V)){const ve=le instanceof $.AnnotationEditor?le.serialize(!1,ue):le;ve&&(ie.set(ge,ve),J.update(`${ge}:${JSON.stringify(ve)}`),Ee||(Ee=!!ve.bitmap))}if(Ee)for(const ge of ie.values())ge.bitmap&&ce.push(ge.bitmap);return ie.size>0?{map:ie,hash:J.hexdigest(),transfers:ce}:B}}W=new WeakMap,V=new WeakMap,K=new WeakSet,lo=function(){G(this,W)||(Ge(this,W,!0),typeof this.onSetModified=="function"&&this.onSetModified())},w.AnnotationStorage=q;class H extends q{constructor(J){super();Ye(this,re);const{map:ce,hash:ue,transfers:Ee}=J.serializable,ge=structuredClone(ce,Ee?{transfer:Ee}:null);Ge(this,re,{map:ge,hash:ue,transfers:Ee})}get print(){(0,A.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return G(this,re)}}re=new WeakMap,w.PrintAnnotationStorage=H},(R,w,_)=>{var H,W,V,K,Y,re,Q,ie,J,ce,ue,Ee,ge,le,ve,Qi,Zi,be,ea,ta,co,uo,ho,sa,po;Object.defineProperty(w,"__esModule",{value:!0}),w.AnnotationEditor=void 0;var A=_(5),$=_(1),O=_(6);const $e=class $e{constructor(je){Ye(this,ve);Ye(this,H,"");Ye(this,W,!1);Ye(this,V,null);Ye(this,K,null);Ye(this,Y,null);Ye(this,re,!1);Ye(this,Q,null);Ye(this,ie,this.focusin.bind(this));Ye(this,J,this.focusout.bind(this));Ye(this,ce,!1);Ye(this,ue,!1);Ye(this,Ee,!1);on(this,"_initialOptions",Object.create(null));on(this,"_uiManager",null);on(this,"_focusEventsAllowed",!0);on(this,"_l10nPromise",null);Ye(this,ge,!1);Ye(this,le,$e._zIndex++);this.constructor===$e&&(0,$.unreachable)("Cannot initialize AnnotationEditor."),this.parent=je.parent,this.id=je.id,this.width=this.height=null,this.pageIndex=je.parent.pageIndex,this.name=je.name,this.div=null,this._uiManager=je.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=je.isCentered,this._structTreeParentId=null;const{rotation:De,rawDims:{pageWidth:qe,pageHeight:Ce,pageX:de,pageY:me}}=this.parent.viewport;this.rotation=De,this.pageRotation=(360+De-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[qe,Ce],this.pageTranslation=[de,me];const[ye,Ne]=this.parentDimensions;this.x=je.x/ye,this.y=je.y/Ne,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,$.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(je){const De=new q({id:je.parent.getNextId(),parent:je.parent,uiManager:je._uiManager});De.annotationElementId=je.annotationElementId,De.deleted=!0,De._uiManager.addToAnnotationStorage(De)}static initialize(je,De=null){if($e._l10nPromise||($e._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ce=>[Ce,je.get(Ce)]))),De!=null&&De.strings)for(const Ce of De.strings)$e._l10nPromise.set(Ce,je.get(Ce));if($e._borderLineWidth!==-1)return;const qe=getComputedStyle(document.documentElement);$e._borderLineWidth=parseFloat(qe.getPropertyValue("--outline-width"))||0}static updateDefaultParams(je,De){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(je){return!1}static paste(je,De){(0,$.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return G(this,ge)}set _isDraggable(je){var De;Ge(this,ge,je),(De=this.div)==null||De.classList.toggle("draggable",je)}center(){const[je,De]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*De/(je*2),this.y+=this.width*je/(De*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*De/(je*2),this.y-=this.width*je/(De*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(je){this._uiManager.addCommands(je)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=G(this,le)}setParent(je){je!==null&&(this.pageIndex=je.pageIndex,this.pageDimensions=je.pageDimensions),this.parent=je}focusin(je){this._focusEventsAllowed&&(G(this,ce)?Ge(this,ce,!1):this.parent.setSelected(this))}focusout(je){var qe;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const De=je.relatedTarget;De!=null&&De.closest(`#${this.id}`)||(je.preventDefault(),(qe=this.parent)!=null&&qe.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(je,De,qe,Ce){const[de,me]=this.parentDimensions;[qe,Ce]=this.screenToPageTranslation(qe,Ce),this.x=(je+qe)/de,this.y=(De+Ce)/me,this.fixAndSetPosition()}translate(je,De){Ve(this,ve,Qi).call(this,this.parentDimensions,je,De)}translateInPage(je,De){Ve(this,ve,Qi).call(this,this.pageDimensions,je,De),this.div.scrollIntoView({block:"nearest"})}drag(je,De){const[qe,Ce]=this.parentDimensions;if(this.x+=je/qe,this.y+=De/Ce,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Fe,y:Oe}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Fe,Oe)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:de,y:me}=this;const[ye,Ne]=Ve(this,ve,Zi).call(this);de+=ye,me+=Ne,this.div.style.left=`${(100*de).toFixed(2)}%`,this.div.style.top=`${(100*me).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[je,De]=this.pageDimensions;let{x:qe,y:Ce,width:de,height:me}=this;switch(de*=je,me*=De,qe*=je,Ce*=De,this.rotation){case 0:qe=Math.max(0,Math.min(je-de,qe)),Ce=Math.max(0,Math.min(De-me,Ce));break;case 90:qe=Math.max(0,Math.min(je-me,qe)),Ce=Math.min(De,Math.max(de,Ce));break;case 180:qe=Math.min(je,Math.max(de,qe)),Ce=Math.min(De,Math.max(me,Ce));break;case 270:qe=Math.min(je,Math.max(me,qe)),Ce=Math.max(0,Math.min(De-de,Ce));break}this.x=qe/=je,this.y=Ce/=De;const[ye,Ne]=Ve(this,ve,Zi).call(this);qe+=ye,Ce+=Ne;const{style:Fe}=this.div;Fe.left=`${(100*qe).toFixed(2)}%`,Fe.top=`${(100*Ce).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(je,De){var qe;return Ve(qe=$e,be,ea).call(qe,je,De,this.parentRotation)}pageTranslationToScreen(je,De){var qe;return Ve(qe=$e,be,ea).call(qe,je,De,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:je,pageDimensions:[De,qe]}=this,Ce=De*je,de=qe*je;return $.FeatureTest.isCSSRoundSupported?[Math.round(Ce),Math.round(de)]:[Ce,de]}setDims(je,De){var de;const[qe,Ce]=this.parentDimensions;this.div.style.width=`${(100*je/qe).toFixed(2)}%`,G(this,re)||(this.div.style.height=`${(100*De/Ce).toFixed(2)}%`),(de=G(this,V))==null||de.classList.toggle("small",je<$e.SMALL_EDITOR_SIZE||De<$e.SMALL_EDITOR_SIZE)}fixDims(){const{style:je}=this.div,{height:De,width:qe}=je,Ce=qe.endsWith("%"),de=!G(this,re)&&De.endsWith("%");if(Ce&&de)return;const[me,ye]=this.parentDimensions;Ce||(je.width=`${(100*parseFloat(qe)/me).toFixed(2)}%`),!G(this,re)&&!de&&(je.height=`${(100*parseFloat(De)/ye).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(G(this,V))return;const je=Ge(this,V,document.createElement("button"));je.className="altText";const De=await $e._l10nPromise.get("editor_alt_text_button_label");je.textContent=De,je.setAttribute("aria-label",De),je.tabIndex="0",je.addEventListener("contextmenu",O.noContextMenu),je.addEventListener("pointerdown",qe=>qe.stopPropagation()),je.addEventListener("click",qe=>{qe.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),je.addEventListener("keydown",qe=>{qe.target===je&&qe.key==="Enter"&&(qe.preventDefault(),this._uiManager.editAltText(this))}),Ve(this,ve,sa).call(this),this.div.append(je),$e.SMALL_EDITOR_SIZE||($e.SMALL_EDITOR_SIZE=Math.min(128,Math.round(je.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:G(this,H),decorative:G(this,W)}}set altTextData({altText:je,decorative:De}){G(this,H)===je&&G(this,W)===De||(Ge(this,H,je),Ge(this,W,De),Ve(this,ve,sa).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",G(this,ie)),this.div.addEventListener("focusout",G(this,J));const[je,De]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*De/je).toFixed(2)}%`,this.div.style.maxHeight=`${(100*je/De).toFixed(2)}%`);const[qe,Ce]=this.getInitialTranslation();return this.translate(qe,Ce),(0,A.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(je){const{isMac:De}=$.FeatureTest.platform;if(je.button!==0||je.ctrlKey&&De){je.preventDefault();return}Ge(this,ce,!0),Ve(this,ve,po).call(this,je)}moveInDOM(){var je;(je=this.parent)==null||je.moveEditorInDOM(this)}_setParentAndPosition(je,De,qe){je.changeParent(this),this.x=De,this.y=qe,this.fixAndSetPosition()}getRect(je,De){const qe=this.parentScale,[Ce,de]=this.pageDimensions,[me,ye]=this.pageTranslation,Ne=je/qe,Fe=De/qe,Oe=this.x*Ce,Xe=this.y*de,rt=this.width*Ce,gt=this.height*de;switch(this.rotation){case 0:return[Oe+Ne+me,de-Xe-Fe-gt+ye,Oe+Ne+rt+me,de-Xe-Fe+ye];case 90:return[Oe+Fe+me,de-Xe+Ne+ye,Oe+Fe+gt+me,de-Xe+Ne+rt+ye];case 180:return[Oe-Ne-rt+me,de-Xe+Fe+ye,Oe-Ne+me,de-Xe+Fe+gt+ye];case 270:return[Oe-Fe-gt+me,de-Xe-Ne-rt+ye,Oe-Fe+me,de-Xe-Ne+ye];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(je,De){const[qe,Ce,de,me]=je,ye=de-qe,Ne=me-Ce;switch(this.rotation){case 0:return[qe,De-me,ye,Ne];case 90:return[qe,De-Ce,Ne,ye];case 180:return[de,De-Ce,ye,Ne];case 270:return[de,De-me,Ne,ye];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ge(this,Ee,!0)}disableEditMode(){Ge(this,Ee,!1)}isInEditMode(){return G(this,Ee)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var je,De;(je=this.div)==null||je.addEventListener("focusin",G(this,ie)),(De=this.div)==null||De.addEventListener("focusout",G(this,J))}serialize(je=!1,De=null){(0,$.unreachable)("An editor must be serializable")}static deserialize(je,De,qe){const Ce=new this.prototype.constructor({parent:De,id:De.getNextId(),uiManager:qe});Ce.rotation=je.rotation;const[de,me]=Ce.pageDimensions,[ye,Ne,Fe,Oe]=Ce.getRectInCurrentCoords(je.rect,me);return Ce.x=ye/de,Ce.y=Ne/me,Ce.width=Fe/de,Ce.height=Oe/me,Ce}remove(){var je;this.div.removeEventListener("focusin",G(this,ie)),this.div.removeEventListener("focusout",G(this,J)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(je=G(this,V))==null||je.remove(),Ge(this,V,null),Ge(this,K,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ve(this,ve,co).call(this),G(this,Q).classList.remove("hidden"))}select(){var je;this.makeResizable(),(je=this.div)==null||je.classList.add("selectedEditor")}unselect(){var je,De,qe;(je=G(this,Q))==null||je.classList.add("hidden"),(De=this.div)==null||De.classList.remove("selectedEditor"),(qe=this.div)!=null&&qe.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(je,De){}disableEditing(){G(this,V)&&(G(this,V).hidden=!0)}enableEditing(){G(this,V)&&(G(this,V).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return G(this,ue)}set isEditing(je){Ge(this,ue,je),this.parent&&(je?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(je,De){Ge(this,re,!0);const qe=je/De,{style:Ce}=this.div;Ce.aspectRatio=qe,Ce.height="auto"}static get MIN_SIZE(){return 16}};H=new WeakMap,W=new WeakMap,V=new WeakMap,K=new WeakMap,Y=new WeakMap,re=new WeakMap,Q=new WeakMap,ie=new WeakMap,J=new WeakMap,ce=new WeakMap,ue=new WeakMap,Ee=new WeakMap,ge=new WeakMap,le=new WeakMap,ve=new WeakSet,Qi=function([je,De],qe,Ce){[qe,Ce]=this.screenToPageTranslation(qe,Ce),this.x+=qe/je,this.y+=Ce/De,this.fixAndSetPosition()},Zi=function(){const[je,De]=this.parentDimensions,{_borderLineWidth:qe}=$e,Ce=qe/je,de=qe/De;switch(this.rotation){case 90:return[-Ce,de];case 180:return[Ce,de];case 270:return[Ce,-de];default:return[-Ce,-de]}},be=new WeakSet,ea=function(je,De,qe){switch(qe){case 90:return[De,-je];case 180:return[-je,-De];case 270:return[-De,je];default:return[je,De]}},ta=function(je){switch(je){case 90:{const[De,qe]=this.pageDimensions;return[0,-De/qe,qe/De,0]}case 180:return[-1,0,0,-1];case 270:{const[De,qe]=this.pageDimensions;return[0,De/qe,-qe/De,0]}default:return[1,0,0,1]}},co=function(){if(G(this,Q))return;Ge(this,Q,document.createElement("div")),G(this,Q).classList.add("resizers");const je=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||je.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const De of je){const qe=document.createElement("div");G(this,Q).append(qe),qe.classList.add("resizer",De),qe.addEventListener("pointerdown",Ve(this,ve,uo).bind(this,De)),qe.addEventListener("contextmenu",O.noContextMenu)}this.div.prepend(G(this,Q))},uo=function(je,De){De.preventDefault();const{isMac:qe}=$.FeatureTest.platform;if(De.button!==0||De.ctrlKey&&qe)return;const Ce=Ve(this,ve,ho).bind(this,je),de=this._isDraggable;this._isDraggable=!1;const me={passive:!0,capture:!0};window.addEventListener("pointermove",Ce,me);const ye=this.x,Ne=this.y,Fe=this.width,Oe=this.height,Xe=this.parent.div.style.cursor,rt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(De.target).cursor;const gt=()=>{this._isDraggable=de,window.removeEventListener("pointerup",gt),window.removeEventListener("blur",gt),window.removeEventListener("pointermove",Ce,me),this.parent.div.style.cursor=Xe,this.div.style.cursor=rt;const xt=this.x,Et=this.y,jt=this.width,At=this.height;xt===ye&&Et===Ne&&jt===Fe&&At===Oe||this.addCommands({cmd:()=>{this.width=jt,this.height=At,this.x=xt,this.y=Et;const[nt,lt]=this.parentDimensions;this.setDims(nt*jt,lt*At),this.fixAndSetPosition()},undo:()=>{this.width=Fe,this.height=Oe,this.x=ye,this.y=Ne;const[nt,lt]=this.parentDimensions;this.setDims(nt*Fe,lt*Oe),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",gt),window.addEventListener("blur",gt)},ho=function(je,De){const[qe,Ce]=this.parentDimensions,de=this.x,me=this.y,ye=this.width,Ne=this.height,Fe=$e.MIN_SIZE/qe,Oe=$e.MIN_SIZE/Ce,Xe=ls=>Math.round(ls*1e4)/1e4,rt=Ve(this,ve,ta).call(this,this.rotation),gt=(ls,fs)=>[rt[0]*ls+rt[2]*fs,rt[1]*ls+rt[3]*fs],xt=Ve(this,ve,ta).call(this,360-this.rotation),Et=(ls,fs)=>[xt[0]*ls+xt[2]*fs,xt[1]*ls+xt[3]*fs];let jt,At,nt=!1,lt=!1;switch(je){case"topLeft":nt=!0,jt=(ls,fs)=>[0,0],At=(ls,fs)=>[ls,fs];break;case"topMiddle":jt=(ls,fs)=>[ls/2,0],At=(ls,fs)=>[ls/2,fs];break;case"topRight":nt=!0,jt=(ls,fs)=>[ls,0],At=(ls,fs)=>[0,fs];break;case"middleRight":lt=!0,jt=(ls,fs)=>[ls,fs/2],At=(ls,fs)=>[0,fs/2];break;case"bottomRight":nt=!0,jt=(ls,fs)=>[ls,fs],At=(ls,fs)=>[0,0];break;case"bottomMiddle":jt=(ls,fs)=>[ls/2,fs],At=(ls,fs)=>[ls/2,0];break;case"bottomLeft":nt=!0,jt=(ls,fs)=>[0,fs],At=(ls,fs)=>[ls,0];break;case"middleLeft":lt=!0,jt=(ls,fs)=>[0,fs/2],At=(ls,fs)=>[ls,fs/2];break}const _e=jt(ye,Ne),ke=At(ye,Ne);let Je=gt(...ke);const it=Xe(de+Je[0]),mt=Xe(me+Je[1]);let Rt=1,wt=1,[et,zt]=this.screenToPageTranslation(De.movementX,De.movementY);if([et,zt]=Et(et/qe,zt/Ce),nt){const ls=Math.hypot(ye,Ne);Rt=wt=Math.max(Math.min(Math.hypot(ke[0]-_e[0]-et,ke[1]-_e[1]-zt)/ls,1/ye,1/Ne),Fe/ye,Oe/Ne)}else lt?Rt=Math.max(Fe,Math.min(1,Math.abs(ke[0]-_e[0]-et)))/ye:wt=Math.max(Oe,Math.min(1,Math.abs(ke[1]-_e[1]-zt)))/Ne;const Bt=Xe(ye*Rt),js=Xe(Ne*wt);Je=gt(...At(Bt,js));const xs=it-Je[0],Ls=mt-Je[1];this.width=Bt,this.height=js,this.x=xs,this.y=Ls,this.setDims(qe*Bt,Ce*js),this.fixAndSetPosition()},sa=async function(){var qe;const je=G(this,V);if(!je)return;if(!G(this,H)&&!G(this,W)){je.classList.remove("done"),(qe=G(this,K))==null||qe.remove();return}$e._l10nPromise.get("editor_alt_text_edit_button_label").then(Ce=>{je.setAttribute("aria-label",Ce)});let De=G(this,K);if(!De){Ge(this,K,De=document.createElement("span")),De.className="tooltip",De.setAttribute("role","tooltip");const Ce=De.id=`alt-text-tooltip-${this.id}`;je.setAttribute("aria-describedby",Ce);const de=100;je.addEventListener("mouseenter",()=>{Ge(this,Y,setTimeout(()=>{Ge(this,Y,null),G(this,K).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},de))}),je.addEventListener("mouseleave",()=>{var me;clearTimeout(G(this,Y)),Ge(this,Y,null),(me=G(this,K))==null||me.classList.remove("show")})}je.classList.add("done"),De.innerText=G(this,W)?await $e._l10nPromise.get("editor_alt_text_decorative_tooltip"):G(this,H),De.parentNode||je.append(De)},po=function(je){if(!this._isDraggable)return;const De=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let qe,Ce;De&&(qe={passive:!0,capture:!0},Ce=me=>{const[ye,Ne]=this.screenToPageTranslation(me.movementX,me.movementY);this._uiManager.dragSelectedEditors(ye,Ne)},window.addEventListener("pointermove",Ce,qe));const de=()=>{if(window.removeEventListener("pointerup",de),window.removeEventListener("blur",de),De&&window.removeEventListener("pointermove",Ce,qe),Ge(this,ce,!1),!this._uiManager.endDragSession()){const{isMac:me}=$.FeatureTest.platform;je.ctrlKey&&!me||je.shiftKey||je.metaKey&&me?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",de),window.addEventListener("blur",de)},Ye($e,be),on($e,"_borderLineWidth",-1),on($e,"_colorManager",new A.ColorManager),on($e,"_zIndex",1),on($e,"SMALL_EDITOR_SIZE",0);let B=$e;w.AnnotationEditor=B;class q extends B{constructor(je){super(je),this.annotationElementId=je.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(R,w,_)=>{var re,Q,ie,J,ce,na,ge,le,ve,he,fe,mo,xe,we,Me,Pe,Se,Le,$e,He,je,De,qe,Ce,de,me,ye,Ne,Fe,Oe,Xe,rt,gt,xt,Et,jt,At,nt,lt,_e,ke,Je,it,mt,Rt,wt,et,fo,ra,ia,vi,aa,oa,On,Yr,go,xo,la,Jr,ca;Object.defineProperty(w,"__esModule",{value:!0}),w.KeyboardManager=w.CommandManager=w.ColorManager=w.AnnotationEditorUIManager=void 0,w.bindEvents=O,w.opacityToHex=B;var A=_(1),$=_(6);function O(is,ze,bt){for(const Yt of bt)ze.addEventListener(Yt,is[Yt].bind(is))}function B(is){return Math.round(Math.min(255,Math.max(1,255*is))).toString(16).padStart(2,"0")}class q{constructor(){Ye(this,re,0)}getId(){return`${A.AnnotationEditorPrefix}${ir(this,re)._++}`}}re=new WeakMap;const Ee=class Ee{constructor(){Ye(this,ce);Ye(this,Q,(0,A.getUuid)());Ye(this,ie,0);Ye(this,J,null)}static get _isSVGFittingCanvas(){const ze='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Yt=new OffscreenCanvas(1,3).getContext("2d"),cs=new Image;cs.src=ze;const ms=cs.decode().then(()=>(Yt.drawImage(cs,0,0,1,1,0,0,1,3),new Uint32Array(Yt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,A.shadow)(this,"_isSVGFittingCanvas",ms)}async getFromFile(ze){const{lastModified:bt,name:Yt,size:cs,type:ms}=ze;return Ve(this,ce,na).call(this,`${bt}_${Yt}_${cs}_${ms}`,ze)}async getFromUrl(ze){return Ve(this,ce,na).call(this,ze,ze)}async getFromId(ze){G(this,J)||Ge(this,J,new Map);const bt=G(this,J).get(ze);return bt?bt.bitmap?(bt.refCounter+=1,bt):bt.file?this.getFromFile(bt.file):this.getFromUrl(bt.url):null}getSvgUrl(ze){const bt=G(this,J).get(ze);return bt!=null&&bt.isSvg?bt.svgUrl:null}deleteId(ze){G(this,J)||Ge(this,J,new Map);const bt=G(this,J).get(ze);bt&&(bt.refCounter-=1,bt.refCounter===0&&(bt.bitmap=null))}isValidId(ze){return ze.startsWith(`image_${G(this,Q)}_`)}};Q=new WeakMap,ie=new WeakMap,J=new WeakMap,ce=new WeakSet,na=async function(ze,bt){G(this,J)||Ge(this,J,new Map);let Yt=G(this,J).get(ze);if(Yt===null)return null;if(Yt!=null&&Yt.bitmap)return Yt.refCounter+=1,Yt;try{Yt||(Yt={bitmap:null,id:`image_${G(this,Q)}_${ir(this,ie)._++}`,refCounter:0,isSvg:!1});let cs;if(typeof bt=="string"){Yt.url=bt;const ms=await fetch(bt);if(!ms.ok)throw new Error(ms.statusText);cs=await ms.blob()}else cs=Yt.file=bt;if(cs.type==="image/svg+xml"){const ms=Ee._isSVGFittingCanvas,os=new FileReader,Be=new Image,Ie=new Promise((Ze,vt)=>{Be.onload=()=>{Yt.bitmap=Be,Yt.isSvg=!0,Ze()},os.onload=async()=>{const yt=Yt.svgUrl=os.result;Be.src=await ms?`${yt}#svgView(preserveAspectRatio(none))`:yt},Be.onerror=os.onerror=vt});os.readAsDataURL(cs),await Ie}else Yt.bitmap=await createImageBitmap(cs);Yt.refCounter=1}catch(cs){console.error(cs),Yt=null}return G(this,J).set(ze,Yt),Yt&&G(this,J).set(Yt.id,Yt),Yt};let H=Ee;class W{constructor(ze=128){Ye(this,ge,[]);Ye(this,le,!1);Ye(this,ve);Ye(this,he,-1);Ge(this,ve,ze)}add({cmd:ze,undo:bt,mustExec:Yt,type:cs=NaN,overwriteIfSameType:ms=!1,keepUndo:os=!1}){if(Yt&&ze(),G(this,le))return;const Be={cmd:ze,undo:bt,type:cs};if(G(this,he)===-1){G(this,ge).length>0&&(G(this,ge).length=0),Ge(this,he,0),G(this,ge).push(Be);return}if(ms&&G(this,ge)[G(this,he)].type===cs){os&&(Be.undo=G(this,ge)[G(this,he)].undo),G(this,ge)[G(this,he)]=Be;return}const Ie=G(this,he)+1;Ie===G(this,ve)?G(this,ge).splice(0,1):(Ge(this,he,Ie),Ie<G(this,ge).length&&G(this,ge).splice(Ie)),G(this,ge).push(Be)}undo(){G(this,he)!==-1&&(Ge(this,le,!0),G(this,ge)[G(this,he)].undo(),Ge(this,le,!1),Ge(this,he,G(this,he)-1))}redo(){G(this,he)<G(this,ge).length-1&&(Ge(this,he,G(this,he)+1),Ge(this,le,!0),G(this,ge)[G(this,he)].cmd(),Ge(this,le,!1))}hasSomethingToUndo(){return G(this,he)!==-1}hasSomethingToRedo(){return G(this,he)<G(this,ge).length-1}destroy(){Ge(this,ge,null)}}ge=new WeakMap,le=new WeakMap,ve=new WeakMap,he=new WeakMap,w.CommandManager=W;class V{constructor(ze){Ye(this,fe);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:bt}=A.FeatureTest.platform;for(const[Yt,cs,ms={}]of ze)for(const os of Yt){const Be=os.startsWith("mac+");bt&&Be?(this.callbacks.set(os.slice(4),{callback:cs,options:ms}),this.allKeys.add(os.split("+").at(-1))):!bt&&!Be&&(this.callbacks.set(os,{callback:cs,options:ms}),this.allKeys.add(os.split("+").at(-1)))}}exec(ze,bt){if(!this.allKeys.has(bt.key))return;const Yt=this.callbacks.get(Ve(this,fe,mo).call(this,bt));if(!Yt)return;const{callback:cs,options:{bubbles:ms=!1,args:os=[],checker:Be=null}}=Yt;Be&&!Be(ze,bt)||(cs.bind(ze,...os)(),ms||(bt.stopPropagation(),bt.preventDefault()))}}fe=new WeakSet,mo=function(ze){ze.altKey&&this.buffer.push("alt"),ze.ctrlKey&&this.buffer.push("ctrl"),ze.metaKey&&this.buffer.push("meta"),ze.shiftKey&&this.buffer.push("shift"),this.buffer.push(ze.key);const bt=this.buffer.join("+");return this.buffer.length=0,bt},w.KeyboardManager=V;const Ae=class Ae{get _colors(){const ze=new Map([["CanvasText",null],["Canvas",null]]);return(0,$.getColorValues)(ze),(0,A.shadow)(this,"_colors",ze)}convert(ze){const bt=(0,$.getRGB)(ze);if(!window.matchMedia("(forced-colors: active)").matches)return bt;for(const[Yt,cs]of this._colors)if(cs.every((ms,os)=>ms===bt[os]))return Ae._colorsMapping.get(Yt);return bt}getHexCode(ze){const bt=this._colors.get(ze);return bt?A.Util.makeHexColor(...bt):ze}};on(Ae,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let K=Ae;w.ColorManager=K;const ss=class ss{constructor(ze,bt,Yt,cs,ms,os){Ye(this,et);Ye(this,xe,null);Ye(this,we,new Map);Ye(this,Me,new Map);Ye(this,Pe,null);Ye(this,Se,null);Ye(this,Le,new W);Ye(this,$e,0);Ye(this,He,new Set);Ye(this,je,null);Ye(this,De,null);Ye(this,qe,new Set);Ye(this,Ce,null);Ye(this,de,new q);Ye(this,me,!1);Ye(this,ye,!1);Ye(this,Ne,null);Ye(this,Fe,A.AnnotationEditorType.NONE);Ye(this,Oe,new Set);Ye(this,Xe,null);Ye(this,rt,this.blur.bind(this));Ye(this,gt,this.focus.bind(this));Ye(this,xt,this.copy.bind(this));Ye(this,Et,this.cut.bind(this));Ye(this,jt,this.paste.bind(this));Ye(this,At,this.keydown.bind(this));Ye(this,nt,this.onEditingAction.bind(this));Ye(this,lt,this.onPageChanging.bind(this));Ye(this,_e,this.onScaleChanging.bind(this));Ye(this,ke,this.onRotationChanging.bind(this));Ye(this,Je,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Ye(this,it,[0,0]);Ye(this,mt,null);Ye(this,Rt,null);Ye(this,wt,null);Ge(this,Rt,ze),Ge(this,wt,bt),Ge(this,Pe,Yt),this._eventBus=cs,this._eventBus._on("editingaction",G(this,nt)),this._eventBus._on("pagechanging",G(this,lt)),this._eventBus._on("scalechanging",G(this,_e)),this._eventBus._on("rotationchanging",G(this,ke)),Ge(this,Se,ms.annotationStorage),Ge(this,Ce,ms.filterFactory),Ge(this,Xe,os),this.viewParameters={realScale:$.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const ze=ss.prototype,bt=ms=>{const{activeElement:os}=document;return os&&G(ms,Rt).contains(os)&&ms.hasSomethingToControl()},Yt=this.TRANSLATE_SMALL,cs=this.TRANSLATE_BIG;return(0,A.shadow)(this,"_keyboardManager",new V([[["ctrl+a","mac+meta+a"],ze.selectAll],[["ctrl+z","mac+meta+z"],ze.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],ze.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],ze.delete],[["Escape","mac+Escape"],ze.unselectAll],[["ArrowLeft","mac+ArrowLeft"],ze.translateSelectedEditors,{args:[-Yt,0],checker:bt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ze.translateSelectedEditors,{args:[-cs,0],checker:bt}],[["ArrowRight","mac+ArrowRight"],ze.translateSelectedEditors,{args:[Yt,0],checker:bt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ze.translateSelectedEditors,{args:[cs,0],checker:bt}],[["ArrowUp","mac+ArrowUp"],ze.translateSelectedEditors,{args:[0,-Yt],checker:bt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ze.translateSelectedEditors,{args:[0,-cs],checker:bt}],[["ArrowDown","mac+ArrowDown"],ze.translateSelectedEditors,{args:[0,Yt],checker:bt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ze.translateSelectedEditors,{args:[0,cs],checker:bt}]]))}destroy(){Ve(this,et,vi).call(this),Ve(this,et,ra).call(this),this._eventBus._off("editingaction",G(this,nt)),this._eventBus._off("pagechanging",G(this,lt)),this._eventBus._off("scalechanging",G(this,_e)),this._eventBus._off("rotationchanging",G(this,ke));for(const ze of G(this,Me).values())ze.destroy();G(this,Me).clear(),G(this,we).clear(),G(this,qe).clear(),Ge(this,xe,null),G(this,Oe).clear(),G(this,Le).destroy(),G(this,Pe).destroy()}get hcmFilter(){return(0,A.shadow)(this,"hcmFilter",G(this,Xe)?G(this,Ce).addHCMFilter(G(this,Xe).foreground,G(this,Xe).background):"none")}get direction(){return(0,A.shadow)(this,"direction",getComputedStyle(G(this,Rt)).direction)}editAltText(ze){var bt;(bt=G(this,Pe))==null||bt.editAltText(this,ze)}onPageChanging({pageNumber:ze}){Ge(this,$e,ze-1)}focusMainContainer(){G(this,Rt).focus()}findParent(ze,bt){for(const Yt of G(this,Me).values()){const{x:cs,y:ms,width:os,height:Be}=Yt.div.getBoundingClientRect();if(ze>=cs&&ze<=cs+os&&bt>=ms&&bt<=ms+Be)return Yt}return null}disableUserSelect(ze=!1){G(this,wt).classList.toggle("noUserSelect",ze)}addShouldRescale(ze){G(this,qe).add(ze)}removeShouldRescale(ze){G(this,qe).delete(ze)}onScaleChanging({scale:ze}){this.commitOrRemove(),this.viewParameters.realScale=ze*$.PixelsPerInch.PDF_TO_CSS_UNITS;for(const bt of G(this,qe))bt.onScaleChanging()}onRotationChanging({pagesRotation:ze}){this.commitOrRemove(),this.viewParameters.rotation=ze}addToAnnotationStorage(ze){!ze.isEmpty()&&G(this,Se)&&!G(this,Se).has(ze.id)&&G(this,Se).setValue(ze.id,ze)}blur(){if(!this.hasSelection)return;const{activeElement:ze}=document;for(const bt of G(this,Oe))if(bt.div.contains(ze)){Ge(this,Ne,[bt,ze]),bt._focusEventsAllowed=!1;break}}focus(){if(!G(this,Ne))return;const[ze,bt]=G(this,Ne);Ge(this,Ne,null),bt.addEventListener("focusin",()=>{ze._focusEventsAllowed=!0},{once:!0}),bt.focus()}addEditListeners(){Ve(this,et,ia).call(this),Ve(this,et,aa).call(this)}removeEditListeners(){Ve(this,et,vi).call(this),Ve(this,et,oa).call(this)}copy(ze){var Yt;if(ze.preventDefault(),(Yt=G(this,xe))==null||Yt.commitOrRemove(),!this.hasSelection)return;const bt=[];for(const cs of G(this,Oe)){const ms=cs.serialize(!0);ms&&bt.push(ms)}bt.length!==0&&ze.clipboardData.setData("application/pdfjs",JSON.stringify(bt))}cut(ze){this.copy(ze),this.delete()}paste(ze){ze.preventDefault();const{clipboardData:bt}=ze;for(const ms of bt.items)for(const os of G(this,De))if(os.isHandlingMimeForPasting(ms.type)){os.paste(ms,this.currentLayer);return}let Yt=bt.getData("application/pdfjs");if(!Yt)return;try{Yt=JSON.parse(Yt)}catch(ms){(0,A.warn)(`paste: "${ms.message}".`);return}if(!Array.isArray(Yt))return;this.unselectAll();const cs=this.currentLayer;try{const ms=[];for(const Ie of Yt){const Ze=cs.deserialize(Ie);if(!Ze)return;ms.push(Ze)}const os=()=>{for(const Ie of ms)Ve(this,et,la).call(this,Ie);Ve(this,et,ca).call(this,ms)},Be=()=>{for(const Ie of ms)Ie.remove()};this.addCommands({cmd:os,undo:Be,mustExec:!0})}catch(ms){(0,A.warn)(`paste: "${ms.message}".`)}}keydown(ze){var bt;(bt=this.getActive())!=null&&bt.shouldGetKeyboardEvents()||ss._keyboardManager.exec(this,ze)}onEditingAction(ze){["undo","redo","delete","selectAll"].includes(ze.name)&&this[ze.name]()}setEditingState(ze){ze?(Ve(this,et,fo).call(this),Ve(this,et,ia).call(this),Ve(this,et,aa).call(this),Ve(this,et,On).call(this,{isEditing:G(this,Fe)!==A.AnnotationEditorType.NONE,isEmpty:Ve(this,et,Jr).call(this),hasSomethingToUndo:G(this,Le).hasSomethingToUndo(),hasSomethingToRedo:G(this,Le).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ve(this,et,ra).call(this),Ve(this,et,vi).call(this),Ve(this,et,oa).call(this),Ve(this,et,On).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(ze){if(!G(this,De)){Ge(this,De,ze);for(const bt of G(this,De))Ve(this,et,Yr).call(this,bt.defaultPropertiesToUpdate)}}getId(){return G(this,de).getId()}get currentLayer(){return G(this,Me).get(G(this,$e))}getLayer(ze){return G(this,Me).get(ze)}get currentPageIndex(){return G(this,$e)}addLayer(ze){G(this,Me).set(ze.pageIndex,ze),G(this,me)?ze.enable():ze.disable()}removeLayer(ze){G(this,Me).delete(ze.pageIndex)}updateMode(ze,bt=null){if(G(this,Fe)!==ze){if(Ge(this,Fe,ze),ze===A.AnnotationEditorType.NONE){this.setEditingState(!1),Ve(this,et,xo).call(this);return}this.setEditingState(!0),Ve(this,et,go).call(this),this.unselectAll();for(const Yt of G(this,Me).values())Yt.updateMode(ze);if(bt){for(const Yt of G(this,we).values())if(Yt.annotationElementId===bt){this.setSelected(Yt),Yt.enterInEditMode();break}}}}updateToolbar(ze){ze!==G(this,Fe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:ze})}updateParams(ze,bt){if(G(this,De)){if(ze===A.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(ze);return}for(const Yt of G(this,Oe))Yt.updateParams(ze,bt);for(const Yt of G(this,De))Yt.updateDefaultParams(ze,bt)}}enableWaiting(ze=!1){if(G(this,ye)!==ze){Ge(this,ye,ze);for(const bt of G(this,Me).values())ze?bt.disableClick():bt.enableClick(),bt.div.classList.toggle("waiting",ze)}}getEditors(ze){const bt=[];for(const Yt of G(this,we).values())Yt.pageIndex===ze&&bt.push(Yt);return bt}getEditor(ze){return G(this,we).get(ze)}addEditor(ze){G(this,we).set(ze.id,ze)}removeEditor(ze){var bt;G(this,we).delete(ze.id),this.unselect(ze),(!ze.annotationElementId||!G(this,He).has(ze.annotationElementId))&&((bt=G(this,Se))==null||bt.remove(ze.id))}addDeletedAnnotationElement(ze){G(this,He).add(ze.annotationElementId),ze.deleted=!0}isDeletedAnnotationElement(ze){return G(this,He).has(ze)}removeDeletedAnnotationElement(ze){G(this,He).delete(ze.annotationElementId),ze.deleted=!1}setActiveEditor(ze){G(this,xe)!==ze&&(Ge(this,xe,ze),ze&&Ve(this,et,Yr).call(this,ze.propertiesToUpdate))}toggleSelected(ze){if(G(this,Oe).has(ze)){G(this,Oe).delete(ze),ze.unselect(),Ve(this,et,On).call(this,{hasSelectedEditor:this.hasSelection});return}G(this,Oe).add(ze),ze.select(),Ve(this,et,Yr).call(this,ze.propertiesToUpdate),Ve(this,et,On).call(this,{hasSelectedEditor:!0})}setSelected(ze){for(const bt of G(this,Oe))bt!==ze&&bt.unselect();G(this,Oe).clear(),G(this,Oe).add(ze),ze.select(),Ve(this,et,Yr).call(this,ze.propertiesToUpdate),Ve(this,et,On).call(this,{hasSelectedEditor:!0})}isSelected(ze){return G(this,Oe).has(ze)}unselect(ze){ze.unselect(),G(this,Oe).delete(ze),Ve(this,et,On).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return G(this,Oe).size!==0}undo(){G(this,Le).undo(),Ve(this,et,On).call(this,{hasSomethingToUndo:G(this,Le).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ve(this,et,Jr).call(this)})}redo(){G(this,Le).redo(),Ve(this,et,On).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:G(this,Le).hasSomethingToRedo(),isEmpty:Ve(this,et,Jr).call(this)})}addCommands(ze){G(this,Le).add(ze),Ve(this,et,On).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ve(this,et,Jr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ze=[...G(this,Oe)],bt=()=>{for(const cs of ze)cs.remove()},Yt=()=>{for(const cs of ze)Ve(this,et,la).call(this,cs)};this.addCommands({cmd:bt,undo:Yt,mustExec:!0})}commitOrRemove(){var ze;(ze=G(this,xe))==null||ze.commitOrRemove()}hasSomethingToControl(){return G(this,xe)||this.hasSelection}selectAll(){for(const ze of G(this,Oe))ze.commit();Ve(this,et,ca).call(this,G(this,we).values())}unselectAll(){if(G(this,xe)){G(this,xe).commitOrRemove();return}if(this.hasSelection){for(const ze of G(this,Oe))ze.unselect();G(this,Oe).clear(),Ve(this,et,On).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(ze,bt,Yt=!1){if(Yt||this.commitOrRemove(),!this.hasSelection)return;G(this,it)[0]+=ze,G(this,it)[1]+=bt;const[cs,ms]=G(this,it),os=[...G(this,Oe)],Be=1e3;G(this,mt)&&clearTimeout(G(this,mt)),Ge(this,mt,setTimeout(()=>{Ge(this,mt,null),G(this,it)[0]=G(this,it)[1]=0,this.addCommands({cmd:()=>{for(const Ie of os)G(this,we).has(Ie.id)&&Ie.translateInPage(cs,ms)},undo:()=>{for(const Ie of os)G(this,we).has(Ie.id)&&Ie.translateInPage(-cs,-ms)},mustExec:!1})},Be));for(const Ie of os)Ie.translateInPage(ze,bt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ge(this,je,new Map);for(const ze of G(this,Oe))G(this,je).set(ze,{savedX:ze.x,savedY:ze.y,savedPageIndex:ze.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!G(this,je))return!1;this.disableUserSelect(!1);const ze=G(this,je);Ge(this,je,null);let bt=!1;for(const[{x:cs,y:ms,pageIndex:os},Be]of ze)Be.newX=cs,Be.newY=ms,Be.newPageIndex=os,bt||(bt=cs!==Be.savedX||ms!==Be.savedY||os!==Be.savedPageIndex);if(!bt)return!1;const Yt=(cs,ms,os,Be)=>{if(G(this,we).has(cs.id)){const Ie=G(this,Me).get(Be);Ie?cs._setParentAndPosition(Ie,ms,os):(cs.pageIndex=Be,cs.x=ms,cs.y=os)}};return this.addCommands({cmd:()=>{for(const[cs,{newX:ms,newY:os,newPageIndex:Be}]of ze)Yt(cs,ms,os,Be)},undo:()=>{for(const[cs,{savedX:ms,savedY:os,savedPageIndex:Be}]of ze)Yt(cs,ms,os,Be)},mustExec:!0}),!0}dragSelectedEditors(ze,bt){if(G(this,je))for(const Yt of G(this,je).keys())Yt.drag(ze,bt)}rebuild(ze){if(ze.parent===null){const bt=this.getLayer(ze.pageIndex);bt?(bt.changeParent(ze),bt.addOrRebuild(ze)):(this.addEditor(ze),this.addToAnnotationStorage(ze),ze.rebuild())}else ze.parent.addOrRebuild(ze)}isActive(ze){return G(this,xe)===ze}getActive(){return G(this,xe)}getMode(){return G(this,Fe)}get imageManager(){return(0,A.shadow)(this,"imageManager",new H)}};xe=new WeakMap,we=new WeakMap,Me=new WeakMap,Pe=new WeakMap,Se=new WeakMap,Le=new WeakMap,$e=new WeakMap,He=new WeakMap,je=new WeakMap,De=new WeakMap,qe=new WeakMap,Ce=new WeakMap,de=new WeakMap,me=new WeakMap,ye=new WeakMap,Ne=new WeakMap,Fe=new WeakMap,Oe=new WeakMap,Xe=new WeakMap,rt=new WeakMap,gt=new WeakMap,xt=new WeakMap,Et=new WeakMap,jt=new WeakMap,At=new WeakMap,nt=new WeakMap,lt=new WeakMap,_e=new WeakMap,ke=new WeakMap,Je=new WeakMap,it=new WeakMap,mt=new WeakMap,Rt=new WeakMap,wt=new WeakMap,et=new WeakSet,fo=function(){window.addEventListener("focus",G(this,gt)),window.addEventListener("blur",G(this,rt))},ra=function(){window.removeEventListener("focus",G(this,gt)),window.removeEventListener("blur",G(this,rt))},ia=function(){window.addEventListener("keydown",G(this,At),{capture:!0})},vi=function(){window.removeEventListener("keydown",G(this,At),{capture:!0})},aa=function(){document.addEventListener("copy",G(this,xt)),document.addEventListener("cut",G(this,Et)),document.addEventListener("paste",G(this,jt))},oa=function(){document.removeEventListener("copy",G(this,xt)),document.removeEventListener("cut",G(this,Et)),document.removeEventListener("paste",G(this,jt))},On=function(ze){Object.entries(ze).some(([Yt,cs])=>G(this,Je)[Yt]!==cs)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(G(this,Je),ze)})},Yr=function(ze){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:ze})},go=function(){if(!G(this,me)){Ge(this,me,!0);for(const ze of G(this,Me).values())ze.enable()}},xo=function(){if(this.unselectAll(),G(this,me)){Ge(this,me,!1);for(const ze of G(this,Me).values())ze.disable()}},la=function(ze){const bt=G(this,Me).get(ze.pageIndex);bt?bt.addOrRebuild(ze):this.addEditor(ze)},Jr=function(){if(G(this,we).size===0)return!0;if(G(this,we).size===1)for(const ze of G(this,we).values())return ze.isEmpty();return!1},ca=function(ze){G(this,Oe).clear();for(const bt of ze)bt.isEmpty()||(G(this,Oe).add(bt),bt.select());Ve(this,et,On).call(this,{hasSelectedEditor:!0})},on(ss,"TRANSLATE_SMALL",1),on(ss,"TRANSLATE_BIG",10);let Y=ss;w.AnnotationEditorUIManager=Y},(R,w,_)=>{var $e,He,je,De,qe,Ce,de,me,ye,Ne,Fe,Oe,kr,Pr,ua,bi,yi,Qr,Zr;Object.defineProperty(w,"__esModule",{value:!0}),w.StatTimer=w.RenderingCancelledException=w.PixelsPerInch=w.PageViewport=w.PDFDateString=w.DOMStandardFontDataFactory=w.DOMSVGFactory=w.DOMFilterFactory=w.DOMCanvasFactory=w.DOMCMapReaderFactory=void 0,w.deprecated=he,w.getColorValues=we,w.getCurrentTransform=Me,w.getCurrentTransformInverse=Pe,w.getFilenameFromUrl=ce,w.getPdfFilenameFromUrl=ue,w.getRGB=xe,w.getXfaPageViewport=Ae,w.isDataScheme=ie,w.isPdfFile=J,w.isValidFetchUrl=ge,w.loadScript=ve,w.noContextMenu=le,w.setLayerDimensions=Se;var A=_(7),$=_(1);const O="http://www.w3.org/2000/svg",Le=class Le{};on(Le,"CSS",96),on(Le,"PDF",72),on(Le,"PDF_TO_CSS_UNITS",Le.CSS/Le.PDF);let B=Le;w.PixelsPerInch=B;class q extends A.BaseFilterFactory{constructor({docId:_e,ownerDocument:ke=globalThis.document}={}){super();Ye(this,Oe);Ye(this,$e);Ye(this,He);Ye(this,je);Ye(this,De);Ye(this,qe);Ye(this,Ce);Ye(this,de);Ye(this,me);Ye(this,ye);Ye(this,Ne);Ye(this,Fe,0);Ge(this,je,_e),Ge(this,De,ke)}addFilter(_e){if(!_e)return"none";let ke=G(this,Oe,kr).get(_e);if(ke)return ke;let Je,it,mt,Rt;if(_e.length===1){const Bt=_e[0],js=new Array(256);for(let xs=0;xs<256;xs++)js[xs]=Bt[xs]/255;Rt=Je=it=mt=js.join(",")}else{const[Bt,js,xs]=_e,Ls=new Array(256),ls=new Array(256),fs=new Array(256);for(let As=0;As<256;As++)Ls[As]=Bt[As]/255,ls[As]=js[As]/255,fs[As]=xs[As]/255;Je=Ls.join(","),it=ls.join(","),mt=fs.join(","),Rt=`${Je}${it}${mt}`}if(ke=G(this,Oe,kr).get(Rt),ke)return G(this,Oe,kr).set(_e,ke),ke;const wt=`g_${G(this,je)}_transfer_map_${ir(this,Fe)._++}`,et=`url(#${wt})`;G(this,Oe,kr).set(_e,et),G(this,Oe,kr).set(Rt,et);const zt=Ve(this,Oe,bi).call(this,wt);return Ve(this,Oe,Qr).call(this,Je,it,mt,zt),et}addHCMFilter(_e,ke){var js;const Je=`${_e}-${ke}`;if(G(this,Ce)===Je)return G(this,de);if(Ge(this,Ce,Je),Ge(this,de,"none"),(js=G(this,qe))==null||js.remove(),!_e||!ke)return G(this,de);const it=Ve(this,Oe,Zr).call(this,_e);_e=$.Util.makeHexColor(...it);const mt=Ve(this,Oe,Zr).call(this,ke);if(ke=$.Util.makeHexColor(...mt),G(this,Oe,Pr).style.color="",_e==="#000000"&&ke==="#ffffff"||_e===ke)return G(this,de);const Rt=new Array(256);for(let xs=0;xs<=255;xs++){const Ls=xs/255;Rt[xs]=Ls<=.03928?Ls/12.92:((Ls+.055)/1.055)**2.4}const wt=Rt.join(","),et=`g_${G(this,je)}_hcm_filter`,zt=Ge(this,me,Ve(this,Oe,bi).call(this,et));Ve(this,Oe,Qr).call(this,wt,wt,wt,zt),Ve(this,Oe,ua).call(this,zt);const Bt=(xs,Ls)=>{const ls=it[xs]/255,fs=mt[xs]/255,As=new Array(Ls+1);for(let Hs=0;Hs<=Ls;Hs++)As[Hs]=ls+Hs/Ls*(fs-ls);return As.join(",")};return Ve(this,Oe,Qr).call(this,Bt(0,5),Bt(1,5),Bt(2,5),zt),Ge(this,de,`url(#${et})`),G(this,de)}addHighlightHCMFilter(_e,ke,Je,it){var fs;const mt=`${_e}-${ke}-${Je}-${it}`;if(G(this,ye)===mt)return G(this,Ne);if(Ge(this,ye,mt),Ge(this,Ne,"none"),(fs=G(this,me))==null||fs.remove(),!_e||!ke)return G(this,Ne);const[Rt,wt]=[_e,ke].map(Ve(this,Oe,Zr).bind(this));let et=Math.round(.2126*Rt[0]+.7152*Rt[1]+.0722*Rt[2]),zt=Math.round(.2126*wt[0]+.7152*wt[1]+.0722*wt[2]),[Bt,js]=[Je,it].map(Ve(this,Oe,Zr).bind(this));zt<et&&([et,zt,Bt,js]=[zt,et,js,Bt]),G(this,Oe,Pr).style.color="";const xs=(As,Hs,St)=>{const st=new Array(256),at=(zt-et)/St,Nt=As/255,ss=(Hs-As)/(255*St);let is=0;for(let ze=0;ze<=St;ze++){const bt=Math.round(et+ze*at),Yt=Nt+ze*ss;for(let cs=is;cs<=bt;cs++)st[cs]=Yt;is=bt+1}for(let ze=is;ze<256;ze++)st[ze]=st[is-1];return st.join(",")},Ls=`g_${G(this,je)}_hcm_highlight_filter`,ls=Ge(this,me,Ve(this,Oe,bi).call(this,Ls));return Ve(this,Oe,ua).call(this,ls),Ve(this,Oe,Qr).call(this,xs(Bt[0],js[0],5),xs(Bt[1],js[1],5),xs(Bt[2],js[2],5),ls),Ge(this,Ne,`url(#${Ls})`),G(this,Ne)}destroy(_e=!1){_e&&(G(this,de)||G(this,Ne))||(G(this,He)&&(G(this,He).parentNode.parentNode.remove(),Ge(this,He,null)),G(this,$e)&&(G(this,$e).clear(),Ge(this,$e,null)),Ge(this,Fe,0))}}$e=new WeakMap,He=new WeakMap,je=new WeakMap,De=new WeakMap,qe=new WeakMap,Ce=new WeakMap,de=new WeakMap,me=new WeakMap,ye=new WeakMap,Ne=new WeakMap,Fe=new WeakMap,Oe=new WeakSet,kr=function(){return G(this,$e)||Ge(this,$e,new Map)},Pr=function(){if(!G(this,He)){const _e=G(this,De).createElement("div"),{style:ke}=_e;ke.visibility="hidden",ke.contain="strict",ke.width=ke.height=0,ke.position="absolute",ke.top=ke.left=0,ke.zIndex=-1;const Je=G(this,De).createElementNS(O,"svg");Je.setAttribute("width",0),Je.setAttribute("height",0),Ge(this,He,G(this,De).createElementNS(O,"defs")),_e.append(Je),Je.append(G(this,He)),G(this,De).body.append(_e)}return G(this,He)},ua=function(_e){const ke=G(this,De).createElementNS(O,"feColorMatrix");ke.setAttribute("type","matrix"),ke.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),_e.append(ke)},bi=function(_e){const ke=G(this,De).createElementNS(O,"filter");return ke.setAttribute("color-interpolation-filters","sRGB"),ke.setAttribute("id",_e),G(this,Oe,Pr).append(ke),ke},yi=function(_e,ke,Je){const it=G(this,De).createElementNS(O,ke);it.setAttribute("type","discrete"),it.setAttribute("tableValues",Je),_e.append(it)},Qr=function(_e,ke,Je,it){const mt=G(this,De).createElementNS(O,"feComponentTransfer");it.append(mt),Ve(this,Oe,yi).call(this,mt,"feFuncR",_e),Ve(this,Oe,yi).call(this,mt,"feFuncG",ke),Ve(this,Oe,yi).call(this,mt,"feFuncB",Je)},Zr=function(_e){return G(this,Oe,Pr).style.color=_e,xe(getComputedStyle(G(this,Oe,Pr)).getPropertyValue("color"))},w.DOMFilterFactory=q;class H extends A.BaseCanvasFactory{constructor({ownerDocument:lt=globalThis.document}={}){super(),this._document=lt}_createCanvas(lt,_e){const ke=this._document.createElement("canvas");return ke.width=lt,ke.height=_e,ke}}w.DOMCanvasFactory=H;async function W(nt,lt=!1){if(ge(nt,document.baseURI)){const _e=await fetch(nt);if(!_e.ok)throw new Error(_e.statusText);return lt?new Uint8Array(await _e.arrayBuffer()):(0,$.stringToBytes)(await _e.text())}return new Promise((_e,ke)=>{const Je=new XMLHttpRequest;Je.open("GET",nt,!0),lt&&(Je.responseType="arraybuffer"),Je.onreadystatechange=()=>{if(Je.readyState===XMLHttpRequest.DONE){if(Je.status===200||Je.status===0){let it;if(lt&&Je.response?it=new Uint8Array(Je.response):!lt&&Je.responseText&&(it=(0,$.stringToBytes)(Je.responseText)),it){_e(it);return}}ke(new Error(Je.statusText))}},Je.send(null)})}class V extends A.BaseCMapReaderFactory{_fetchData(lt,_e){return W(lt,this.isCompressed).then(ke=>({cMapData:ke,compressionType:_e}))}}w.DOMCMapReaderFactory=V;class K extends A.BaseStandardFontDataFactory{_fetchData(lt){return W(lt,!0)}}w.DOMStandardFontDataFactory=K;class Y extends A.BaseSVGFactory{_createSVG(lt){return document.createElementNS(O,lt)}}w.DOMSVGFactory=Y;class re{constructor({viewBox:lt,scale:_e,rotation:ke,offsetX:Je=0,offsetY:it=0,dontFlip:mt=!1}){this.viewBox=lt,this.scale=_e,this.rotation=ke,this.offsetX=Je,this.offsetY=it;const Rt=(lt[2]+lt[0])/2,wt=(lt[3]+lt[1])/2;let et,zt,Bt,js;switch(ke%=360,ke<0&&(ke+=360),ke){case 180:et=-1,zt=0,Bt=0,js=1;break;case 90:et=0,zt=1,Bt=1,js=0;break;case 270:et=0,zt=-1,Bt=-1,js=0;break;case 0:et=1,zt=0,Bt=0,js=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}mt&&(Bt=-Bt,js=-js);let xs,Ls,ls,fs;et===0?(xs=Math.abs(wt-lt[1])*_e+Je,Ls=Math.abs(Rt-lt[0])*_e+it,ls=(lt[3]-lt[1])*_e,fs=(lt[2]-lt[0])*_e):(xs=Math.abs(Rt-lt[0])*_e+Je,Ls=Math.abs(wt-lt[1])*_e+it,ls=(lt[2]-lt[0])*_e,fs=(lt[3]-lt[1])*_e),this.transform=[et*_e,zt*_e,Bt*_e,js*_e,xs-et*_e*Rt-Bt*_e*wt,Ls-zt*_e*Rt-js*_e*wt],this.width=ls,this.height=fs}get rawDims(){const{viewBox:lt}=this;return(0,$.shadow)(this,"rawDims",{pageWidth:lt[2]-lt[0],pageHeight:lt[3]-lt[1],pageX:lt[0],pageY:lt[1]})}clone({scale:lt=this.scale,rotation:_e=this.rotation,offsetX:ke=this.offsetX,offsetY:Je=this.offsetY,dontFlip:it=!1}={}){return new re({viewBox:this.viewBox.slice(),scale:lt,rotation:_e,offsetX:ke,offsetY:Je,dontFlip:it})}convertToViewportPoint(lt,_e){return $.Util.applyTransform([lt,_e],this.transform)}convertToViewportRectangle(lt){const _e=$.Util.applyTransform([lt[0],lt[1]],this.transform),ke=$.Util.applyTransform([lt[2],lt[3]],this.transform);return[_e[0],_e[1],ke[0],ke[1]]}convertToPdfPoint(lt,_e){return $.Util.applyInverseTransform([lt,_e],this.transform)}}w.PageViewport=re;class Q extends $.BaseException{constructor(lt,_e=0){super(lt,"RenderingCancelledException"),this.extraDelay=_e}}w.RenderingCancelledException=Q;function ie(nt){const lt=nt.length;let _e=0;for(;_e<lt&&nt[_e].trim()==="";)_e++;return nt.substring(_e,_e+5).toLowerCase()==="data:"}function J(nt){return typeof nt=="string"&&/\.pdf$/i.test(nt)}function ce(nt,lt=!1){return lt||([nt]=nt.split(/[#?]/,1)),nt.substring(nt.lastIndexOf("/")+1)}function ue(nt,lt="document.pdf"){if(typeof nt!="string")return lt;if(ie(nt))return(0,$.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),lt;const _e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ke=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Je=_e.exec(nt);let it=ke.exec(Je[1])||ke.exec(Je[2])||ke.exec(Je[3]);if(it&&(it=it[0],it.includes("%")))try{it=ke.exec(decodeURIComponent(it))[0]}catch{}return it||lt}class Ee{constructor(){on(this,"started",Object.create(null));on(this,"times",[])}time(lt){lt in this.started&&(0,$.warn)(`Timer is already running for ${lt}`),this.started[lt]=Date.now()}timeEnd(lt){lt in this.started||(0,$.warn)(`Timer has not been started for ${lt}`),this.times.push({name:lt,start:this.started[lt],end:Date.now()}),delete this.started[lt]}toString(){const lt=[];let _e=0;for(const{name:ke}of this.times)_e=Math.max(ke.length,_e);for(const{name:ke,start:Je,end:it}of this.times)lt.push(`${ke.padEnd(_e)} ${it-Je}ms
`);return lt.join("")}}w.StatTimer=Ee;function ge(nt,lt){try{const{protocol:_e}=lt?new URL(nt,lt):new URL(nt);return _e==="http:"||_e==="https:"}catch{return!1}}function le(nt){nt.preventDefault()}function ve(nt,lt=!1){return new Promise((_e,ke)=>{const Je=document.createElement("script");Je.src=nt,Je.onload=function(it){lt&&Je.remove(),_e(it)},Je.onerror=function(){ke(new Error(`Cannot load script at: ${Je.src}`))},(document.head||document.documentElement).append(Je)})}function he(nt){console.log("Deprecated API usage: "+nt)}let fe;class be{static toDateObject(lt){if(!lt||typeof lt!="string")return null;fe||(fe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _e=fe.exec(lt);if(!_e)return null;const ke=parseInt(_e[1],10);let Je=parseInt(_e[2],10);Je=Je>=1&&Je<=12?Je-1:0;let it=parseInt(_e[3],10);it=it>=1&&it<=31?it:1;let mt=parseInt(_e[4],10);mt=mt>=0&&mt<=23?mt:0;let Rt=parseInt(_e[5],10);Rt=Rt>=0&&Rt<=59?Rt:0;let wt=parseInt(_e[6],10);wt=wt>=0&&wt<=59?wt:0;const et=_e[7]||"Z";let zt=parseInt(_e[8],10);zt=zt>=0&&zt<=23?zt:0;let Bt=parseInt(_e[9],10)||0;return Bt=Bt>=0&&Bt<=59?Bt:0,et==="-"?(mt+=zt,Rt+=Bt):et==="+"&&(mt-=zt,Rt-=Bt),new Date(Date.UTC(ke,Je,it,mt,Rt,wt))}}w.PDFDateString=be;function Ae(nt,{scale:lt=1,rotation:_e=0}){const{width:ke,height:Je}=nt.attributes.style,it=[0,0,parseInt(ke),parseInt(Je)];return new re({viewBox:it,scale:lt,rotation:_e})}function xe(nt){if(nt.startsWith("#")){const lt=parseInt(nt.slice(1),16);return[(lt&16711680)>>16,(lt&65280)>>8,lt&255]}return nt.startsWith("rgb(")?nt.slice(4,-1).split(",").map(lt=>parseInt(lt)):nt.startsWith("rgba(")?nt.slice(5,-1).split(",").map(lt=>parseInt(lt)).slice(0,3):((0,$.warn)(`Not a valid color format: "${nt}"`),[0,0,0])}function we(nt){const lt=document.createElement("span");lt.style.visibility="hidden",document.body.append(lt);for(const _e of nt.keys()){lt.style.color=_e;const ke=window.getComputedStyle(lt).color;nt.set(_e,xe(ke))}lt.remove()}function Me(nt){const{a:lt,b:_e,c:ke,d:Je,e:it,f:mt}=nt.getTransform();return[lt,_e,ke,Je,it,mt]}function Pe(nt){const{a:lt,b:_e,c:ke,d:Je,e:it,f:mt}=nt.getTransform().invertSelf();return[lt,_e,ke,Je,it,mt]}function Se(nt,lt,_e=!1,ke=!0){if(lt instanceof re){const{pageWidth:Je,pageHeight:it}=lt.rawDims,{style:mt}=nt,Rt=$.FeatureTest.isCSSRoundSupported,wt=`var(--scale-factor) * ${Je}px`,et=`var(--scale-factor) * ${it}px`,zt=Rt?`round(${wt}, 1px)`:`calc(${wt})`,Bt=Rt?`round(${et}, 1px)`:`calc(${et})`;!_e||lt.rotation%180===0?(mt.width=zt,mt.height=Bt):(mt.width=Bt,mt.height=zt)}ke&&nt.setAttribute("data-main-rotation",lt.rotation)}},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.BaseStandardFontDataFactory=w.BaseSVGFactory=w.BaseFilterFactory=w.BaseCanvasFactory=w.BaseCMapReaderFactory=void 0;var A=_(1);class ${constructor(){this.constructor===$&&(0,A.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(V){return"none"}addHCMFilter(V,K){return"none"}addHighlightHCMFilter(V,K,Y,re){return"none"}destroy(V=!1){}}w.BaseFilterFactory=$;class O{constructor(){this.constructor===O&&(0,A.unreachable)("Cannot initialize BaseCanvasFactory.")}create(V,K){if(V<=0||K<=0)throw new Error("Invalid canvas size");const Y=this._createCanvas(V,K);return{canvas:Y,context:Y.getContext("2d")}}reset(V,K,Y){if(!V.canvas)throw new Error("Canvas is not specified");if(K<=0||Y<=0)throw new Error("Invalid canvas size");V.canvas.width=K,V.canvas.height=Y}destroy(V){if(!V.canvas)throw new Error("Canvas is not specified");V.canvas.width=0,V.canvas.height=0,V.canvas=null,V.context=null}_createCanvas(V,K){(0,A.unreachable)("Abstract method `_createCanvas` called.")}}w.BaseCanvasFactory=O;class B{constructor({baseUrl:V=null,isCompressed:K=!0}){this.constructor===B&&(0,A.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=V,this.isCompressed=K}async fetch({name:V}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!V)throw new Error("CMap name must be specified.");const K=this.baseUrl+V+(this.isCompressed?".bcmap":""),Y=this.isCompressed?A.CMapCompressionType.BINARY:A.CMapCompressionType.NONE;return this._fetchData(K,Y).catch(re=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${K}`)})}_fetchData(V,K){(0,A.unreachable)("Abstract method `_fetchData` called.")}}w.BaseCMapReaderFactory=B;class q{constructor({baseUrl:V=null}){this.constructor===q&&(0,A.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=V}async fetch({filename:V}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!V)throw new Error("Font filename must be specified.");const K=`${this.baseUrl}${V}`;return this._fetchData(K).catch(Y=>{throw new Error(`Unable to load font data at: ${K}`)})}_fetchData(V){(0,A.unreachable)("Abstract method `_fetchData` called.")}}w.BaseStandardFontDataFactory=q;class H{constructor(){this.constructor===H&&(0,A.unreachable)("Cannot initialize BaseSVGFactory.")}create(V,K,Y=!1){if(V<=0||K<=0)throw new Error("Invalid SVG dimensions");const re=this._createSVG("svg:svg");return re.setAttribute("version","1.1"),Y||(re.setAttribute("width",`${V}px`),re.setAttribute("height",`${K}px`)),re.setAttribute("preserveAspectRatio","none"),re.setAttribute("viewBox",`0 0 ${V} ${K}`),re}createElement(V){if(typeof V!="string")throw new Error("Invalid SVG element type");return this._createSVG(V)}_createSVG(V){(0,A.unreachable)("Abstract method `_createSVG` called.")}}w.BaseSVGFactory=H},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.MurmurHash3_64=void 0;var A=_(1);const $=3285377520,O=4294901760,B=65535;class q{constructor(W){this.h1=W?W&4294967295:$,this.h2=W?W&4294967295:$}update(W){let V,K;if(typeof W=="string"){V=new Uint8Array(W.length*2),K=0;for(let he=0,fe=W.length;he<fe;he++){const be=W.charCodeAt(he);be<=255?V[K++]=be:(V[K++]=be>>>8,V[K++]=be&255)}}else if((0,A.isArrayBuffer)(W))V=W.slice(),K=V.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Y=K>>2,re=K-Y*4,Q=new Uint32Array(V.buffer,0,Y);let ie=0,J=0,ce=this.h1,ue=this.h2;const Ee=3432918353,ge=461845907,le=Ee&B,ve=ge&B;for(let he=0;he<Y;he++)he&1?(ie=Q[he],ie=ie*Ee&O|ie*le&B,ie=ie<<15|ie>>>17,ie=ie*ge&O|ie*ve&B,ce^=ie,ce=ce<<13|ce>>>19,ce=ce*5+3864292196):(J=Q[he],J=J*Ee&O|J*le&B,J=J<<15|J>>>17,J=J*ge&O|J*ve&B,ue^=J,ue=ue<<13|ue>>>19,ue=ue*5+3864292196);switch(ie=0,re){case 3:ie^=V[Y*4+2]<<16;case 2:ie^=V[Y*4+1]<<8;case 1:ie^=V[Y*4],ie=ie*Ee&O|ie*le&B,ie=ie<<15|ie>>>17,ie=ie*ge&O|ie*ve&B,Y&1?ce^=ie:ue^=ie}this.h1=ce,this.h2=ue}hexdigest(){let W=this.h1,V=this.h2;return W^=V>>>1,W=W*3981806797&O|W*36045&B,V=V*4283543511&O|((V<<16|W>>>16)*2950163797&O)>>>16,W^=V>>>1,W=W*444984403&O|W*60499&B,V=V*3301882366&O|((V<<16|W>>>16)*3120437893&O)>>>16,W^=V>>>1,(W>>>0).toString(16).padStart(8,"0")+(V>>>0).toString(16).padStart(8,"0")}}w.MurmurHash3_64=q},(R,w,_)=>{var B;Object.defineProperty(w,"__esModule",{value:!0}),w.FontLoader=w.FontFaceObject=void 0;var A=_(1);class ${constructor({ownerDocument:H=globalThis.document,styleElement:W=null}){Ye(this,B,new Set);this._document=H,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(H){this.nativeFontFaces.add(H),this._document.fonts.add(H)}removeNativeFontFace(H){this.nativeFontFaces.delete(H),this._document.fonts.delete(H)}insertRule(H){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const W=this.styleElement.sheet;W.insertRule(H,W.cssRules.length)}clear(){for(const H of this.nativeFontFaces)this._document.fonts.delete(H);this.nativeFontFaces.clear(),G(this,B).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(H){if(!(!H||G(this,B).has(H.loadedName))){if((0,A.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:W,src:V,style:K}=H,Y=new FontFace(W,V,K);this.addNativeFontFace(Y);try{await Y.load(),G(this,B).add(W)}catch{(0,A.warn)(`Cannot load system font: ${H.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Y)}return}(0,A.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(H){if(H.attached||H.missingFile&&!H.systemFontInfo)return;if(H.attached=!0,H.systemFontInfo){await this.loadSystemFont(H.systemFontInfo);return}if(this.isFontLoadingAPISupported){const V=H.createNativeFontFace();if(V){this.addNativeFontFace(V);try{await V.loaded}catch(K){throw(0,A.warn)(`Failed to load font '${V.family}': '${K}'.`),H.disableFontFace=!0,K}}return}const W=H.createFontFaceRule();if(W){if(this.insertRule(W),this.isSyncFontLoadingSupported)return;await new Promise(V=>{const K=this._queueLoadingCallback(V);this._prepareFontLoadEvent(H,K)})}}get isFontLoadingAPISupported(){var W;const H=!!((W=this._document)!=null&&W.fonts);return(0,A.shadow)(this,"isFontLoadingAPISupported",H)}get isSyncFontLoadingSupported(){let H=!1;return(A.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(H=!0),(0,A.shadow)(this,"isSyncFontLoadingSupported",H)}_queueLoadingCallback(H){function W(){for((0,A.assert)(!K.done,"completeRequest() cannot be called twice."),K.done=!0;V.length>0&&V[0].done;){const Y=V.shift();setTimeout(Y.callback,0)}}const{loadingRequests:V}=this,K={done:!1,complete:W,callback:H};return V.push(K),K}get _loadTestFont(){const H=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,A.shadow)(this,"_loadTestFont",H)}_prepareFontLoadEvent(H,W){function V(xe,we){return xe.charCodeAt(we)<<24|xe.charCodeAt(we+1)<<16|xe.charCodeAt(we+2)<<8|xe.charCodeAt(we+3)&255}function K(xe,we,Me,Pe){const Se=xe.substring(0,we),Le=xe.substring(we+Me);return Se+Pe+Le}let Y,re;const Q=this._document.createElement("canvas");Q.width=1,Q.height=1;const ie=Q.getContext("2d");let J=0;function ce(xe,we){if(++J>30){(0,A.warn)("Load test font never loaded."),we();return}if(ie.font="30px "+xe,ie.fillText(".",0,20),ie.getImageData(0,0,1,1).data[3]>0){we();return}setTimeout(ce.bind(null,xe,we))}const ue=`lt${Date.now()}${this.loadTestFontId++}`;let Ee=this._loadTestFont;Ee=K(Ee,976,ue.length,ue);const le=16,ve=1482184792;let he=V(Ee,le);for(Y=0,re=ue.length-3;Y<re;Y+=4)he=he-ve+V(ue,Y)|0;Y<ue.length&&(he=he-ve+V(ue+"XXX",Y)|0),Ee=K(Ee,le,4,(0,A.string32)(he));const fe=`url(data:font/opentype;base64,${btoa(Ee)});`,be=`@font-face {font-family:"${ue}";src:${fe}}`;this.insertRule(be);const Ae=this._document.createElement("div");Ae.style.visibility="hidden",Ae.style.width=Ae.style.height="10px",Ae.style.position="absolute",Ae.style.top=Ae.style.left="0px";for(const xe of[H.loadedName,ue]){const we=this._document.createElement("span");we.textContent="Hi",we.style.fontFamily=xe,Ae.append(we)}this._document.body.append(Ae),ce(ue,()=>{Ae.remove(),W.complete()})}}B=new WeakMap,w.FontLoader=$;class O{constructor(H,{isEvalSupported:W=!0,disableFontFace:V=!1,ignoreErrors:K=!1,inspectFont:Y=null}){this.compiledGlyphs=Object.create(null);for(const re in H)this[re]=H[re];this.isEvalSupported=W!==!1,this.disableFontFace=V===!0,this.ignoreErrors=K===!0,this._inspectFont=Y}createNativeFontFace(){var W;if(!this.data||this.disableFontFace)return null;let H;if(!this.cssFontInfo)H=new FontFace(this.loadedName,this.data,{});else{const V={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(V.style=`oblique ${this.cssFontInfo.italicAngle}deg`),H=new FontFace(this.cssFontInfo.fontFamily,this.data,V)}return(W=this._inspectFont)==null||W.call(this,this),H}createFontFaceRule(){var K;if(!this.data||this.disableFontFace)return null;const H=(0,A.bytesToString)(this.data),W=`url(data:${this.mimetype};base64,${btoa(H)});`;let V;if(!this.cssFontInfo)V=`@font-face {font-family:"${this.loadedName}";src:${W}}`;else{let Y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),V=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Y}src:${W}}`}return(K=this._inspectFont)==null||K.call(this,this,W),V}getPathGenerator(H,W){if(this.compiledGlyphs[W]!==void 0)return this.compiledGlyphs[W];let V;try{V=H.get(this.loadedName+"_path_"+W)}catch(K){if(!this.ignoreErrors)throw K;return(0,A.warn)(`getPathGenerator - ignoring character: "${K}".`),this.compiledGlyphs[W]=function(Y,re){}}if(this.isEvalSupported&&A.FeatureTest.isEvalSupported){const K=[];for(const Y of V){const re=Y.args!==void 0?Y.args.join(","):"";K.push("c.",Y.cmd,"(",re,`);
`)}return this.compiledGlyphs[W]=new Function("c","size",K.join(""))}return this.compiledGlyphs[W]=function(K,Y){for(const re of V)re.cmd==="scale"&&(re.args=[Y,-Y]),K[re.cmd].apply(K,re.args)}}}w.FontFaceObject=O},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.NodeStandardFontDataFactory=w.NodeFilterFactory=w.NodeCanvasFactory=w.NodeCMapReaderFactory=void 0;var A=_(7);_(1);const $=function(W){return new Promise((V,K)=>{require$$5.readFile(W,(re,Q)=>{if(re||!Q){K(new Error(re));return}V(new Uint8Array(Q))})})};class O extends A.BaseFilterFactory{}w.NodeFilterFactory=O;class B extends A.BaseCanvasFactory{_createCanvas(V,K){return require$$5.createCanvas(V,K)}}w.NodeCanvasFactory=B;class q extends A.BaseCMapReaderFactory{_fetchData(V,K){return $(V).then(Y=>({cMapData:Y,compressionType:K}))}}w.NodeCMapReaderFactory=q;class H extends A.BaseStandardFontDataFactory{_fetchData(V){return $(V)}}w.NodeStandardFontDataFactory=H},(R,w,_)=>{var He,da,ha;Object.defineProperty(w,"__esModule",{value:!0}),w.CanvasGraphics=void 0;var A=_(1),$=_(6),O=_(12),B=_(13);const q=16,H=100,W=4096,V=15,K=10,Y=1e3,re=16;function Q(Ce,de){if(Ce._removeMirroring)throw new Error("Context is already forwarding operations.");Ce.__originalSave=Ce.save,Ce.__originalRestore=Ce.restore,Ce.__originalRotate=Ce.rotate,Ce.__originalScale=Ce.scale,Ce.__originalTranslate=Ce.translate,Ce.__originalTransform=Ce.transform,Ce.__originalSetTransform=Ce.setTransform,Ce.__originalResetTransform=Ce.resetTransform,Ce.__originalClip=Ce.clip,Ce.__originalMoveTo=Ce.moveTo,Ce.__originalLineTo=Ce.lineTo,Ce.__originalBezierCurveTo=Ce.bezierCurveTo,Ce.__originalRect=Ce.rect,Ce.__originalClosePath=Ce.closePath,Ce.__originalBeginPath=Ce.beginPath,Ce._removeMirroring=()=>{Ce.save=Ce.__originalSave,Ce.restore=Ce.__originalRestore,Ce.rotate=Ce.__originalRotate,Ce.scale=Ce.__originalScale,Ce.translate=Ce.__originalTranslate,Ce.transform=Ce.__originalTransform,Ce.setTransform=Ce.__originalSetTransform,Ce.resetTransform=Ce.__originalResetTransform,Ce.clip=Ce.__originalClip,Ce.moveTo=Ce.__originalMoveTo,Ce.lineTo=Ce.__originalLineTo,Ce.bezierCurveTo=Ce.__originalBezierCurveTo,Ce.rect=Ce.__originalRect,Ce.closePath=Ce.__originalClosePath,Ce.beginPath=Ce.__originalBeginPath,delete Ce._removeMirroring},Ce.save=function(){de.save(),this.__originalSave()},Ce.restore=function(){de.restore(),this.__originalRestore()},Ce.translate=function(ye,Ne){de.translate(ye,Ne),this.__originalTranslate(ye,Ne)},Ce.scale=function(ye,Ne){de.scale(ye,Ne),this.__originalScale(ye,Ne)},Ce.transform=function(ye,Ne,Fe,Oe,Xe,rt){de.transform(ye,Ne,Fe,Oe,Xe,rt),this.__originalTransform(ye,Ne,Fe,Oe,Xe,rt)},Ce.setTransform=function(ye,Ne,Fe,Oe,Xe,rt){de.setTransform(ye,Ne,Fe,Oe,Xe,rt),this.__originalSetTransform(ye,Ne,Fe,Oe,Xe,rt)},Ce.resetTransform=function(){de.resetTransform(),this.__originalResetTransform()},Ce.rotate=function(ye){de.rotate(ye),this.__originalRotate(ye)},Ce.clip=function(ye){de.clip(ye),this.__originalClip(ye)},Ce.moveTo=function(me,ye){de.moveTo(me,ye),this.__originalMoveTo(me,ye)},Ce.lineTo=function(me,ye){de.lineTo(me,ye),this.__originalLineTo(me,ye)},Ce.bezierCurveTo=function(me,ye,Ne,Fe,Oe,Xe){de.bezierCurveTo(me,ye,Ne,Fe,Oe,Xe),this.__originalBezierCurveTo(me,ye,Ne,Fe,Oe,Xe)},Ce.rect=function(me,ye,Ne,Fe){de.rect(me,ye,Ne,Fe),this.__originalRect(me,ye,Ne,Fe)},Ce.closePath=function(){de.closePath(),this.__originalClosePath()},Ce.beginPath=function(){de.beginPath(),this.__originalBeginPath()}}class ie{constructor(de){this.canvasFactory=de,this.cache=Object.create(null)}getCanvas(de,me,ye){let Ne;return this.cache[de]!==void 0?(Ne=this.cache[de],this.canvasFactory.reset(Ne,me,ye)):(Ne=this.canvasFactory.create(me,ye),this.cache[de]=Ne),Ne}delete(de){delete this.cache[de]}clear(){for(const de in this.cache){const me=this.cache[de];this.canvasFactory.destroy(me),delete this.cache[de]}}}function J(Ce,de,me,ye,Ne,Fe,Oe,Xe,rt,gt){const[xt,Et,jt,At,nt,lt]=(0,$.getCurrentTransform)(Ce);if(Et===0&&jt===0){const Je=Oe*xt+nt,it=Math.round(Je),mt=Xe*At+lt,Rt=Math.round(mt),wt=(Oe+rt)*xt+nt,et=Math.abs(Math.round(wt)-it)||1,zt=(Xe+gt)*At+lt,Bt=Math.abs(Math.round(zt)-Rt)||1;return Ce.setTransform(Math.sign(xt),0,0,Math.sign(At),it,Rt),Ce.drawImage(de,me,ye,Ne,Fe,0,0,et,Bt),Ce.setTransform(xt,Et,jt,At,nt,lt),[et,Bt]}if(xt===0&&At===0){const Je=Xe*jt+nt,it=Math.round(Je),mt=Oe*Et+lt,Rt=Math.round(mt),wt=(Xe+gt)*jt+nt,et=Math.abs(Math.round(wt)-it)||1,zt=(Oe+rt)*Et+lt,Bt=Math.abs(Math.round(zt)-Rt)||1;return Ce.setTransform(0,Math.sign(Et),Math.sign(jt),0,it,Rt),Ce.drawImage(de,me,ye,Ne,Fe,0,0,Bt,et),Ce.setTransform(xt,Et,jt,At,nt,lt),[Bt,et]}Ce.drawImage(de,me,ye,Ne,Fe,Oe,Xe,rt,gt);const _e=Math.hypot(xt,Et),ke=Math.hypot(jt,At);return[_e*rt,ke*gt]}function ce(Ce){const{width:de,height:me}=Ce;if(de>Y||me>Y)return null;const ye=1e3,Ne=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Fe=de+1;let Oe=new Uint8Array(Fe*(me+1)),Xe,rt,gt;const xt=de+7&-8;let Et=new Uint8Array(xt*me),jt=0;for(const ke of Ce.data){let Je=128;for(;Je>0;)Et[jt++]=ke&Je?0:255,Je>>=1}let At=0;for(jt=0,Et[jt]!==0&&(Oe[0]=1,++At),rt=1;rt<de;rt++)Et[jt]!==Et[jt+1]&&(Oe[rt]=Et[jt]?2:1,++At),jt++;for(Et[jt]!==0&&(Oe[rt]=2,++At),Xe=1;Xe<me;Xe++){jt=Xe*xt,gt=Xe*Fe,Et[jt-xt]!==Et[jt]&&(Oe[gt]=Et[jt]?1:8,++At);let ke=(Et[jt]?4:0)+(Et[jt-xt]?8:0);for(rt=1;rt<de;rt++)ke=(ke>>2)+(Et[jt+1]?4:0)+(Et[jt-xt+1]?8:0),Ne[ke]&&(Oe[gt+rt]=Ne[ke],++At),jt++;if(Et[jt-xt]!==Et[jt]&&(Oe[gt+rt]=Et[jt]?2:4,++At),At>ye)return null}for(jt=xt*(me-1),gt=Xe*Fe,Et[jt]!==0&&(Oe[gt]=8,++At),rt=1;rt<de;rt++)Et[jt]!==Et[jt+1]&&(Oe[gt+rt]=Et[jt]?4:8,++At),jt++;if(Et[jt]!==0&&(Oe[gt+rt]=4,++At),At>ye)return null;const nt=new Int32Array([0,Fe,-1,0,-Fe,0,0,0,1]),lt=new Path2D;for(Xe=0;At&&Xe<=me;Xe++){let ke=Xe*Fe;const Je=ke+de;for(;ke<Je&&!Oe[ke];)ke++;if(ke===Je)continue;lt.moveTo(ke%Fe,Xe);const it=ke;let mt=Oe[ke];do{const Rt=nt[mt];do ke+=Rt;while(!Oe[ke]);const wt=Oe[ke];wt!==5&&wt!==10?(mt=wt,Oe[ke]=0):(mt=wt&51*mt>>4,Oe[ke]&=mt>>2|mt<<2),lt.lineTo(ke%Fe,ke/Fe|0),Oe[ke]||--At}while(it!==ke);--Xe}return Et=null,Oe=null,function(ke){ke.save(),ke.scale(1/de,-1/me),ke.translate(0,-me),ke.fill(lt),ke.beginPath(),ke.restore()}}class ue{constructor(de,me){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=A.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=A.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,de,me])}clone(){const de=Object.create(this);return de.clipBox=this.clipBox.slice(),de}setCurrentPoint(de,me){this.x=de,this.y=me}updatePathMinMax(de,me,ye){[me,ye]=A.Util.applyTransform([me,ye],de),this.minX=Math.min(this.minX,me),this.minY=Math.min(this.minY,ye),this.maxX=Math.max(this.maxX,me),this.maxY=Math.max(this.maxY,ye)}updateRectMinMax(de,me){const ye=A.Util.applyTransform(me,de),Ne=A.Util.applyTransform(me.slice(2),de);this.minX=Math.min(this.minX,ye[0],Ne[0]),this.minY=Math.min(this.minY,ye[1],Ne[1]),this.maxX=Math.max(this.maxX,ye[0],Ne[0]),this.maxY=Math.max(this.maxY,ye[1],Ne[1])}updateScalingPathMinMax(de,me){A.Util.scaleMinMax(de,me),this.minX=Math.min(this.minX,me[0]),this.maxX=Math.max(this.maxX,me[1]),this.minY=Math.min(this.minY,me[2]),this.maxY=Math.max(this.maxY,me[3])}updateCurvePathMinMax(de,me,ye,Ne,Fe,Oe,Xe,rt,gt,xt){const Et=A.Util.bezierBoundingBox(me,ye,Ne,Fe,Oe,Xe,rt,gt);if(xt){xt[0]=Math.min(xt[0],Et[0],Et[2]),xt[1]=Math.max(xt[1],Et[0],Et[2]),xt[2]=Math.min(xt[2],Et[1],Et[3]),xt[3]=Math.max(xt[3],Et[1],Et[3]);return}this.updateRectMinMax(de,Et)}getPathBoundingBox(de=O.PathType.FILL,me=null){const ye=[this.minX,this.minY,this.maxX,this.maxY];if(de===O.PathType.STROKE){me||(0,A.unreachable)("Stroke bounding box must include transform.");const Ne=A.Util.singularValueDecompose2dScale(me),Fe=Ne[0]*this.lineWidth/2,Oe=Ne[1]*this.lineWidth/2;ye[0]-=Fe,ye[1]-=Oe,ye[2]+=Fe,ye[3]+=Oe}return ye}updateClipFromPath(){const de=A.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(de||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(de){this.clipBox=de,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(de=O.PathType.FILL,me=null){return A.Util.intersect(this.clipBox,this.getPathBoundingBox(de,me))}}function Ee(Ce,de){if(typeof ImageData<"u"&&de instanceof ImageData){Ce.putImageData(de,0,0);return}const me=de.height,ye=de.width,Ne=me%re,Fe=(me-Ne)/re,Oe=Ne===0?Fe:Fe+1,Xe=Ce.createImageData(ye,re);let rt=0,gt;const xt=de.data,Et=Xe.data;let jt,At,nt,lt;if(de.kind===A.ImageKind.GRAYSCALE_1BPP){const _e=xt.byteLength,ke=new Uint32Array(Et.buffer,0,Et.byteLength>>2),Je=ke.length,it=ye+7>>3,mt=4294967295,Rt=A.FeatureTest.isLittleEndian?4278190080:255;for(jt=0;jt<Oe;jt++){for(nt=jt<Fe?re:Ne,gt=0,At=0;At<nt;At++){const wt=_e-rt;let et=0;const zt=wt>it?ye:wt*8-7,Bt=zt&-8;let js=0,xs=0;for(;et<Bt;et+=8)xs=xt[rt++],ke[gt++]=xs&128?mt:Rt,ke[gt++]=xs&64?mt:Rt,ke[gt++]=xs&32?mt:Rt,ke[gt++]=xs&16?mt:Rt,ke[gt++]=xs&8?mt:Rt,ke[gt++]=xs&4?mt:Rt,ke[gt++]=xs&2?mt:Rt,ke[gt++]=xs&1?mt:Rt;for(;et<zt;et++)js===0&&(xs=xt[rt++],js=128),ke[gt++]=xs&js?mt:Rt,js>>=1}for(;gt<Je;)ke[gt++]=0;Ce.putImageData(Xe,0,jt*re)}}else if(de.kind===A.ImageKind.RGBA_32BPP){for(At=0,lt=ye*re*4,jt=0;jt<Fe;jt++)Et.set(xt.subarray(rt,rt+lt)),rt+=lt,Ce.putImageData(Xe,0,At),At+=re;jt<Oe&&(lt=ye*Ne*4,Et.set(xt.subarray(rt,rt+lt)),Ce.putImageData(Xe,0,At))}else if(de.kind===A.ImageKind.RGB_24BPP)for(nt=re,lt=ye*nt,jt=0;jt<Oe;jt++){for(jt>=Fe&&(nt=Ne,lt=ye*nt),gt=0,At=lt;At--;)Et[gt++]=xt[rt++],Et[gt++]=xt[rt++],Et[gt++]=xt[rt++],Et[gt++]=255;Ce.putImageData(Xe,0,jt*re)}else throw new Error(`bad image kind: ${de.kind}`)}function ge(Ce,de){if(de.bitmap){Ce.drawImage(de.bitmap,0,0);return}const me=de.height,ye=de.width,Ne=me%re,Fe=(me-Ne)/re,Oe=Ne===0?Fe:Fe+1,Xe=Ce.createImageData(ye,re);let rt=0;const gt=de.data,xt=Xe.data;for(let Et=0;Et<Oe;Et++){const jt=Et<Fe?re:Ne;({srcPos:rt}=(0,B.convertBlackAndWhiteToRGBA)({src:gt,srcPos:rt,dest:xt,width:ye,height:jt,nonBlackColor:0})),Ce.putImageData(Xe,0,Et*re)}}function le(Ce,de){const me=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ye of me)Ce[ye]!==void 0&&(de[ye]=Ce[ye]);Ce.setLineDash!==void 0&&(de.setLineDash(Ce.getLineDash()),de.lineDashOffset=Ce.lineDashOffset)}function ve(Ce){if(Ce.strokeStyle=Ce.fillStyle="#000000",Ce.fillRule="nonzero",Ce.globalAlpha=1,Ce.lineWidth=1,Ce.lineCap="butt",Ce.lineJoin="miter",Ce.miterLimit=10,Ce.globalCompositeOperation="source-over",Ce.font="10px sans-serif",Ce.setLineDash!==void 0&&(Ce.setLineDash([]),Ce.lineDashOffset=0),!A.isNodeJS){const{filter:de}=Ce;de!=="none"&&de!==""&&(Ce.filter="none")}}function he(Ce,de,me,ye){const Ne=Ce.length;for(let Fe=3;Fe<Ne;Fe+=4){const Oe=Ce[Fe];if(Oe===0)Ce[Fe-3]=de,Ce[Fe-2]=me,Ce[Fe-1]=ye;else if(Oe<255){const Xe=255-Oe;Ce[Fe-3]=Ce[Fe-3]*Oe+de*Xe>>8,Ce[Fe-2]=Ce[Fe-2]*Oe+me*Xe>>8,Ce[Fe-1]=Ce[Fe-1]*Oe+ye*Xe>>8}}}function fe(Ce,de,me){const ye=Ce.length,Ne=1/255;for(let Fe=3;Fe<ye;Fe+=4){const Oe=me?me[Ce[Fe]]:Ce[Fe];de[Fe]=de[Fe]*Oe*Ne|0}}function be(Ce,de,me){const ye=Ce.length;for(let Ne=3;Ne<ye;Ne+=4){const Fe=Ce[Ne-3]*77+Ce[Ne-2]*152+Ce[Ne-1]*28;de[Ne]=me?de[Ne]*me[Fe>>8]>>8:de[Ne]*Fe>>16}}function Ae(Ce,de,me,ye,Ne,Fe,Oe,Xe,rt,gt,xt){const Et=!!Fe,jt=Et?Fe[0]:0,At=Et?Fe[1]:0,nt=Et?Fe[2]:0,lt=Ne==="Luminosity"?be:fe,ke=Math.min(ye,Math.ceil(1048576/me));for(let Je=0;Je<ye;Je+=ke){const it=Math.min(ke,ye-Je),mt=Ce.getImageData(Xe-gt,Je+(rt-xt),me,it),Rt=de.getImageData(Xe,Je+rt,me,it);Et&&he(mt.data,jt,At,nt),lt(mt.data,Rt.data,Oe),de.putImageData(Rt,Xe,Je+rt)}}function xe(Ce,de,me,ye){const Ne=ye[0],Fe=ye[1],Oe=ye[2]-Ne,Xe=ye[3]-Fe;Oe===0||Xe===0||(Ae(de.context,me,Oe,Xe,de.subtype,de.backdrop,de.transferMap,Ne,Fe,de.offsetX,de.offsetY),Ce.save(),Ce.globalAlpha=1,Ce.globalCompositeOperation="source-over",Ce.setTransform(1,0,0,1,0,0),Ce.drawImage(me.canvas,0,0),Ce.restore())}function we(Ce,de){const me=A.Util.singularValueDecompose2dScale(Ce);me[0]=Math.fround(me[0]),me[1]=Math.fround(me[1]);const ye=Math.fround((globalThis.devicePixelRatio||1)*$.PixelsPerInch.PDF_TO_CSS_UNITS);return de!==void 0?de:me[0]<=ye||me[1]<=ye}const Me=["butt","round","square"],Pe=["miter","round","bevel"],Se={},Le={},qe=class qe{constructor(de,me,ye,Ne,Fe,{optionalContentConfig:Oe,markedContentStack:Xe=null},rt,gt){Ye(this,He);this.ctx=de,this.current=new ue(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=me,this.objs=ye,this.canvasFactory=Ne,this.filterFactory=Fe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Xe||[],this.optionalContentConfig=Oe,this.cachedCanvases=new ie(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=rt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=gt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(de,me=null){return typeof de=="string"?de.startsWith("g_")?this.commonObjs.get(de):this.objs.get(de):me}beginDrawing({transform:de,viewport:me,transparency:ye=!1,background:Ne=null}){const Fe=this.ctx.canvas.width,Oe=this.ctx.canvas.height,Xe=this.ctx.fillStyle;if(this.ctx.fillStyle=Ne||"#ffffff",this.ctx.fillRect(0,0,Fe,Oe),this.ctx.fillStyle=Xe,ye){const rt=this.cachedCanvases.getCanvas("transparent",Fe,Oe);this.compositeCtx=this.ctx,this.transparentCanvas=rt.canvas,this.ctx=rt.context,this.ctx.save(),this.ctx.transform(...(0,$.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ve(this.ctx),de&&(this.ctx.transform(...de),this.outputScaleX=de[0],this.outputScaleY=de[0]),this.ctx.transform(...me.transform),this.viewportScale=me.scale,this.baseTransform=(0,$.getCurrentTransform)(this.ctx)}executeOperatorList(de,me,ye,Ne){const Fe=de.argsArray,Oe=de.fnArray;let Xe=me||0;const rt=Fe.length;if(rt===Xe)return Xe;const gt=rt-Xe>K&&typeof ye=="function",xt=gt?Date.now()+V:0;let Et=0;const jt=this.commonObjs,At=this.objs;let nt;for(;;){if(Ne!==void 0&&Xe===Ne.nextBreakPoint)return Ne.breakIt(Xe,ye),Xe;if(nt=Oe[Xe],nt!==A.OPS.dependency)this[nt].apply(this,Fe[Xe]);else for(const lt of Fe[Xe]){const _e=lt.startsWith("g_")?jt:At;if(!_e.has(lt))return _e.get(lt,ye),Xe}if(Xe++,Xe===rt)return Xe;if(gt&&++Et>K){if(Date.now()>xt)return ye(),Xe;Et=0}}}endDrawing(){Ve(this,He,da).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const de of this._cachedBitmapsMap.values()){for(const me of de.values())typeof HTMLCanvasElement<"u"&&me instanceof HTMLCanvasElement&&(me.width=me.height=0);de.clear()}this._cachedBitmapsMap.clear(),Ve(this,He,ha).call(this)}_scaleImage(de,me){const ye=de.width,Ne=de.height;let Fe=Math.max(Math.hypot(me[0],me[1]),1),Oe=Math.max(Math.hypot(me[2],me[3]),1),Xe=ye,rt=Ne,gt="prescale1",xt,Et;for(;Fe>2&&Xe>1||Oe>2&&rt>1;){let jt=Xe,At=rt;Fe>2&&Xe>1&&(jt=Xe>=16384?Math.floor(Xe/2)-1||1:Math.ceil(Xe/2),Fe/=Xe/jt),Oe>2&&rt>1&&(At=rt>=16384?Math.floor(rt/2)-1||1:Math.ceil(rt)/2,Oe/=rt/At),xt=this.cachedCanvases.getCanvas(gt,jt,At),Et=xt.context,Et.clearRect(0,0,jt,At),Et.drawImage(de,0,0,Xe,rt,0,0,jt,At),de=xt.canvas,Xe=jt,rt=At,gt=gt==="prescale1"?"prescale2":"prescale1"}return{img:de,paintWidth:Xe,paintHeight:rt}}_createMaskCanvas(de){const me=this.ctx,{width:ye,height:Ne}=de,Fe=this.current.fillColor,Oe=this.current.patternFill,Xe=(0,$.getCurrentTransform)(me);let rt,gt,xt,Et;if((de.bitmap||de.data)&&de.count>1){const et=de.bitmap||de.data.buffer;gt=JSON.stringify(Oe?Xe:[Xe.slice(0,4),Fe]),rt=this._cachedBitmapsMap.get(et),rt||(rt=new Map,this._cachedBitmapsMap.set(et,rt));const zt=rt.get(gt);if(zt&&!Oe){const Bt=Math.round(Math.min(Xe[0],Xe[2])+Xe[4]),js=Math.round(Math.min(Xe[1],Xe[3])+Xe[5]);return{canvas:zt,offsetX:Bt,offsetY:js}}xt=zt}xt||(Et=this.cachedCanvases.getCanvas("maskCanvas",ye,Ne),ge(Et.context,de));let jt=A.Util.transform(Xe,[1/ye,0,0,-1/Ne,0,0]);jt=A.Util.transform(jt,[1,0,0,1,0,-Ne]);const At=A.Util.applyTransform([0,0],jt),nt=A.Util.applyTransform([ye,Ne],jt),lt=A.Util.normalizeRect([At[0],At[1],nt[0],nt[1]]),_e=Math.round(lt[2]-lt[0])||1,ke=Math.round(lt[3]-lt[1])||1,Je=this.cachedCanvases.getCanvas("fillCanvas",_e,ke),it=Je.context,mt=Math.min(At[0],nt[0]),Rt=Math.min(At[1],nt[1]);it.translate(-mt,-Rt),it.transform(...jt),xt||(xt=this._scaleImage(Et.canvas,(0,$.getCurrentTransformInverse)(it)),xt=xt.img,rt&&Oe&&rt.set(gt,xt)),it.imageSmoothingEnabled=we((0,$.getCurrentTransform)(it),de.interpolate),J(it,xt,0,0,xt.width,xt.height,0,0,ye,Ne),it.globalCompositeOperation="source-in";const wt=A.Util.transform((0,$.getCurrentTransformInverse)(it),[1,0,0,1,-mt,-Rt]);return it.fillStyle=Oe?Fe.getPattern(me,this,wt,O.PathType.FILL):Fe,it.fillRect(0,0,ye,Ne),rt&&!Oe&&(this.cachedCanvases.delete("fillCanvas"),rt.set(gt,Je.canvas)),{canvas:Je.canvas,offsetX:Math.round(mt),offsetY:Math.round(Rt)}}setLineWidth(de){de!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=de,this.ctx.lineWidth=de}setLineCap(de){this.ctx.lineCap=Me[de]}setLineJoin(de){this.ctx.lineJoin=Pe[de]}setMiterLimit(de){this.ctx.miterLimit=de}setDash(de,me){const ye=this.ctx;ye.setLineDash!==void 0&&(ye.setLineDash(de),ye.lineDashOffset=me)}setRenderingIntent(de){}setFlatness(de){}setGState(de){for(const[me,ye]of de)switch(me){case"LW":this.setLineWidth(ye);break;case"LC":this.setLineCap(ye);break;case"LJ":this.setLineJoin(ye);break;case"ML":this.setMiterLimit(ye);break;case"D":this.setDash(ye[0],ye[1]);break;case"RI":this.setRenderingIntent(ye);break;case"FL":this.setFlatness(ye);break;case"Font":this.setFont(ye[0],ye[1]);break;case"CA":this.current.strokeAlpha=ye;break;case"ca":this.current.fillAlpha=ye,this.ctx.globalAlpha=ye;break;case"BM":this.ctx.globalCompositeOperation=ye;break;case"SMask":this.current.activeSMask=ye?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ye);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const de=this.inSMaskMode;this.current.activeSMask&&!de?this.beginSMaskMode():!this.current.activeSMask&&de&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const de=this.ctx.canvas.width,me=this.ctx.canvas.height,ye="smaskGroupAt"+this.groupLevel,Ne=this.cachedCanvases.getCanvas(ye,de,me);this.suspendedCtx=this.ctx,this.ctx=Ne.context;const Fe=this.ctx;Fe.setTransform(...(0,$.getCurrentTransform)(this.suspendedCtx)),le(this.suspendedCtx,Fe),Q(Fe,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),le(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(de){if(!this.current.activeSMask)return;de?(de[0]=Math.floor(de[0]),de[1]=Math.floor(de[1]),de[2]=Math.ceil(de[2]),de[3]=Math.ceil(de[3])):de=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const me=this.current.activeSMask,ye=this.suspendedCtx;xe(ye,me,this.ctx,de),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(le(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const de=this.current;this.stateStack.push(de),this.current=de.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),le(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(de,me,ye,Ne,Fe,Oe){this.ctx.transform(de,me,ye,Ne,Fe,Oe),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(de,me,ye){const Ne=this.ctx,Fe=this.current;let Oe=Fe.x,Xe=Fe.y,rt,gt;const xt=(0,$.getCurrentTransform)(Ne),Et=xt[0]===0&&xt[3]===0||xt[1]===0&&xt[2]===0,jt=Et?ye.slice(0):null;for(let At=0,nt=0,lt=de.length;At<lt;At++)switch(de[At]|0){case A.OPS.rectangle:Oe=me[nt++],Xe=me[nt++];const _e=me[nt++],ke=me[nt++],Je=Oe+_e,it=Xe+ke;Ne.moveTo(Oe,Xe),_e===0||ke===0?Ne.lineTo(Je,it):(Ne.lineTo(Je,Xe),Ne.lineTo(Je,it),Ne.lineTo(Oe,it)),Et||Fe.updateRectMinMax(xt,[Oe,Xe,Je,it]),Ne.closePath();break;case A.OPS.moveTo:Oe=me[nt++],Xe=me[nt++],Ne.moveTo(Oe,Xe),Et||Fe.updatePathMinMax(xt,Oe,Xe);break;case A.OPS.lineTo:Oe=me[nt++],Xe=me[nt++],Ne.lineTo(Oe,Xe),Et||Fe.updatePathMinMax(xt,Oe,Xe);break;case A.OPS.curveTo:rt=Oe,gt=Xe,Oe=me[nt+4],Xe=me[nt+5],Ne.bezierCurveTo(me[nt],me[nt+1],me[nt+2],me[nt+3],Oe,Xe),Fe.updateCurvePathMinMax(xt,rt,gt,me[nt],me[nt+1],me[nt+2],me[nt+3],Oe,Xe,jt),nt+=6;break;case A.OPS.curveTo2:rt=Oe,gt=Xe,Ne.bezierCurveTo(Oe,Xe,me[nt],me[nt+1],me[nt+2],me[nt+3]),Fe.updateCurvePathMinMax(xt,rt,gt,Oe,Xe,me[nt],me[nt+1],me[nt+2],me[nt+3],jt),Oe=me[nt+2],Xe=me[nt+3],nt+=4;break;case A.OPS.curveTo3:rt=Oe,gt=Xe,Oe=me[nt+2],Xe=me[nt+3],Ne.bezierCurveTo(me[nt],me[nt+1],Oe,Xe,Oe,Xe),Fe.updateCurvePathMinMax(xt,rt,gt,me[nt],me[nt+1],Oe,Xe,Oe,Xe,jt),nt+=4;break;case A.OPS.closePath:Ne.closePath();break}Et&&Fe.updateScalingPathMinMax(xt,jt),Fe.setCurrentPoint(Oe,Xe)}closePath(){this.ctx.closePath()}stroke(de=!0){const me=this.ctx,ye=this.current.strokeColor;me.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ye=="object"&&(ye!=null&&ye.getPattern)?(me.save(),me.strokeStyle=ye.getPattern(me,this,(0,$.getCurrentTransformInverse)(me),O.PathType.STROKE),this.rescaleAndStroke(!1),me.restore()):this.rescaleAndStroke(!0)),de&&this.consumePath(this.current.getClippedPathBoundingBox()),me.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(de=!0){const me=this.ctx,ye=this.current.fillColor,Ne=this.current.patternFill;let Fe=!1;Ne&&(me.save(),me.fillStyle=ye.getPattern(me,this,(0,$.getCurrentTransformInverse)(me),O.PathType.FILL),Fe=!0);const Oe=this.current.getClippedPathBoundingBox();this.contentVisible&&Oe!==null&&(this.pendingEOFill?(me.fill("evenodd"),this.pendingEOFill=!1):me.fill()),Fe&&me.restore(),de&&this.consumePath(Oe)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Se}eoClip(){this.pendingClip=Le}beginText(){this.current.textMatrix=A.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const de=this.pendingTextPaths,me=this.ctx;if(de===void 0){me.beginPath();return}me.save(),me.beginPath();for(const ye of de)me.setTransform(...ye.transform),me.translate(ye.x,ye.y),ye.addToPath(me,ye.fontSize);me.restore(),me.clip(),me.beginPath(),delete this.pendingTextPaths}setCharSpacing(de){this.current.charSpacing=de}setWordSpacing(de){this.current.wordSpacing=de}setHScale(de){this.current.textHScale=de/100}setLeading(de){this.current.leading=-de}setFont(de,me){var xt;const ye=this.commonObjs.get(de),Ne=this.current;if(!ye)throw new Error(`Can't find font for ${de}`);if(Ne.fontMatrix=ye.fontMatrix||A.FONT_IDENTITY_MATRIX,(Ne.fontMatrix[0]===0||Ne.fontMatrix[3]===0)&&(0,A.warn)("Invalid font matrix for font "+de),me<0?(me=-me,Ne.fontDirection=-1):Ne.fontDirection=1,this.current.font=ye,this.current.fontSize=me,ye.isType3Font)return;const Fe=ye.loadedName||"sans-serif",Oe=((xt=ye.systemFontInfo)==null?void 0:xt.css)||`"${Fe}", ${ye.fallbackName}`;let Xe="normal";ye.black?Xe="900":ye.bold&&(Xe="bold");const rt=ye.italic?"italic":"normal";let gt=me;me<q?gt=q:me>H&&(gt=H),this.current.fontSizeScale=me/gt,this.ctx.font=`${rt} ${Xe} ${gt}px ${Oe}`}setTextRenderingMode(de){this.current.textRenderingMode=de}setTextRise(de){this.current.textRise=de}moveText(de,me){this.current.x=this.current.lineX+=de,this.current.y=this.current.lineY+=me}setLeadingMoveText(de,me){this.setLeading(-me),this.moveText(de,me)}setTextMatrix(de,me,ye,Ne,Fe,Oe){this.current.textMatrix=[de,me,ye,Ne,Fe,Oe],this.current.textMatrixScale=Math.hypot(de,me),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(de,me,ye,Ne){const Fe=this.ctx,Oe=this.current,Xe=Oe.font,rt=Oe.textRenderingMode,gt=Oe.fontSize/Oe.fontSizeScale,xt=rt&A.TextRenderingMode.FILL_STROKE_MASK,Et=!!(rt&A.TextRenderingMode.ADD_TO_PATH_FLAG),jt=Oe.patternFill&&!Xe.missingFile;let At;(Xe.disableFontFace||Et||jt)&&(At=Xe.getPathGenerator(this.commonObjs,de)),Xe.disableFontFace||jt?(Fe.save(),Fe.translate(me,ye),Fe.beginPath(),At(Fe,gt),Ne&&Fe.setTransform(...Ne),(xt===A.TextRenderingMode.FILL||xt===A.TextRenderingMode.FILL_STROKE)&&Fe.fill(),(xt===A.TextRenderingMode.STROKE||xt===A.TextRenderingMode.FILL_STROKE)&&Fe.stroke(),Fe.restore()):((xt===A.TextRenderingMode.FILL||xt===A.TextRenderingMode.FILL_STROKE)&&Fe.fillText(de,me,ye),(xt===A.TextRenderingMode.STROKE||xt===A.TextRenderingMode.FILL_STROKE)&&Fe.strokeText(de,me,ye)),Et&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,$.getCurrentTransform)(Fe),x:me,y:ye,fontSize:gt,addToPath:At})}get isFontSubpixelAAEnabled(){const{context:de}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);de.scale(1.5,1),de.fillText("I",0,10);const me=de.getImageData(0,0,10,10).data;let ye=!1;for(let Ne=3;Ne<me.length;Ne+=4)if(me[Ne]>0&&me[Ne]<255){ye=!0;break}return(0,A.shadow)(this,"isFontSubpixelAAEnabled",ye)}showText(de){const me=this.current,ye=me.font;if(ye.isType3Font)return this.showType3Text(de);const Ne=me.fontSize;if(Ne===0)return;const Fe=this.ctx,Oe=me.fontSizeScale,Xe=me.charSpacing,rt=me.wordSpacing,gt=me.fontDirection,xt=me.textHScale*gt,Et=de.length,jt=ye.vertical,At=jt?1:-1,nt=ye.defaultVMetrics,lt=Ne*me.fontMatrix[0],_e=me.textRenderingMode===A.TextRenderingMode.FILL&&!ye.disableFontFace&&!me.patternFill;Fe.save(),Fe.transform(...me.textMatrix),Fe.translate(me.x,me.y+me.textRise),gt>0?Fe.scale(xt,-1):Fe.scale(xt,1);let ke;if(me.patternFill){Fe.save();const wt=me.fillColor.getPattern(Fe,this,(0,$.getCurrentTransformInverse)(Fe),O.PathType.FILL);ke=(0,$.getCurrentTransform)(Fe),Fe.restore(),Fe.fillStyle=wt}let Je=me.lineWidth;const it=me.textMatrixScale;if(it===0||Je===0){const wt=me.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;(wt===A.TextRenderingMode.STROKE||wt===A.TextRenderingMode.FILL_STROKE)&&(Je=this.getSinglePixelWidth())}else Je/=it;if(Oe!==1&&(Fe.scale(Oe,Oe),Je/=Oe),Fe.lineWidth=Je,ye.isInvalidPDFjsFont){const wt=[];let et=0;for(const zt of de)wt.push(zt.unicode),et+=zt.width;Fe.fillText(wt.join(""),0,0),me.x+=et*lt*xt,Fe.restore(),this.compose();return}let mt=0,Rt;for(Rt=0;Rt<Et;++Rt){const wt=de[Rt];if(typeof wt=="number"){mt+=At*wt*Ne/1e3;continue}let et=!1;const zt=(wt.isSpace?rt:0)+Xe,Bt=wt.fontChar,js=wt.accent;let xs,Ls,ls=wt.width;if(jt){const As=wt.vmetric||nt,Hs=-(wt.vmetric?As[1]:ls*.5)*lt,St=As[2]*lt;ls=As?-As[0]:ls,xs=Hs/Oe,Ls=(mt+St)/Oe}else xs=mt/Oe,Ls=0;if(ye.remeasure&&ls>0){const As=Fe.measureText(Bt).width*1e3/Ne*Oe;if(ls<As&&this.isFontSubpixelAAEnabled){const Hs=ls/As;et=!0,Fe.save(),Fe.scale(Hs,1),xs/=Hs}else ls!==As&&(xs+=(ls-As)/2e3*Ne/Oe)}if(this.contentVisible&&(wt.isInFont||ye.missingFile)){if(_e&&!js)Fe.fillText(Bt,xs,Ls);else if(this.paintChar(Bt,xs,Ls,ke),js){const As=xs+Ne*js.offset.x/Oe,Hs=Ls-Ne*js.offset.y/Oe;this.paintChar(js.fontChar,As,Hs,ke)}}const fs=jt?ls*lt-zt*gt:ls*lt+zt*gt;mt+=fs,et&&Fe.restore()}jt?me.y-=mt:me.x+=mt*xt,Fe.restore(),this.compose()}showType3Text(de){const me=this.ctx,ye=this.current,Ne=ye.font,Fe=ye.fontSize,Oe=ye.fontDirection,Xe=Ne.vertical?1:-1,rt=ye.charSpacing,gt=ye.wordSpacing,xt=ye.textHScale*Oe,Et=ye.fontMatrix||A.FONT_IDENTITY_MATRIX,jt=de.length,At=ye.textRenderingMode===A.TextRenderingMode.INVISIBLE;let nt,lt,_e,ke;if(!(At||Fe===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,me.save(),me.transform(...ye.textMatrix),me.translate(ye.x,ye.y),me.scale(xt,Oe),nt=0;nt<jt;++nt){if(lt=de[nt],typeof lt=="number"){ke=Xe*lt*Fe/1e3,this.ctx.translate(ke,0),ye.x+=ke*xt;continue}const Je=(lt.isSpace?gt:0)+rt,it=Ne.charProcOperatorList[lt.operatorListId];if(!it){(0,A.warn)(`Type3 character "${lt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=lt,this.save(),me.scale(Fe,Fe),me.transform(...Et),this.executeOperatorList(it),this.restore()),_e=A.Util.applyTransform([lt.width,0],Et)[0]*Fe+Je,me.translate(_e,0),ye.x+=_e*xt}me.restore(),this.processingType3=null}}setCharWidth(de,me){}setCharWidthAndBounds(de,me,ye,Ne,Fe,Oe){this.ctx.rect(ye,Ne,Fe-ye,Oe-Ne),this.ctx.clip(),this.endPath()}getColorN_Pattern(de){let me;if(de[0]==="TilingPattern"){const ye=de[1],Ne=this.baseTransform||(0,$.getCurrentTransform)(this.ctx),Fe={createCanvasGraphics:Oe=>new qe(Oe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};me=new O.TilingPattern(de,ye,this.ctx,Fe,Ne)}else me=this._getPattern(de[1],de[2]);return me}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(de,me,ye){const Ne=A.Util.makeHexColor(de,me,ye);this.ctx.strokeStyle=Ne,this.current.strokeColor=Ne}setFillRGBColor(de,me,ye){const Ne=A.Util.makeHexColor(de,me,ye);this.ctx.fillStyle=Ne,this.current.fillColor=Ne,this.current.patternFill=!1}_getPattern(de,me=null){let ye;return this.cachedPatterns.has(de)?ye=this.cachedPatterns.get(de):(ye=(0,O.getShadingPattern)(this.getObject(de)),this.cachedPatterns.set(de,ye)),me&&(ye.matrix=me),ye}shadingFill(de){if(!this.contentVisible)return;const me=this.ctx;this.save();const ye=this._getPattern(de);me.fillStyle=ye.getPattern(me,this,(0,$.getCurrentTransformInverse)(me),O.PathType.SHADING);const Ne=(0,$.getCurrentTransformInverse)(me);if(Ne){const{width:Fe,height:Oe}=me.canvas,[Xe,rt,gt,xt]=A.Util.getAxialAlignedBoundingBox([0,0,Fe,Oe],Ne);this.ctx.fillRect(Xe,rt,gt-Xe,xt-rt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,A.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,A.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(de,me){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(de)&&de.length===6&&this.transform(...de),this.baseTransform=(0,$.getCurrentTransform)(this.ctx),me)){const ye=me[2]-me[0],Ne=me[3]-me[1];this.ctx.rect(me[0],me[1],ye,Ne),this.current.updateRectMinMax((0,$.getCurrentTransform)(this.ctx),me),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(de){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const me=this.ctx;de.isolated||(0,A.info)("TODO: Support non-isolated groups."),de.knockout&&(0,A.warn)("Knockout groups not supported.");const ye=(0,$.getCurrentTransform)(me);if(de.matrix&&me.transform(...de.matrix),!de.bbox)throw new Error("Bounding box is required.");let Ne=A.Util.getAxialAlignedBoundingBox(de.bbox,(0,$.getCurrentTransform)(me));const Fe=[0,0,me.canvas.width,me.canvas.height];Ne=A.Util.intersect(Ne,Fe)||[0,0,0,0];const Oe=Math.floor(Ne[0]),Xe=Math.floor(Ne[1]);let rt=Math.max(Math.ceil(Ne[2])-Oe,1),gt=Math.max(Math.ceil(Ne[3])-Xe,1),xt=1,Et=1;rt>W&&(xt=rt/W,rt=W),gt>W&&(Et=gt/W,gt=W),this.current.startNewPathAndClipBox([0,0,rt,gt]);let jt="groupAt"+this.groupLevel;de.smask&&(jt+="_smask_"+this.smaskCounter++%2);const At=this.cachedCanvases.getCanvas(jt,rt,gt),nt=At.context;nt.scale(1/xt,1/Et),nt.translate(-Oe,-Xe),nt.transform(...ye),de.smask?this.smaskStack.push({canvas:At.canvas,context:nt,offsetX:Oe,offsetY:Xe,scaleX:xt,scaleY:Et,subtype:de.smask.subtype,backdrop:de.smask.backdrop,transferMap:de.smask.transferMap||null,startTransformInverse:null}):(me.setTransform(1,0,0,1,0,0),me.translate(Oe,Xe),me.scale(xt,Et),me.save()),le(me,nt),this.ctx=nt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(me),this.groupLevel++}endGroup(de){if(!this.contentVisible)return;this.groupLevel--;const me=this.ctx,ye=this.groupStack.pop();if(this.ctx=ye,this.ctx.imageSmoothingEnabled=!1,de.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ne=(0,$.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ne);const Fe=A.Util.getAxialAlignedBoundingBox([0,0,me.canvas.width,me.canvas.height],Ne);this.ctx.drawImage(me.canvas,0,0),this.ctx.restore(),this.compose(Fe)}}beginAnnotation(de,me,ye,Ne,Fe){if(Ve(this,He,da).call(this),ve(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(me)&&me.length===4){const Oe=me[2]-me[0],Xe=me[3]-me[1];if(Fe&&this.annotationCanvasMap){ye=ye.slice(),ye[4]-=me[0],ye[5]-=me[1],me=me.slice(),me[0]=me[1]=0,me[2]=Oe,me[3]=Xe;const[rt,gt]=A.Util.singularValueDecompose2dScale((0,$.getCurrentTransform)(this.ctx)),{viewportScale:xt}=this,Et=Math.ceil(Oe*this.outputScaleX*xt),jt=Math.ceil(Xe*this.outputScaleY*xt);this.annotationCanvas=this.canvasFactory.create(Et,jt);const{canvas:At,context:nt}=this.annotationCanvas;this.annotationCanvasMap.set(de,At),this.annotationCanvas.savedCtx=this.ctx,this.ctx=nt,this.ctx.save(),this.ctx.setTransform(rt,0,0,-gt,0,Xe*gt),ve(this.ctx)}else ve(this.ctx),this.ctx.rect(me[0],me[1],Oe,Xe),this.ctx.clip(),this.endPath()}this.current=new ue(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ye),this.transform(...Ne)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ve(this,He,ha).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(de){if(!this.contentVisible)return;const me=de.count;de=this.getObject(de.data,de),de.count=me;const ye=this.ctx,Ne=this.processingType3;if(Ne&&(Ne.compiled===void 0&&(Ne.compiled=ce(de)),Ne.compiled)){Ne.compiled(ye);return}const Fe=this._createMaskCanvas(de),Oe=Fe.canvas;ye.save(),ye.setTransform(1,0,0,1,0,0),ye.drawImage(Oe,Fe.offsetX,Fe.offsetY),ye.restore(),this.compose()}paintImageMaskXObjectRepeat(de,me,ye=0,Ne=0,Fe,Oe){if(!this.contentVisible)return;de=this.getObject(de.data,de);const Xe=this.ctx;Xe.save();const rt=(0,$.getCurrentTransform)(Xe);Xe.transform(me,ye,Ne,Fe,0,0);const gt=this._createMaskCanvas(de);Xe.setTransform(1,0,0,1,gt.offsetX-rt[4],gt.offsetY-rt[5]);for(let xt=0,Et=Oe.length;xt<Et;xt+=2){const jt=A.Util.transform(rt,[me,ye,Ne,Fe,Oe[xt],Oe[xt+1]]),[At,nt]=A.Util.applyTransform([0,0],jt);Xe.drawImage(gt.canvas,At,nt)}Xe.restore(),this.compose()}paintImageMaskXObjectGroup(de){if(!this.contentVisible)return;const me=this.ctx,ye=this.current.fillColor,Ne=this.current.patternFill;for(const Fe of de){const{data:Oe,width:Xe,height:rt,transform:gt}=Fe,xt=this.cachedCanvases.getCanvas("maskCanvas",Xe,rt),Et=xt.context;Et.save();const jt=this.getObject(Oe,Fe);ge(Et,jt),Et.globalCompositeOperation="source-in",Et.fillStyle=Ne?ye.getPattern(Et,this,(0,$.getCurrentTransformInverse)(me),O.PathType.FILL):ye,Et.fillRect(0,0,Xe,rt),Et.restore(),me.save(),me.transform(...gt),me.scale(1,-1),J(me,xt.canvas,0,0,Xe,rt,0,-1,1,1),me.restore()}this.compose()}paintImageXObject(de){if(!this.contentVisible)return;const me=this.getObject(de);if(!me){(0,A.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(me)}paintImageXObjectRepeat(de,me,ye,Ne){if(!this.contentVisible)return;const Fe=this.getObject(de);if(!Fe){(0,A.warn)("Dependent image isn't ready yet");return}const Oe=Fe.width,Xe=Fe.height,rt=[];for(let gt=0,xt=Ne.length;gt<xt;gt+=2)rt.push({transform:[me,0,0,ye,Ne[gt],Ne[gt+1]],x:0,y:0,w:Oe,h:Xe});this.paintInlineImageXObjectGroup(Fe,rt)}applyTransferMapsToCanvas(de){return this.current.transferMaps!=="none"&&(de.filter=this.current.transferMaps,de.drawImage(de.canvas,0,0),de.filter="none"),de.canvas}applyTransferMapsToBitmap(de){if(this.current.transferMaps==="none")return de.bitmap;const{bitmap:me,width:ye,height:Ne}=de,Fe=this.cachedCanvases.getCanvas("inlineImage",ye,Ne),Oe=Fe.context;return Oe.filter=this.current.transferMaps,Oe.drawImage(me,0,0),Oe.filter="none",Fe.canvas}paintInlineImageXObject(de){if(!this.contentVisible)return;const me=de.width,ye=de.height,Ne=this.ctx;if(this.save(),!A.isNodeJS){const{filter:Xe}=Ne;Xe!=="none"&&Xe!==""&&(Ne.filter="none")}Ne.scale(1/me,-1/ye);let Fe;if(de.bitmap)Fe=this.applyTransferMapsToBitmap(de);else if(typeof HTMLElement=="function"&&de instanceof HTMLElement||!de.data)Fe=de;else{const rt=this.cachedCanvases.getCanvas("inlineImage",me,ye).context;Ee(rt,de),Fe=this.applyTransferMapsToCanvas(rt)}const Oe=this._scaleImage(Fe,(0,$.getCurrentTransformInverse)(Ne));Ne.imageSmoothingEnabled=we((0,$.getCurrentTransform)(Ne),de.interpolate),J(Ne,Oe.img,0,0,Oe.paintWidth,Oe.paintHeight,0,-ye,me,ye),this.compose(),this.restore()}paintInlineImageXObjectGroup(de,me){if(!this.contentVisible)return;const ye=this.ctx;let Ne;if(de.bitmap)Ne=de.bitmap;else{const Fe=de.width,Oe=de.height,rt=this.cachedCanvases.getCanvas("inlineImage",Fe,Oe).context;Ee(rt,de),Ne=this.applyTransferMapsToCanvas(rt)}for(const Fe of me)ye.save(),ye.transform(...Fe.transform),ye.scale(1,-1),J(ye,Ne,Fe.x,Fe.y,Fe.w,Fe.h,0,-1,1,1),ye.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(de){}markPointProps(de,me){}beginMarkedContent(de){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(de,me){de==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(me)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(de){const me=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(de);const ye=this.ctx;this.pendingClip&&(me||(this.pendingClip===Le?ye.clip("evenodd"):ye.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ye.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const de=(0,$.getCurrentTransform)(this.ctx);if(de[1]===0&&de[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(de[0]),Math.abs(de[3]));else{const me=Math.abs(de[0]*de[3]-de[2]*de[1]),ye=Math.hypot(de[0],de[2]),Ne=Math.hypot(de[1],de[3]);this._cachedGetSinglePixelWidth=Math.max(ye,Ne)/me}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:de}=this.current,{a:me,b:ye,c:Ne,d:Fe}=this.ctx.getTransform();let Oe,Xe;if(ye===0&&Ne===0){const rt=Math.abs(me),gt=Math.abs(Fe);if(rt===gt)if(de===0)Oe=Xe=1/rt;else{const xt=rt*de;Oe=Xe=xt<1?1/xt:1}else if(de===0)Oe=1/rt,Xe=1/gt;else{const xt=rt*de,Et=gt*de;Oe=xt<1?1/xt:1,Xe=Et<1?1/Et:1}}else{const rt=Math.abs(me*Fe-ye*Ne),gt=Math.hypot(me,ye),xt=Math.hypot(Ne,Fe);if(de===0)Oe=xt/rt,Xe=gt/rt;else{const Et=de*rt;Oe=xt>Et?xt/Et:1,Xe=gt>Et?gt/Et:1}}this._cachedScaleForStroking[0]=Oe,this._cachedScaleForStroking[1]=Xe}return this._cachedScaleForStroking}rescaleAndStroke(de){const{ctx:me}=this,{lineWidth:ye}=this.current,[Ne,Fe]=this.getScaleForStroking();if(me.lineWidth=ye||1,Ne===1&&Fe===1){me.stroke();return}const Oe=me.getLineDash();if(de&&me.save(),me.scale(Ne,Fe),Oe.length>0){const Xe=Math.max(Ne,Fe);me.setLineDash(Oe.map(rt=>rt/Xe)),me.lineDashOffset/=Xe}me.stroke(),de&&me.restore()}isContentVisible(){for(let de=this.markedContentStack.length-1;de>=0;de--)if(!this.markedContentStack[de].visible)return!1;return!0}};He=new WeakSet,da=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ha=function(){if(this.pageColors){const de=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(de!=="none"){const me=this.ctx.filter;this.ctx.filter=de,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=me}}};let $e=qe;w.CanvasGraphics=$e;for(const Ce in A.OPS)$e.prototype[Ce]!==void 0&&($e.prototype[A.OPS[Ce]]=$e.prototype[Ce])},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.TilingPattern=w.PathType=void 0,w.getShadingPattern=re;var A=_(1),$=_(6);const O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};w.PathType=O;function B(ce,ue){if(!ue)return;const Ee=ue[2]-ue[0],ge=ue[3]-ue[1],le=new Path2D;le.rect(ue[0],ue[1],Ee,ge),ce.clip(le)}class q{constructor(){this.constructor===q&&(0,A.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,A.unreachable)("Abstract method `getPattern` called.")}}class H extends q{constructor(ue){super(),this._type=ue[1],this._bbox=ue[2],this._colorStops=ue[3],this._p0=ue[4],this._p1=ue[5],this._r0=ue[6],this._r1=ue[7],this.matrix=null}_createGradient(ue){let Ee;this._type==="axial"?Ee=ue.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Ee=ue.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ge of this._colorStops)Ee.addColorStop(ge[0],ge[1]);return Ee}getPattern(ue,Ee,ge,le){let ve;if(le===O.STROKE||le===O.FILL){const he=Ee.current.getClippedPathBoundingBox(le,(0,$.getCurrentTransform)(ue))||[0,0,0,0],fe=Math.ceil(he[2]-he[0])||1,be=Math.ceil(he[3]-he[1])||1,Ae=Ee.cachedCanvases.getCanvas("pattern",fe,be,!0),xe=Ae.context;xe.clearRect(0,0,xe.canvas.width,xe.canvas.height),xe.beginPath(),xe.rect(0,0,xe.canvas.width,xe.canvas.height),xe.translate(-he[0],-he[1]),ge=A.Util.transform(ge,[1,0,0,1,he[0],he[1]]),xe.transform(...Ee.baseTransform),this.matrix&&xe.transform(...this.matrix),B(xe,this._bbox),xe.fillStyle=this._createGradient(xe),xe.fill(),ve=ue.createPattern(Ae.canvas,"no-repeat");const we=new DOMMatrix(ge);ve.setTransform(we)}else B(ue,this._bbox),ve=this._createGradient(ue);return ve}}function W(ce,ue,Ee,ge,le,ve,he,fe){const be=ue.coords,Ae=ue.colors,xe=ce.data,we=ce.width*4;let Me;be[Ee+1]>be[ge+1]&&(Me=Ee,Ee=ge,ge=Me,Me=ve,ve=he,he=Me),be[ge+1]>be[le+1]&&(Me=ge,ge=le,le=Me,Me=he,he=fe,fe=Me),be[Ee+1]>be[ge+1]&&(Me=Ee,Ee=ge,ge=Me,Me=ve,ve=he,he=Me);const Pe=(be[Ee]+ue.offsetX)*ue.scaleX,Se=(be[Ee+1]+ue.offsetY)*ue.scaleY,Le=(be[ge]+ue.offsetX)*ue.scaleX,$e=(be[ge+1]+ue.offsetY)*ue.scaleY,He=(be[le]+ue.offsetX)*ue.scaleX,je=(be[le+1]+ue.offsetY)*ue.scaleY;if(Se>=je)return;const De=Ae[ve],qe=Ae[ve+1],Ce=Ae[ve+2],de=Ae[he],me=Ae[he+1],ye=Ae[he+2],Ne=Ae[fe],Fe=Ae[fe+1],Oe=Ae[fe+2],Xe=Math.round(Se),rt=Math.round(je);let gt,xt,Et,jt,At,nt,lt,_e;for(let ke=Xe;ke<=rt;ke++){if(ke<$e){const wt=ke<Se?0:(Se-ke)/(Se-$e);gt=Pe-(Pe-Le)*wt,xt=De-(De-de)*wt,Et=qe-(qe-me)*wt,jt=Ce-(Ce-ye)*wt}else{let wt;ke>je?wt=1:$e===je?wt=0:wt=($e-ke)/($e-je),gt=Le-(Le-He)*wt,xt=de-(de-Ne)*wt,Et=me-(me-Fe)*wt,jt=ye-(ye-Oe)*wt}let Je;ke<Se?Je=0:ke>je?Je=1:Je=(Se-ke)/(Se-je),At=Pe-(Pe-He)*Je,nt=De-(De-Ne)*Je,lt=qe-(qe-Fe)*Je,_e=Ce-(Ce-Oe)*Je;const it=Math.round(Math.min(gt,At)),mt=Math.round(Math.max(gt,At));let Rt=we*ke+it*4;for(let wt=it;wt<=mt;wt++)Je=(gt-wt)/(gt-At),Je<0?Je=0:Je>1&&(Je=1),xe[Rt++]=xt-(xt-nt)*Je|0,xe[Rt++]=Et-(Et-lt)*Je|0,xe[Rt++]=jt-(jt-_e)*Je|0,xe[Rt++]=255}}function V(ce,ue,Ee){const ge=ue.coords,le=ue.colors;let ve,he;switch(ue.type){case"lattice":const fe=ue.verticesPerRow,be=Math.floor(ge.length/fe)-1,Ae=fe-1;for(ve=0;ve<be;ve++){let xe=ve*fe;for(let we=0;we<Ae;we++,xe++)W(ce,Ee,ge[xe],ge[xe+1],ge[xe+fe],le[xe],le[xe+1],le[xe+fe]),W(ce,Ee,ge[xe+fe+1],ge[xe+1],ge[xe+fe],le[xe+fe+1],le[xe+1],le[xe+fe])}break;case"triangles":for(ve=0,he=ge.length;ve<he;ve+=3)W(ce,Ee,ge[ve],ge[ve+1],ge[ve+2],le[ve],le[ve+1],le[ve+2]);break;default:throw new Error("illegal figure")}}class K extends q{constructor(ue){super(),this._coords=ue[2],this._colors=ue[3],this._figures=ue[4],this._bounds=ue[5],this._bbox=ue[7],this._background=ue[8],this.matrix=null}_createMeshCanvas(ue,Ee,ge){const fe=Math.floor(this._bounds[0]),be=Math.floor(this._bounds[1]),Ae=Math.ceil(this._bounds[2])-fe,xe=Math.ceil(this._bounds[3])-be,we=Math.min(Math.ceil(Math.abs(Ae*ue[0]*1.1)),3e3),Me=Math.min(Math.ceil(Math.abs(xe*ue[1]*1.1)),3e3),Pe=Ae/we,Se=xe/Me,Le={coords:this._coords,colors:this._colors,offsetX:-fe,offsetY:-be,scaleX:1/Pe,scaleY:1/Se},$e=we+2*2,He=Me+2*2,je=ge.getCanvas("mesh",$e,He,!1),De=je.context,qe=De.createImageData(we,Me);if(Ee){const de=qe.data;for(let me=0,ye=de.length;me<ye;me+=4)de[me]=Ee[0],de[me+1]=Ee[1],de[me+2]=Ee[2],de[me+3]=255}for(const de of this._figures)V(qe,de,Le);return De.putImageData(qe,2,2),{canvas:je.canvas,offsetX:fe-2*Pe,offsetY:be-2*Se,scaleX:Pe,scaleY:Se}}getPattern(ue,Ee,ge,le){B(ue,this._bbox);let ve;if(le===O.SHADING)ve=A.Util.singularValueDecompose2dScale((0,$.getCurrentTransform)(ue));else if(ve=A.Util.singularValueDecompose2dScale(Ee.baseTransform),this.matrix){const fe=A.Util.singularValueDecompose2dScale(this.matrix);ve=[ve[0]*fe[0],ve[1]*fe[1]]}const he=this._createMeshCanvas(ve,le===O.SHADING?null:this._background,Ee.cachedCanvases);return le!==O.SHADING&&(ue.setTransform(...Ee.baseTransform),this.matrix&&ue.transform(...this.matrix)),ue.translate(he.offsetX,he.offsetY),ue.scale(he.scaleX,he.scaleY),ue.createPattern(he.canvas,"no-repeat")}}class Y extends q{getPattern(){return"hotpink"}}function re(ce){switch(ce[0]){case"RadialAxial":return new H(ce);case"Mesh":return new K(ce);case"Dummy":return new Y}throw new Error(`Unknown IR type: ${ce[0]}`)}const Q={COLORED:1,UNCOLORED:2},J=class J{constructor(ue,Ee,ge,le,ve){this.operatorList=ue[2],this.matrix=ue[3]||[1,0,0,1,0,0],this.bbox=ue[4],this.xstep=ue[5],this.ystep=ue[6],this.paintType=ue[7],this.tilingType=ue[8],this.color=Ee,this.ctx=ge,this.canvasGraphicsFactory=le,this.baseTransform=ve}createPatternCanvas(ue){const Ee=this.operatorList,ge=this.bbox,le=this.xstep,ve=this.ystep,he=this.paintType,fe=this.tilingType,be=this.color,Ae=this.canvasGraphicsFactory;(0,A.info)("TilingType: "+fe);const xe=ge[0],we=ge[1],Me=ge[2],Pe=ge[3],Se=A.Util.singularValueDecompose2dScale(this.matrix),Le=A.Util.singularValueDecompose2dScale(this.baseTransform),$e=[Se[0]*Le[0],Se[1]*Le[1]],He=this.getSizeAndScale(le,this.ctx.canvas.width,$e[0]),je=this.getSizeAndScale(ve,this.ctx.canvas.height,$e[1]),De=ue.cachedCanvases.getCanvas("pattern",He.size,je.size,!0),qe=De.context,Ce=Ae.createCanvasGraphics(qe);Ce.groupLevel=ue.groupLevel,this.setFillAndStrokeStyleToContext(Ce,he,be);let de=xe,me=we,ye=Me,Ne=Pe;return xe<0&&(de=0,ye+=Math.abs(xe)),we<0&&(me=0,Ne+=Math.abs(we)),qe.translate(-(He.scale*de),-(je.scale*me)),Ce.transform(He.scale,0,0,je.scale,0,0),qe.save(),this.clipBbox(Ce,de,me,ye,Ne),Ce.baseTransform=(0,$.getCurrentTransform)(Ce.ctx),Ce.executeOperatorList(Ee),Ce.endDrawing(),{canvas:De.canvas,scaleX:He.scale,scaleY:je.scale,offsetX:de,offsetY:me}}getSizeAndScale(ue,Ee,ge){ue=Math.abs(ue);const le=Math.max(J.MAX_PATTERN_SIZE,Ee);let ve=Math.ceil(ue*ge);return ve>=le?ve=le:ge=ve/ue,{scale:ge,size:ve}}clipBbox(ue,Ee,ge,le,ve){const he=le-Ee,fe=ve-ge;ue.ctx.rect(Ee,ge,he,fe),ue.current.updateRectMinMax((0,$.getCurrentTransform)(ue.ctx),[Ee,ge,le,ve]),ue.clip(),ue.endPath()}setFillAndStrokeStyleToContext(ue,Ee,ge){const le=ue.ctx,ve=ue.current;switch(Ee){case Q.COLORED:const he=this.ctx;le.fillStyle=he.fillStyle,le.strokeStyle=he.strokeStyle,ve.fillColor=he.fillStyle,ve.strokeColor=he.strokeStyle;break;case Q.UNCOLORED:const fe=A.Util.makeHexColor(ge[0],ge[1],ge[2]);le.fillStyle=fe,le.strokeStyle=fe,ve.fillColor=fe,ve.strokeColor=fe;break;default:throw new A.FormatError(`Unsupported paint type: ${Ee}`)}}getPattern(ue,Ee,ge,le){let ve=ge;le!==O.SHADING&&(ve=A.Util.transform(ve,Ee.baseTransform),this.matrix&&(ve=A.Util.transform(ve,this.matrix)));const he=this.createPatternCanvas(Ee);let fe=new DOMMatrix(ve);fe=fe.translate(he.offsetX,he.offsetY),fe=fe.scale(1/he.scaleX,1/he.scaleY);const be=ue.createPattern(he.canvas,"repeat");return be.setTransform(fe),be}};on(J,"MAX_PATTERN_SIZE",3e3);let ie=J;w.TilingPattern=ie},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.convertBlackAndWhiteToRGBA=O,w.convertToRGBA=$,w.grayToRGBA=q;var A=_(1);function $(H){switch(H.kind){case A.ImageKind.GRAYSCALE_1BPP:return O(H);case A.ImageKind.RGB_24BPP:return B(H)}return null}function O({src:H,srcPos:W=0,dest:V,width:K,height:Y,nonBlackColor:re=4294967295,inverseDecode:Q=!1}){const ie=A.FeatureTest.isLittleEndian?4278190080:255,[J,ce]=Q?[re,ie]:[ie,re],ue=K>>3,Ee=K&7,ge=H.length;V=new Uint32Array(V.buffer);let le=0;for(let ve=0;ve<Y;ve++){for(const fe=W+ue;W<fe;W++){const be=W<ge?H[W]:255;V[le++]=be&128?ce:J,V[le++]=be&64?ce:J,V[le++]=be&32?ce:J,V[le++]=be&16?ce:J,V[le++]=be&8?ce:J,V[le++]=be&4?ce:J,V[le++]=be&2?ce:J,V[le++]=be&1?ce:J}if(Ee===0)continue;const he=W<ge?H[W++]:255;for(let fe=0;fe<Ee;fe++)V[le++]=he&1<<7-fe?ce:J}return{srcPos:W,destPos:le}}function B({src:H,srcPos:W=0,dest:V,destPos:K=0,width:Y,height:re}){let Q=0;const ie=H.length>>2,J=new Uint32Array(H.buffer,W,ie);if(A.FeatureTest.isLittleEndian){for(;Q<ie-2;Q+=3,K+=4){const ce=J[Q],ue=J[Q+1],Ee=J[Q+2];V[K]=ce|4278190080,V[K+1]=ce>>>24|ue<<8|4278190080,V[K+2]=ue>>>16|Ee<<16|4278190080,V[K+3]=Ee>>>8|4278190080}for(let ce=Q*4,ue=H.length;ce<ue;ce+=3)V[K++]=H[ce]|H[ce+1]<<8|H[ce+2]<<16|4278190080}else{for(;Q<ie-2;Q+=3,K+=4){const ce=J[Q],ue=J[Q+1],Ee=J[Q+2];V[K]=ce|255,V[K+1]=ce<<24|ue>>>8|255,V[K+2]=ue<<16|Ee>>>16|255,V[K+3]=Ee<<8|255}for(let ce=Q*4,ue=H.length;ce<ue;ce+=3)V[K++]=H[ce]<<24|H[ce+1]<<16|H[ce+2]<<8|255}return{srcPos:W,destPos:K}}function q(H,W){if(A.FeatureTest.isLittleEndian)for(let V=0,K=H.length;V<K;V++)W[V]=H[V]*65793|4278190080;else for(let V=0,K=H.length;V<K;V++)W[V]=H[V]*16843008|255}},(R,w)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.GlobalWorkerOptions=void 0;const _=Object.create(null);w.GlobalWorkerOptions=_,_.workerPort=null,_.workerSrc=""},(R,w,_)=>{var H,vo,bo,Ei;Object.defineProperty(w,"__esModule",{value:!0}),w.MessageHandler=void 0;var A=_(1);const $={UNKNOWN:0,DATA:1,ERROR:2},O={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function B(Y){switch(Y instanceof Error||typeof Y=="object"&&Y!==null||(0,A.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Y.name){case"AbortException":return new A.AbortException(Y.message);case"MissingPDFException":return new A.MissingPDFException(Y.message);case"PasswordException":return new A.PasswordException(Y.message,Y.code);case"UnexpectedResponseException":return new A.UnexpectedResponseException(Y.message,Y.status);case"UnknownErrorException":return new A.UnknownErrorException(Y.message,Y.details);default:return new A.UnknownErrorException(Y.message,Y.toString())}}class q{constructor(re,Q,ie){Ye(this,H);this.sourceName=re,this.targetName=Q,this.comObj=ie,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=J=>{const ce=J.data;if(ce.targetName!==this.sourceName)return;if(ce.stream){Ve(this,H,bo).call(this,ce);return}if(ce.callback){const Ee=ce.callbackId,ge=this.callbackCapabilities[Ee];if(!ge)throw new Error(`Cannot resolve callback ${Ee}`);if(delete this.callbackCapabilities[Ee],ce.callback===$.DATA)ge.resolve(ce.data);else if(ce.callback===$.ERROR)ge.reject(B(ce.reason));else throw new Error("Unexpected callback case");return}const ue=this.actionHandler[ce.action];if(!ue)throw new Error(`Unknown action from worker: ${ce.action}`);if(ce.callbackId){const Ee=this.sourceName,ge=ce.sourceName;new Promise(function(le){le(ue(ce.data))}).then(function(le){ie.postMessage({sourceName:Ee,targetName:ge,callback:$.DATA,callbackId:ce.callbackId,data:le})},function(le){ie.postMessage({sourceName:Ee,targetName:ge,callback:$.ERROR,callbackId:ce.callbackId,reason:B(le)})});return}if(ce.streamId){Ve(this,H,vo).call(this,ce);return}ue(ce.data)},ie.addEventListener("message",this._onComObjOnMessage)}on(re,Q){const ie=this.actionHandler;if(ie[re])throw new Error(`There is already an actionName called "${re}"`);ie[re]=Q}send(re,Q,ie){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:re,data:Q},ie)}sendWithPromise(re,Q,ie){const J=this.callbackId++,ce=new A.PromiseCapability;this.callbackCapabilities[J]=ce;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:re,callbackId:J,data:Q},ie)}catch(ue){ce.reject(ue)}return ce.promise}sendWithStream(re,Q,ie,J){const ce=this.streamId++,ue=this.sourceName,Ee=this.targetName,ge=this.comObj;return new ReadableStream({start:le=>{const ve=new A.PromiseCapability;return this.streamControllers[ce]={controller:le,startCall:ve,pullCall:null,cancelCall:null,isClosed:!1},ge.postMessage({sourceName:ue,targetName:Ee,action:re,streamId:ce,data:Q,desiredSize:le.desiredSize},J),ve.promise},pull:le=>{const ve=new A.PromiseCapability;return this.streamControllers[ce].pullCall=ve,ge.postMessage({sourceName:ue,targetName:Ee,stream:O.PULL,streamId:ce,desiredSize:le.desiredSize}),ve.promise},cancel:le=>{(0,A.assert)(le instanceof Error,"cancel must have a valid reason");const ve=new A.PromiseCapability;return this.streamControllers[ce].cancelCall=ve,this.streamControllers[ce].isClosed=!0,ge.postMessage({sourceName:ue,targetName:Ee,stream:O.CANCEL,streamId:ce,reason:B(le)}),ve.promise}},ie)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}H=new WeakSet,vo=function(re){const Q=re.streamId,ie=this.sourceName,J=re.sourceName,ce=this.comObj,ue=this,Ee=this.actionHandler[re.action],ge={enqueue(le,ve=1,he){if(this.isCancelled)return;const fe=this.desiredSize;this.desiredSize-=ve,fe>0&&this.desiredSize<=0&&(this.sinkCapability=new A.PromiseCapability,this.ready=this.sinkCapability.promise),ce.postMessage({sourceName:ie,targetName:J,stream:O.ENQUEUE,streamId:Q,chunk:le},he)},close(){this.isCancelled||(this.isCancelled=!0,ce.postMessage({sourceName:ie,targetName:J,stream:O.CLOSE,streamId:Q}),delete ue.streamSinks[Q])},error(le){(0,A.assert)(le instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ce.postMessage({sourceName:ie,targetName:J,stream:O.ERROR,streamId:Q,reason:B(le)}))},sinkCapability:new A.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:re.desiredSize,ready:null};ge.sinkCapability.resolve(),ge.ready=ge.sinkCapability.promise,this.streamSinks[Q]=ge,new Promise(function(le){le(Ee(re.data,ge))}).then(function(){ce.postMessage({sourceName:ie,targetName:J,stream:O.START_COMPLETE,streamId:Q,success:!0})},function(le){ce.postMessage({sourceName:ie,targetName:J,stream:O.START_COMPLETE,streamId:Q,reason:B(le)})})},bo=function(re){const Q=re.streamId,ie=this.sourceName,J=re.sourceName,ce=this.comObj,ue=this.streamControllers[Q],Ee=this.streamSinks[Q];switch(re.stream){case O.START_COMPLETE:re.success?ue.startCall.resolve():ue.startCall.reject(B(re.reason));break;case O.PULL_COMPLETE:re.success?ue.pullCall.resolve():ue.pullCall.reject(B(re.reason));break;case O.PULL:if(!Ee){ce.postMessage({sourceName:ie,targetName:J,stream:O.PULL_COMPLETE,streamId:Q,success:!0});break}Ee.desiredSize<=0&&re.desiredSize>0&&Ee.sinkCapability.resolve(),Ee.desiredSize=re.desiredSize,new Promise(function(ge){var le;ge((le=Ee.onPull)==null?void 0:le.call(Ee))}).then(function(){ce.postMessage({sourceName:ie,targetName:J,stream:O.PULL_COMPLETE,streamId:Q,success:!0})},function(ge){ce.postMessage({sourceName:ie,targetName:J,stream:O.PULL_COMPLETE,streamId:Q,reason:B(ge)})});break;case O.ENQUEUE:if((0,A.assert)(ue,"enqueue should have stream controller"),ue.isClosed)break;ue.controller.enqueue(re.chunk);break;case O.CLOSE:if((0,A.assert)(ue,"close should have stream controller"),ue.isClosed)break;ue.isClosed=!0,ue.controller.close(),Ve(this,H,Ei).call(this,ue,Q);break;case O.ERROR:(0,A.assert)(ue,"error should have stream controller"),ue.controller.error(B(re.reason)),Ve(this,H,Ei).call(this,ue,Q);break;case O.CANCEL_COMPLETE:re.success?ue.cancelCall.resolve():ue.cancelCall.reject(B(re.reason)),Ve(this,H,Ei).call(this,ue,Q);break;case O.CANCEL:if(!Ee)break;new Promise(function(ge){var le;ge((le=Ee.onCancel)==null?void 0:le.call(Ee,B(re.reason)))}).then(function(){ce.postMessage({sourceName:ie,targetName:J,stream:O.CANCEL_COMPLETE,streamId:Q,success:!0})},function(ge){ce.postMessage({sourceName:ie,targetName:J,stream:O.CANCEL_COMPLETE,streamId:Q,reason:B(ge)})}),Ee.sinkCapability.reject(B(re.reason)),Ee.isCancelled=!0,delete this.streamSinks[Q];break;default:throw new Error("Unexpected stream case")}},Ei=async function(re,Q){var ie,J,ce;await Promise.allSettled([(ie=re.startCall)==null?void 0:ie.promise,(J=re.pullCall)==null?void 0:J.promise,(ce=re.cancelCall)==null?void 0:ce.promise]),delete this.streamControllers[Q]},w.MessageHandler=q},(R,w,_)=>{var O,B;Object.defineProperty(w,"__esModule",{value:!0}),w.Metadata=void 0;var A=_(1);class ${constructor({parsedData:H,rawData:W}){Ye(this,O);Ye(this,B);Ge(this,O,H),Ge(this,B,W)}getRaw(){return G(this,B)}get(H){return G(this,O).get(H)??null}getAll(){return(0,A.objectFromMap)(G(this,O))}has(H){return G(this,O).has(H)}}O=new WeakMap,B=new WeakMap,w.Metadata=$},(R,w,_)=>{var H,W,V,K,Y,re,pa;Object.defineProperty(w,"__esModule",{value:!0}),w.OptionalContentConfig=void 0;var A=_(1),$=_(8);const O=Symbol("INTERNAL");class B{constructor(J,ce){Ye(this,H,!0);this.name=J,this.intent=ce}get visible(){return G(this,H)}_setVisible(J,ce){J!==O&&(0,A.unreachable)("Internal method `_setVisible` called."),Ge(this,H,ce)}}H=new WeakMap;class q{constructor(J){Ye(this,re);Ye(this,W,null);Ye(this,V,new Map);Ye(this,K,null);Ye(this,Y,null);if(this.name=null,this.creator=null,J!==null){this.name=J.name,this.creator=J.creator,Ge(this,Y,J.order);for(const ce of J.groups)G(this,V).set(ce.id,new B(ce.name,ce.intent));if(J.baseState==="OFF")for(const ce of G(this,V).values())ce._setVisible(O,!1);for(const ce of J.on)G(this,V).get(ce)._setVisible(O,!0);for(const ce of J.off)G(this,V).get(ce)._setVisible(O,!1);Ge(this,K,this.getHash())}}isVisible(J){if(G(this,V).size===0)return!0;if(!J)return(0,A.warn)("Optional content group not defined."),!0;if(J.type==="OCG")return G(this,V).has(J.id)?G(this,V).get(J.id).visible:((0,A.warn)(`Optional content group not found: ${J.id}`),!0);if(J.type==="OCMD"){if(J.expression)return Ve(this,re,pa).call(this,J.expression);if(!J.policy||J.policy==="AnyOn"){for(const ce of J.ids){if(!G(this,V).has(ce))return(0,A.warn)(`Optional content group not found: ${ce}`),!0;if(G(this,V).get(ce).visible)return!0}return!1}else if(J.policy==="AllOn"){for(const ce of J.ids){if(!G(this,V).has(ce))return(0,A.warn)(`Optional content group not found: ${ce}`),!0;if(!G(this,V).get(ce).visible)return!1}return!0}else if(J.policy==="AnyOff"){for(const ce of J.ids){if(!G(this,V).has(ce))return(0,A.warn)(`Optional content group not found: ${ce}`),!0;if(!G(this,V).get(ce).visible)return!0}return!1}else if(J.policy==="AllOff"){for(const ce of J.ids){if(!G(this,V).has(ce))return(0,A.warn)(`Optional content group not found: ${ce}`),!0;if(G(this,V).get(ce).visible)return!1}return!0}return(0,A.warn)(`Unknown optional content policy ${J.policy}.`),!0}return(0,A.warn)(`Unknown group type ${J.type}.`),!0}setVisibility(J,ce=!0){if(!G(this,V).has(J)){(0,A.warn)(`Optional content group not found: ${J}`);return}G(this,V).get(J)._setVisible(O,!!ce),Ge(this,W,null)}get hasInitialVisibility(){return G(this,K)===null||this.getHash()===G(this,K)}getOrder(){return G(this,V).size?G(this,Y)?G(this,Y).slice():[...G(this,V).keys()]:null}getGroups(){return G(this,V).size>0?(0,A.objectFromMap)(G(this,V)):null}getGroup(J){return G(this,V).get(J)||null}getHash(){if(G(this,W)!==null)return G(this,W);const J=new $.MurmurHash3_64;for(const[ce,ue]of G(this,V))J.update(`${ce}:${ue.visible}`);return Ge(this,W,J.hexdigest())}}W=new WeakMap,V=new WeakMap,K=new WeakMap,Y=new WeakMap,re=new WeakSet,pa=function(J){const ce=J.length;if(ce<2)return!0;const ue=J[0];for(let Ee=1;Ee<ce;Ee++){const ge=J[Ee];let le;if(Array.isArray(ge))le=Ve(this,re,pa).call(this,ge);else if(G(this,V).has(ge))le=G(this,V).get(ge).visible;else return(0,A.warn)(`Optional content group not found: ${ge}`),!0;switch(ue){case"And":if(!le)return!1;break;case"Or":if(le)return!0;break;case"Not":return!le;default:return!0}}return ue==="And"},w.OptionalContentConfig=q},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.PDFDataTransportStream=void 0;var A=_(1),$=_(6);class O{constructor({length:W,initialData:V,progressiveDone:K=!1,contentDispositionFilename:Y=null,disableRange:re=!1,disableStream:Q=!1},ie){if((0,A.assert)(ie,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=K,this._contentDispositionFilename=Y,(V==null?void 0:V.length)>0){const J=V instanceof Uint8Array&&V.byteLength===V.buffer.byteLength?V.buffer:new Uint8Array(V).buffer;this._queuedChunks.push(J)}this._pdfDataRangeTransport=ie,this._isStreamingSupported=!Q,this._isRangeSupported=!re,this._contentLength=W,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((J,ce)=>{this._onReceiveData({begin:J,chunk:ce})}),this._pdfDataRangeTransport.addProgressListener((J,ce)=>{this._onProgress({loaded:J,total:ce})}),this._pdfDataRangeTransport.addProgressiveReadListener(J=>{this._onReceiveData({chunk:J})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:W,chunk:V}){const K=V instanceof Uint8Array&&V.byteLength===V.buffer.byteLength?V.buffer:new Uint8Array(V).buffer;if(W===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(K):this._queuedChunks.push(K);else{const Y=this._rangeReaders.some(function(re){return re._begin!==W?!1:(re._enqueue(K),!0)});(0,A.assert)(Y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var W;return((W=this._fullRequestReader)==null?void 0:W._loaded)??0}_onProgress(W){var V,K,Y,re;W.total===void 0?(K=(V=this._rangeReaders[0])==null?void 0:V.onProgress)==null||K.call(V,{loaded:W.loaded}):(re=(Y=this._fullRequestReader)==null?void 0:Y.onProgress)==null||re.call(Y,{loaded:W.loaded,total:W.total})}_onProgressiveDone(){var W;(W=this._fullRequestReader)==null||W.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(W){const V=this._rangeReaders.indexOf(W);V>=0&&this._rangeReaders.splice(V,1)}getFullReader(){(0,A.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const W=this._queuedChunks;return this._queuedChunks=null,new B(this,W,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(W,V){if(V<=this._progressiveDataLength)return null;const K=new q(this,W,V);return this._pdfDataRangeTransport.requestDataRange(W,V),this._rangeReaders.push(K),K}cancelAllRequests(W){var V;(V=this._fullRequestReader)==null||V.cancel(W);for(const K of this._rangeReaders.slice(0))K.cancel(W);this._pdfDataRangeTransport.abort()}}w.PDFDataTransportStream=O;class B{constructor(W,V,K=!1,Y=null){this._stream=W,this._done=K||!1,this._filename=(0,$.isPdfFile)(Y)?Y:null,this._queuedChunks=V||[],this._loaded=0;for(const re of this._queuedChunks)this._loaded+=re.byteLength;this._requests=[],this._headersReady=Promise.resolve(),W._fullRequestReader=this,this.onProgress=null}_enqueue(W){this._done||(this._requests.length>0?this._requests.shift().resolve({value:W,done:!1}):this._queuedChunks.push(W),this._loaded+=W.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const W=new A.PromiseCapability;return this._requests.push(W),W.promise}cancel(W){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class q{constructor(W,V,K){this._stream=W,this._begin=V,this._end=K,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(W){if(!this._done){if(this._requests.length===0)this._queuedChunk=W;else{this._requests.shift().resolve({value:W,done:!1});for(const K of this._requests)K.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const V=this._queuedChunk;return this._queuedChunk=null,{value:V,done:!1}}if(this._done)return{value:void 0,done:!0};const W=new A.PromiseCapability;return this._requests.push(W),W.promise}cancel(W){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.PDFFetchStream=void 0;var A=_(1),$=_(20);function O(K,Y,re){return{method:"GET",headers:K,signal:re.signal,mode:"cors",credentials:Y?"include":"same-origin",redirect:"follow"}}function B(K){const Y=new Headers;for(const re in K){const Q=K[re];Q!==void 0&&Y.append(re,Q)}return Y}function q(K){return K instanceof Uint8Array?K.buffer:K instanceof ArrayBuffer?K:((0,A.warn)(`getArrayBuffer - unexpected data format: ${K}`),new Uint8Array(K).buffer)}class H{constructor(Y){this.source=Y,this.isHttp=/^https?:/i.test(Y.url),this.httpHeaders=this.isHttp&&Y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Y;return((Y=this._fullRequestReader)==null?void 0:Y._loaded)??0}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new W(this),this._fullRequestReader}getRangeReader(Y,re){if(re<=this._progressiveDataLength)return null;const Q=new V(this,Y,re);return this._rangeRequestReaders.push(Q),Q}cancelAllRequests(Y){var re;(re=this._fullRequestReader)==null||re.cancel(Y);for(const Q of this._rangeRequestReaders.slice(0))Q.cancel(Y)}}w.PDFFetchStream=H;class W{constructor(Y){this._stream=Y,this._reader=null,this._loaded=0,this._filename=null;const re=Y.source;this._withCredentials=re.withCredentials||!1,this._contentLength=re.length,this._headersCapability=new A.PromiseCapability,this._disableRange=re.disableRange||!1,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!re.disableStream,this._isRangeSupported=!re.disableRange,this._headers=B(this._stream.httpHeaders);const Q=re.url;fetch(Q,O(this._headers,this._withCredentials,this._abortController)).then(ie=>{if(!(0,$.validateResponseStatus)(ie.status))throw(0,$.createResponseStatusError)(ie.status,Q);this._reader=ie.body.getReader(),this._headersCapability.resolve();const J=Ee=>ie.headers.get(Ee),{allowRangeRequests:ce,suggestedLength:ue}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:J,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ce,this._contentLength=ue||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(J),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new A.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Q;await this._headersCapability.promise;const{value:Y,done:re}=await this._reader.read();return re?{value:Y,done:re}:(this._loaded+=Y.byteLength,(Q=this.onProgress)==null||Q.call(this,{loaded:this._loaded,total:this._contentLength}),{value:q(Y),done:!1})}cancel(Y){var re;(re=this._reader)==null||re.cancel(Y),this._abortController.abort()}}class V{constructor(Y,re,Q){this._stream=Y,this._reader=null,this._loaded=0;const ie=Y.source;this._withCredentials=ie.withCredentials||!1,this._readCapability=new A.PromiseCapability,this._isStreamingSupported=!ie.disableStream,this._abortController=new AbortController,this._headers=B(this._stream.httpHeaders),this._headers.append("Range",`bytes=${re}-${Q-1}`);const J=ie.url;fetch(J,O(this._headers,this._withCredentials,this._abortController)).then(ce=>{if(!(0,$.validateResponseStatus)(ce.status))throw(0,$.createResponseStatusError)(ce.status,J);this._readCapability.resolve(),this._reader=ce.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Q;await this._readCapability.promise;const{value:Y,done:re}=await this._reader.read();return re?{value:Y,done:re}:(this._loaded+=Y.byteLength,(Q=this.onProgress)==null||Q.call(this,{loaded:this._loaded}),{value:q(Y),done:!1})}cancel(Y){var re;(re=this._reader)==null||re.cancel(Y),this._abortController.abort()}}},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.createResponseStatusError=H,w.extractFilenameFromHeader=q,w.validateRangeRequestCapabilities=B,w.validateResponseStatus=W;var A=_(1),$=_(21),O=_(6);function B({getResponseHeader:V,isHttp:K,rangeChunkSize:Y,disableRange:re}){const Q={allowRangeRequests:!1,suggestedLength:void 0},ie=parseInt(V("Content-Length"),10);return!Number.isInteger(ie)||(Q.suggestedLength=ie,ie<=2*Y)||re||!K||V("Accept-Ranges")!=="bytes"||(V("Content-Encoding")||"identity")!=="identity"||(Q.allowRangeRequests=!0),Q}function q(V){const K=V("Content-Disposition");if(K){let Y=(0,$.getFilenameFromContentDispositionHeader)(K);if(Y.includes("%"))try{Y=decodeURIComponent(Y)}catch{}if((0,O.isPdfFile)(Y))return Y}return null}function H(V,K){return V===404||V===0&&K.startsWith("file:")?new A.MissingPDFException('Missing PDF "'+K+'".'):new A.UnexpectedResponseException(`Unexpected server response (${V}) while retrieving PDF "${K}".`,V)}function W(V){return V===200||V===206}},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.getFilenameFromContentDispositionHeader=$;var A=_(1);function $(O){let B=!0,q=H("filename\\*","i").exec(O);if(q){q=q[1];let ie=Y(q);return ie=unescape(ie),ie=re(ie),ie=Q(ie),V(ie)}if(q=K(O),q){const ie=Q(q);return V(ie)}if(q=H("filename","i").exec(O),q){q=q[1];let ie=Y(q);return ie=Q(ie),V(ie)}function H(ie,J){return new RegExp("(?:^|;)\\s*"+ie+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',J)}function W(ie,J){if(ie){if(!/^[\x00-\xFF]+$/.test(J))return J;try{const ce=new TextDecoder(ie,{fatal:!0}),ue=(0,A.stringToBytes)(J);J=ce.decode(ue),B=!1}catch{}}return J}function V(ie){return B&&/[\x80-\xff]/.test(ie)&&(ie=W("utf-8",ie),B&&(ie=W("iso-8859-1",ie))),ie}function K(ie){const J=[];let ce;const ue=H("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ce=ue.exec(ie))!==null;){let[,ge,le,ve]=ce;if(ge=parseInt(ge,10),ge in J){if(ge===0)break;continue}J[ge]=[le,ve]}const Ee=[];for(let ge=0;ge<J.length&&ge in J;++ge){let[le,ve]=J[ge];ve=Y(ve),le&&(ve=unescape(ve),ge===0&&(ve=re(ve))),Ee.push(ve)}return Ee.join("")}function Y(ie){if(ie.startsWith('"')){const J=ie.slice(1).split('\\"');for(let ce=0;ce<J.length;++ce){const ue=J[ce].indexOf('"');ue!==-1&&(J[ce]=J[ce].slice(0,ue),J.length=ce+1),J[ce]=J[ce].replaceAll(/\\(.)/g,"$1")}ie=J.join('"')}return ie}function re(ie){const J=ie.indexOf("'");if(J===-1)return ie;const ce=ie.slice(0,J),Ee=ie.slice(J+1).replace(/^[^']*'/,"");return W(ce,Ee)}function Q(ie){return!ie.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ie)?ie:ie.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(J,ce,ue,Ee){if(ue==="q"||ue==="Q")return Ee=Ee.replaceAll("_"," "),Ee=Ee.replaceAll(/=([0-9a-fA-F]{2})/g,function(ge,le){return String.fromCharCode(parseInt(le,16))}),W(ce,Ee);try{Ee=atob(Ee)}catch{}return W(ce,Ee)})}return""}},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.PDFNetworkStream=void 0;var A=_(1),$=_(20);const O=200,B=206;function q(Y){const re=Y.response;return typeof re!="string"?re:(0,A.stringToBytes)(re).buffer}class H{constructor(re,Q={}){this.url=re,this.isHttp=/^https?:/i.test(re),this.httpHeaders=this.isHttp&&Q.httpHeaders||Object.create(null),this.withCredentials=Q.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(re,Q,ie){const J={begin:re,end:Q};for(const ce in ie)J[ce]=ie[ce];return this.request(J)}requestFull(re){return this.request(re)}request(re){const Q=new XMLHttpRequest,ie=this.currXhrId++,J=this.pendingRequests[ie]={xhr:Q};Q.open("GET",this.url),Q.withCredentials=this.withCredentials;for(const ce in this.httpHeaders){const ue=this.httpHeaders[ce];ue!==void 0&&Q.setRequestHeader(ce,ue)}return this.isHttp&&"begin"in re&&"end"in re?(Q.setRequestHeader("Range",`bytes=${re.begin}-${re.end-1}`),J.expectedStatus=B):J.expectedStatus=O,Q.responseType="arraybuffer",re.onError&&(Q.onerror=function(ce){re.onError(Q.status)}),Q.onreadystatechange=this.onStateChange.bind(this,ie),Q.onprogress=this.onProgress.bind(this,ie),J.onHeadersReceived=re.onHeadersReceived,J.onDone=re.onDone,J.onError=re.onError,J.onProgress=re.onProgress,Q.send(null),ie}onProgress(re,Q){var J;const ie=this.pendingRequests[re];ie&&((J=ie.onProgress)==null||J.call(ie,Q))}onStateChange(re,Q){var ge,le,ve;const ie=this.pendingRequests[re];if(!ie)return;const J=ie.xhr;if(J.readyState>=2&&ie.onHeadersReceived&&(ie.onHeadersReceived(),delete ie.onHeadersReceived),J.readyState!==4||!(re in this.pendingRequests))return;if(delete this.pendingRequests[re],J.status===0&&this.isHttp){(ge=ie.onError)==null||ge.call(ie,J.status);return}const ce=J.status||O;if(!(ce===O&&ie.expectedStatus===B)&&ce!==ie.expectedStatus){(le=ie.onError)==null||le.call(ie,J.status);return}const Ee=q(J);if(ce===B){const he=J.getResponseHeader("Content-Range"),fe=/bytes (\d+)-(\d+)\/(\d+)/.exec(he);ie.onDone({begin:parseInt(fe[1],10),chunk:Ee})}else Ee?ie.onDone({begin:0,chunk:Ee}):(ve=ie.onError)==null||ve.call(ie,J.status)}getRequestXhr(re){return this.pendingRequests[re].xhr}isPendingRequest(re){return re in this.pendingRequests}abortRequest(re){const Q=this.pendingRequests[re].xhr;delete this.pendingRequests[re],Q.abort()}}class W{constructor(re){this._source=re,this._manager=new H(re.url,{httpHeaders:re.httpHeaders,withCredentials:re.withCredentials}),this._rangeChunkSize=re.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(re){const Q=this._rangeRequestReaders.indexOf(re);Q>=0&&this._rangeRequestReaders.splice(Q,1)}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V(this._manager,this._source),this._fullRequestReader}getRangeReader(re,Q){const ie=new K(this._manager,re,Q);return ie.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ie),ie}cancelAllRequests(re){var Q;(Q=this._fullRequestReader)==null||Q.cancel(re);for(const ie of this._rangeRequestReaders.slice(0))ie.cancel(re)}}w.PDFNetworkStream=W;class V{constructor(re,Q){this._manager=re;const ie={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Q.url,this._fullRequestId=re.requestFull(ie),this._headersReceivedCapability=new A.PromiseCapability,this._disableRange=Q.disableRange||!1,this._contentLength=Q.length,this._rangeChunkSize=Q.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const re=this._fullRequestId,Q=this._manager.getRequestXhr(re),ie=ue=>Q.getResponseHeader(ue),{allowRangeRequests:J,suggestedLength:ce}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:ie,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});J&&(this._isRangeSupported=!0),this._contentLength=ce||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(ie),this._isRangeSupported&&this._manager.abortRequest(re),this._headersReceivedCapability.resolve()}_onDone(re){if(re&&(this._requests.length>0?this._requests.shift().resolve({value:re.chunk,done:!1}):this._cachedChunks.push(re.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(re){this._storedError=(0,$.createResponseStatusError)(re,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Q of this._requests)Q.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(re){var Q;(Q=this.onProgress)==null||Q.call(this,{loaded:re.loaded,total:re.lengthComputable?re.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const re=new A.PromiseCapability;return this._requests.push(re),re.promise}cancel(re){this._done=!0,this._headersReceivedCapability.reject(re);for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class K{constructor(re,Q,ie){this._manager=re;const J={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._requestId=re.requestRange(Q,ie,J),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var re;(re=this.onClosed)==null||re.call(this,this)}_onDone(re){const Q=re.chunk;this._requests.length>0?this._requests.shift().resolve({value:Q,done:!1}):this._queuedChunk=Q,this._done=!0;for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(re){this._storedError=(0,$.createResponseStatusError)(re,this._url);for(const Q of this._requests)Q.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(re){var Q;this.isStreamingSupported||(Q=this.onProgress)==null||Q.call(this,{loaded:re.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Q=this._queuedChunk;return this._queuedChunk=null,{value:Q,done:!1}}if(this._done)return{value:void 0,done:!0};const re=new A.PromiseCapability;return this._requests.push(re),re.promise}cancel(re){this._done=!0;for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.PDFNodeStream=void 0;var A=_(1),$=_(20);const O=/^file:\/\/\/[a-zA-Z]:\//;function B(ie){const J=require$$5,ce=J.parse(ie);return ce.protocol==="file:"||ce.host?ce:/^[a-z]:[/\\]/i.test(ie)?J.parse(`file:///${ie}`):(ce.host||(ce.protocol="file:"),ce)}class q{constructor(J){this.source=J,this.url=B(J.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&J.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var J;return((J=this._fullRequestReader)==null?void 0:J._loaded)??0}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new re(this):new K(this),this._fullRequestReader}getRangeReader(J,ce){if(ce<=this._progressiveDataLength)return null;const ue=this.isFsUrl?new Q(this,J,ce):new Y(this,J,ce);return this._rangeRequestReaders.push(ue),ue}cancelAllRequests(J){var ce;(ce=this._fullRequestReader)==null||ce.cancel(J);for(const ue of this._rangeRequestReaders.slice(0))ue.cancel(J)}}w.PDFNodeStream=q;class H{constructor(J){this._url=J.url,this._done=!1,this._storedError=null,this.onProgress=null;const ce=J.source;this._contentLength=ce.length,this._loaded=0,this._filename=null,this._disableRange=ce.disableRange||!1,this._rangeChunkSize=ce.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ce.disableStream,this._isRangeSupported=!ce.disableRange,this._readableStream=null,this._readCapability=new A.PromiseCapability,this._headersCapability=new A.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ue;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const J=this._readableStream.read();return J===null?(this._readCapability=new A.PromiseCapability,this.read()):(this._loaded+=J.length,(ue=this.onProgress)==null||ue.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(J).buffer,done:!1})}cancel(J){if(!this._readableStream){this._error(J);return}this._readableStream.destroy(J)}_error(J){this._storedError=J,this._readCapability.resolve()}_setReadableStream(J){this._readableStream=J,J.on("readable",()=>{this._readCapability.resolve()}),J.on("end",()=>{J.destroy(),this._done=!0,this._readCapability.resolve()}),J.on("error",ce=>{this._error(ce)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new A.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class W{constructor(J){this._url=J.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new A.PromiseCapability;const ce=J.source;this._isStreamingSupported=!ce.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ue;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const J=this._readableStream.read();return J===null?(this._readCapability=new A.PromiseCapability,this.read()):(this._loaded+=J.length,(ue=this.onProgress)==null||ue.call(this,{loaded:this._loaded}),{value:new Uint8Array(J).buffer,done:!1})}cancel(J){if(!this._readableStream){this._error(J);return}this._readableStream.destroy(J)}_error(J){this._storedError=J,this._readCapability.resolve()}_setReadableStream(J){this._readableStream=J,J.on("readable",()=>{this._readCapability.resolve()}),J.on("end",()=>{J.destroy(),this._done=!0,this._readCapability.resolve()}),J.on("error",ce=>{this._error(ce)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function V(ie,J){return{protocol:ie.protocol,auth:ie.auth,host:ie.hostname,port:ie.port,path:ie.path,method:"GET",headers:J}}class K extends H{constructor(J){super(J);const ce=ue=>{if(ue.statusCode===404){const ve=new A.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ve,this._headersCapability.reject(ve);return}this._headersCapability.resolve(),this._setReadableStream(ue);const Ee=ve=>this._readableStream.headers[ve.toLowerCase()],{allowRangeRequests:ge,suggestedLength:le}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:Ee,isHttp:J.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ge,this._contentLength=le||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(Ee)};if(this._request=null,this._url.protocol==="http:"){const ue=require$$5;this._request=ue.request(V(this._url,J.httpHeaders),ce)}else{const ue=require$$5;this._request=ue.request(V(this._url,J.httpHeaders),ce)}this._request.on("error",ue=>{this._storedError=ue,this._headersCapability.reject(ue)}),this._request.end()}}class Y extends W{constructor(J,ce,ue){super(J),this._httpHeaders={};for(const ge in J.httpHeaders){const le=J.httpHeaders[ge];le!==void 0&&(this._httpHeaders[ge]=le)}this._httpHeaders.Range=`bytes=${ce}-${ue-1}`;const Ee=ge=>{if(ge.statusCode===404){const le=new A.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=le;return}this._setReadableStream(ge)};if(this._request=null,this._url.protocol==="http:"){const ge=require$$5;this._request=ge.request(V(this._url,this._httpHeaders),Ee)}else{const ge=require$$5;this._request=ge.request(V(this._url,this._httpHeaders),Ee)}this._request.on("error",ge=>{this._storedError=ge}),this._request.end()}}class re extends H{constructor(J){super(J);let ce=decodeURIComponent(this._url.path);O.test(this._url.href)&&(ce=ce.replace(/^\//,""));const ue=require$$5;ue.lstat(ce,(Ee,ge)=>{if(Ee){Ee.code==="ENOENT"&&(Ee=new A.MissingPDFException(`Missing PDF "${ce}".`)),this._storedError=Ee,this._headersCapability.reject(Ee);return}this._contentLength=ge.size,this._setReadableStream(ue.createReadStream(ce)),this._headersCapability.resolve()})}}class Q extends W{constructor(J,ce,ue){super(J);let Ee=decodeURIComponent(this._url.path);O.test(this._url.href)&&(Ee=Ee.replace(/^\//,""));const ge=require$$5;this._setReadableStream(ge.createReadStream(Ee,{start:ce,end:ue-1}))}}},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.SVGGraphics=void 0;var A=_(6),$=_(1);const O={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},B="http://www.w3.org/XML/1998/namespace",q="http://www.w3.org/1999/xlink",H=["butt","round","square"],W=["miter","round","bevel"],V=function(ge,le="",ve=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ve)return URL.createObjectURL(new Blob([ge],{type:le}));const he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let fe=`data:${le};base64,`;for(let be=0,Ae=ge.length;be<Ae;be+=3){const xe=ge[be]&255,we=ge[be+1]&255,Me=ge[be+2]&255,Pe=xe>>2,Se=(xe&3)<<4|we>>4,Le=be+1<Ae?(we&15)<<2|Me>>6:64,$e=be+2<Ae?Me&63:64;fe+=he[Pe]+he[Se]+he[Le]+he[$e]}return fe},K=function(){const ge=new Uint8Array([137,80,78,71,13,10,26,10]),le=12,ve=new Int32Array(256);for(let Me=0;Me<256;Me++){let Pe=Me;for(let Se=0;Se<8;Se++)Pe=Pe&1?3988292384^Pe>>1&2147483647:Pe>>1&2147483647;ve[Me]=Pe}function he(Me,Pe,Se){let Le=-1;for(let $e=Pe;$e<Se;$e++){const He=(Le^Me[$e])&255,je=ve[He];Le=Le>>>8^je}return Le^-1}function fe(Me,Pe,Se,Le){let $e=Le;const He=Pe.length;Se[$e]=He>>24&255,Se[$e+1]=He>>16&255,Se[$e+2]=He>>8&255,Se[$e+3]=He&255,$e+=4,Se[$e]=Me.charCodeAt(0)&255,Se[$e+1]=Me.charCodeAt(1)&255,Se[$e+2]=Me.charCodeAt(2)&255,Se[$e+3]=Me.charCodeAt(3)&255,$e+=4,Se.set(Pe,$e),$e+=Pe.length;const je=he(Se,Le+4,$e);Se[$e]=je>>24&255,Se[$e+1]=je>>16&255,Se[$e+2]=je>>8&255,Se[$e+3]=je&255}function be(Me,Pe,Se){let Le=1,$e=0;for(let He=Pe;He<Se;++He)Le=(Le+(Me[He]&255))%65521,$e=($e+Le)%65521;return $e<<16|Le}function Ae(Me){if(!$.isNodeJS)return xe(Me);try{const Pe=parseInt(process.versions.node)>=8?Me:Buffer.from(Me),Se=require$$5.deflateSync(Pe,{level:9});return Se instanceof Uint8Array?Se:new Uint8Array(Se)}catch(Pe){(0,$.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Pe)}return xe(Me)}function xe(Me){let Pe=Me.length;const Se=65535,Le=Math.ceil(Pe/Se),$e=new Uint8Array(2+Pe+Le*5+4);let He=0;$e[He++]=120,$e[He++]=156;let je=0;for(;Pe>Se;)$e[He++]=0,$e[He++]=255,$e[He++]=255,$e[He++]=0,$e[He++]=0,$e.set(Me.subarray(je,je+Se),He),He+=Se,je+=Se,Pe-=Se;$e[He++]=1,$e[He++]=Pe&255,$e[He++]=Pe>>8&255,$e[He++]=~Pe&65535&255,$e[He++]=(~Pe&65535)>>8&255,$e.set(Me.subarray(je),He),He+=Me.length-je;const De=be(Me,0,Me.length);return $e[He++]=De>>24&255,$e[He++]=De>>16&255,$e[He++]=De>>8&255,$e[He++]=De&255,$e}function we(Me,Pe,Se,Le){const $e=Me.width,He=Me.height;let je,De,qe;const Ce=Me.data;switch(Pe){case $.ImageKind.GRAYSCALE_1BPP:De=0,je=1,qe=$e+7>>3;break;case $.ImageKind.RGB_24BPP:De=2,je=8,qe=$e*3;break;case $.ImageKind.RGBA_32BPP:De=6,je=8,qe=$e*4;break;default:throw new Error("invalid format")}const de=new Uint8Array((1+qe)*He);let me=0,ye=0;for(let gt=0;gt<He;++gt)de[me++]=0,de.set(Ce.subarray(ye,ye+qe),me),ye+=qe,me+=qe;if(Pe===$.ImageKind.GRAYSCALE_1BPP&&Le){me=0;for(let gt=0;gt<He;gt++){me++;for(let xt=0;xt<qe;xt++)de[me++]^=255}}const Ne=new Uint8Array([$e>>24&255,$e>>16&255,$e>>8&255,$e&255,He>>24&255,He>>16&255,He>>8&255,He&255,je,De,0,0,0]),Fe=Ae(de),Oe=ge.length+le*3+Ne.length+Fe.length,Xe=new Uint8Array(Oe);let rt=0;return Xe.set(ge,rt),rt+=ge.length,fe("IHDR",Ne,Xe,rt),rt+=le+Ne.length,fe("IDATA",Fe,Xe,rt),rt+=le+Fe.length,fe("IEND",new Uint8Array(0),Xe,rt),V(Xe,"image/png",Se)}return function(Pe,Se,Le){const $e=Pe.kind===void 0?$.ImageKind.GRAYSCALE_1BPP:Pe.kind;return we(Pe,$e,Se,Le)}}();class Y{constructor(){this.fontSizeScale=1,this.fontWeight=O.fontWeight,this.fontSize=0,this.textMatrix=$.IDENTITY_MATRIX,this.fontMatrix=$.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=$.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=O.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(le,ve){this.x=le,this.y=ve}}function re(ge){let le=[];const ve=[];for(const he of ge){if(he.fn==="save"){le.push({fnId:92,fn:"group",items:[]}),ve.push(le),le=le.at(-1).items;continue}he.fn==="restore"?le=ve.pop():le.push(he)}return le}function Q(ge){if(Number.isInteger(ge))return ge.toString();const le=ge.toFixed(10);let ve=le.length-1;if(le[ve]!=="0")return le;do ve--;while(le[ve]==="0");return le.substring(0,le[ve]==="."?ve:ve+1)}function ie(ge){if(ge[4]===0&&ge[5]===0){if(ge[1]===0&&ge[2]===0)return ge[0]===1&&ge[3]===1?"":`scale(${Q(ge[0])} ${Q(ge[3])})`;if(ge[0]===ge[3]&&ge[1]===-ge[2]){const le=Math.acos(ge[0])*180/Math.PI;return`rotate(${Q(le)})`}}else if(ge[0]===1&&ge[1]===0&&ge[2]===0&&ge[3]===1)return`translate(${Q(ge[4])} ${Q(ge[5])})`;return`matrix(${Q(ge[0])} ${Q(ge[1])} ${Q(ge[2])} ${Q(ge[3])} ${Q(ge[4])} ${Q(ge[5])})`}let J=0,ce=0,ue=0;class Ee{constructor(le,ve,he=!1){(0,A.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new A.DOMSVGFactory,this.current=new Y,this.transformMatrix=$.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=le,this.objs=ve,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!he,this._operatorIdMapping=[];for(const fe in $.OPS)this._operatorIdMapping[$.OPS[fe]]=fe}getObject(le,ve=null){return typeof le=="string"?le.startsWith("g_")?this.commonObjs.get(le):this.objs.get(le):ve}save(){this.transformStack.push(this.transformMatrix);const le=this.current;this.extraStack.push(le),this.current=le.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(le){this.save(),this.executeOpTree(le),this.restore()}loadDependencies(le){const ve=le.fnArray,he=le.argsArray;for(let fe=0,be=ve.length;fe<be;fe++)if(ve[fe]===$.OPS.dependency)for(const Ae of he[fe]){const xe=Ae.startsWith("g_")?this.commonObjs:this.objs,we=new Promise(Me=>{xe.get(Ae,Me)});this.current.dependencies.push(we)}return Promise.all(this.current.dependencies)}transform(le,ve,he,fe,be,Ae){const xe=[le,ve,he,fe,be,Ae];this.transformMatrix=$.Util.transform(this.transformMatrix,xe),this.tgrp=null}getSVG(le,ve){this.viewport=ve;const he=this._initialize(ve);return this.loadDependencies(le).then(()=>(this.transformMatrix=$.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(le)),he))}convertOpList(le){const ve=this._operatorIdMapping,he=le.argsArray,fe=le.fnArray,be=[];for(let Ae=0,xe=fe.length;Ae<xe;Ae++){const we=fe[Ae];be.push({fnId:we,fn:ve[we],args:he[Ae]})}return re(be)}executeOpTree(le){for(const ve of le){const he=ve.fn,fe=ve.fnId,be=ve.args;switch(fe|0){case $.OPS.beginText:this.beginText();break;case $.OPS.dependency:break;case $.OPS.setLeading:this.setLeading(be);break;case $.OPS.setLeadingMoveText:this.setLeadingMoveText(be[0],be[1]);break;case $.OPS.setFont:this.setFont(be);break;case $.OPS.showText:this.showText(be[0]);break;case $.OPS.showSpacedText:this.showText(be[0]);break;case $.OPS.endText:this.endText();break;case $.OPS.moveText:this.moveText(be[0],be[1]);break;case $.OPS.setCharSpacing:this.setCharSpacing(be[0]);break;case $.OPS.setWordSpacing:this.setWordSpacing(be[0]);break;case $.OPS.setHScale:this.setHScale(be[0]);break;case $.OPS.setTextMatrix:this.setTextMatrix(be[0],be[1],be[2],be[3],be[4],be[5]);break;case $.OPS.setTextRise:this.setTextRise(be[0]);break;case $.OPS.setTextRenderingMode:this.setTextRenderingMode(be[0]);break;case $.OPS.setLineWidth:this.setLineWidth(be[0]);break;case $.OPS.setLineJoin:this.setLineJoin(be[0]);break;case $.OPS.setLineCap:this.setLineCap(be[0]);break;case $.OPS.setMiterLimit:this.setMiterLimit(be[0]);break;case $.OPS.setFillRGBColor:this.setFillRGBColor(be[0],be[1],be[2]);break;case $.OPS.setStrokeRGBColor:this.setStrokeRGBColor(be[0],be[1],be[2]);break;case $.OPS.setStrokeColorN:this.setStrokeColorN(be);break;case $.OPS.setFillColorN:this.setFillColorN(be);break;case $.OPS.shadingFill:this.shadingFill(be[0]);break;case $.OPS.setDash:this.setDash(be[0],be[1]);break;case $.OPS.setRenderingIntent:this.setRenderingIntent(be[0]);break;case $.OPS.setFlatness:this.setFlatness(be[0]);break;case $.OPS.setGState:this.setGState(be[0]);break;case $.OPS.fill:this.fill();break;case $.OPS.eoFill:this.eoFill();break;case $.OPS.stroke:this.stroke();break;case $.OPS.fillStroke:this.fillStroke();break;case $.OPS.eoFillStroke:this.eoFillStroke();break;case $.OPS.clip:this.clip("nonzero");break;case $.OPS.eoClip:this.clip("evenodd");break;case $.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case $.OPS.paintImageXObject:this.paintImageXObject(be[0]);break;case $.OPS.paintInlineImageXObject:this.paintInlineImageXObject(be[0]);break;case $.OPS.paintImageMaskXObject:this.paintImageMaskXObject(be[0]);break;case $.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(be[0],be[1]);break;case $.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case $.OPS.closePath:this.closePath();break;case $.OPS.closeStroke:this.closeStroke();break;case $.OPS.closeFillStroke:this.closeFillStroke();break;case $.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case $.OPS.nextLine:this.nextLine();break;case $.OPS.transform:this.transform(be[0],be[1],be[2],be[3],be[4],be[5]);break;case $.OPS.constructPath:this.constructPath(be[0],be[1]);break;case $.OPS.endPath:this.endPath();break;case 92:this.group(ve.items);break;default:(0,$.warn)(`Unimplemented operator ${he}`);break}}}setWordSpacing(le){this.current.wordSpacing=le}setCharSpacing(le){this.current.charSpacing=le}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(le,ve,he,fe,be,Ae){const xe=this.current;xe.textMatrix=xe.lineMatrix=[le,ve,he,fe,be,Ae],xe.textMatrixScale=Math.hypot(le,ve),xe.x=xe.lineX=0,xe.y=xe.lineY=0,xe.xcoords=[],xe.ycoords=[],xe.tspan=this.svgFactory.createElement("svg:tspan"),xe.tspan.setAttributeNS(null,"font-family",xe.fontFamily),xe.tspan.setAttributeNS(null,"font-size",`${Q(xe.fontSize)}px`),xe.tspan.setAttributeNS(null,"y",Q(-xe.y)),xe.txtElement=this.svgFactory.createElement("svg:text"),xe.txtElement.append(xe.tspan)}beginText(){const le=this.current;le.x=le.lineX=0,le.y=le.lineY=0,le.textMatrix=$.IDENTITY_MATRIX,le.lineMatrix=$.IDENTITY_MATRIX,le.textMatrixScale=1,le.tspan=this.svgFactory.createElement("svg:tspan"),le.txtElement=this.svgFactory.createElement("svg:text"),le.txtgrp=this.svgFactory.createElement("svg:g"),le.xcoords=[],le.ycoords=[]}moveText(le,ve){const he=this.current;he.x=he.lineX+=le,he.y=he.lineY+=ve,he.xcoords=[],he.ycoords=[],he.tspan=this.svgFactory.createElement("svg:tspan"),he.tspan.setAttributeNS(null,"font-family",he.fontFamily),he.tspan.setAttributeNS(null,"font-size",`${Q(he.fontSize)}px`),he.tspan.setAttributeNS(null,"y",Q(-he.y))}showText(le){const ve=this.current,he=ve.font,fe=ve.fontSize;if(fe===0)return;const be=ve.fontSizeScale,Ae=ve.charSpacing,xe=ve.wordSpacing,we=ve.fontDirection,Me=ve.textHScale*we,Pe=he.vertical,Se=Pe?1:-1,Le=he.defaultVMetrics,$e=fe*ve.fontMatrix[0];let He=0;for(const qe of le){if(qe===null){He+=we*xe;continue}else if(typeof qe=="number"){He+=Se*qe*fe/1e3;continue}const Ce=(qe.isSpace?xe:0)+Ae,de=qe.fontChar;let me,ye,Ne=qe.width;if(Pe){let Oe;const Xe=qe.vmetric||Le;Oe=qe.vmetric?Xe[1]:Ne*.5,Oe=-Oe*$e;const rt=Xe[2]*$e;Ne=Xe?-Xe[0]:Ne,me=Oe/be,ye=(He+rt)/be}else me=He/be,ye=0;(qe.isInFont||he.missingFile)&&(ve.xcoords.push(ve.x+me),Pe&&ve.ycoords.push(-ve.y+ye),ve.tspan.textContent+=de);const Fe=Pe?Ne*$e-Ce*we:Ne*$e+Ce*we;He+=Fe}ve.tspan.setAttributeNS(null,"x",ve.xcoords.map(Q).join(" ")),Pe?ve.tspan.setAttributeNS(null,"y",ve.ycoords.map(Q).join(" ")):ve.tspan.setAttributeNS(null,"y",Q(-ve.y)),Pe?ve.y-=He:ve.x+=He*Me,ve.tspan.setAttributeNS(null,"font-family",ve.fontFamily),ve.tspan.setAttributeNS(null,"font-size",`${Q(ve.fontSize)}px`),ve.fontStyle!==O.fontStyle&&ve.tspan.setAttributeNS(null,"font-style",ve.fontStyle),ve.fontWeight!==O.fontWeight&&ve.tspan.setAttributeNS(null,"font-weight",ve.fontWeight);const je=ve.textRenderingMode&$.TextRenderingMode.FILL_STROKE_MASK;if(je===$.TextRenderingMode.FILL||je===$.TextRenderingMode.FILL_STROKE?(ve.fillColor!==O.fillColor&&ve.tspan.setAttributeNS(null,"fill",ve.fillColor),ve.fillAlpha<1&&ve.tspan.setAttributeNS(null,"fill-opacity",ve.fillAlpha)):ve.textRenderingMode===$.TextRenderingMode.ADD_TO_PATH?ve.tspan.setAttributeNS(null,"fill","transparent"):ve.tspan.setAttributeNS(null,"fill","none"),je===$.TextRenderingMode.STROKE||je===$.TextRenderingMode.FILL_STROKE){const qe=1/(ve.textMatrixScale||1);this._setStrokeAttributes(ve.tspan,qe)}let De=ve.textMatrix;ve.textRise!==0&&(De=De.slice(),De[5]+=ve.textRise),ve.txtElement.setAttributeNS(null,"transform",`${ie(De)} scale(${Q(Me)}, -1)`),ve.txtElement.setAttributeNS(B,"xml:space","preserve"),ve.txtElement.append(ve.tspan),ve.txtgrp.append(ve.txtElement),this._ensureTransformGroup().append(ve.txtElement)}setLeadingMoveText(le,ve){this.setLeading(-ve),this.moveText(le,ve)}addFontStyle(le){if(!le.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ve=V(le.data,le.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${le.loadedName}"; src: url(${ve}); }
`}setFont(le){const ve=this.current,he=this.commonObjs.get(le[0]);let fe=le[1];ve.font=he,this.embedFonts&&!he.missingFile&&!this.embeddedFonts[he.loadedName]&&(this.addFontStyle(he),this.embeddedFonts[he.loadedName]=he),ve.fontMatrix=he.fontMatrix||$.FONT_IDENTITY_MATRIX;let be="normal";he.black?be="900":he.bold&&(be="bold");const Ae=he.italic?"italic":"normal";fe<0?(fe=-fe,ve.fontDirection=-1):ve.fontDirection=1,ve.fontSize=fe,ve.fontFamily=he.loadedName,ve.fontWeight=be,ve.fontStyle=Ae,ve.tspan=this.svgFactory.createElement("svg:tspan"),ve.tspan.setAttributeNS(null,"y",Q(-ve.y)),ve.xcoords=[],ve.ycoords=[]}endText(){var ve;const le=this.current;le.textRenderingMode&$.TextRenderingMode.ADD_TO_PATH_FLAG&&((ve=le.txtElement)!=null&&ve.hasChildNodes())&&(le.element=le.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(le){le>0&&(this.current.lineWidth=le)}setLineCap(le){this.current.lineCap=H[le]}setLineJoin(le){this.current.lineJoin=W[le]}setMiterLimit(le){this.current.miterLimit=le}setStrokeAlpha(le){this.current.strokeAlpha=le}setStrokeRGBColor(le,ve,he){this.current.strokeColor=$.Util.makeHexColor(le,ve,he)}setFillAlpha(le){this.current.fillAlpha=le}setFillRGBColor(le,ve,he){this.current.fillColor=$.Util.makeHexColor(le,ve,he),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(le){this.current.strokeColor=this._makeColorN_Pattern(le)}setFillColorN(le){this.current.fillColor=this._makeColorN_Pattern(le)}shadingFill(le){const{width:ve,height:he}=this.viewport,fe=$.Util.inverseTransform(this.transformMatrix),[be,Ae,xe,we]=$.Util.getAxialAlignedBoundingBox([0,0,ve,he],fe),Me=this.svgFactory.createElement("svg:rect");Me.setAttributeNS(null,"x",be),Me.setAttributeNS(null,"y",Ae),Me.setAttributeNS(null,"width",xe-be),Me.setAttributeNS(null,"height",we-Ae),Me.setAttributeNS(null,"fill",this._makeShadingPattern(le)),this.current.fillAlpha<1&&Me.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Me)}_makeColorN_Pattern(le){return le[0]==="TilingPattern"?this._makeTilingPattern(le):this._makeShadingPattern(le)}_makeTilingPattern(le){const ve=le[1],he=le[2],fe=le[3]||$.IDENTITY_MATRIX,[be,Ae,xe,we]=le[4],Me=le[5],Pe=le[6],Se=le[7],Le=`shading${ue++}`,[$e,He,je,De]=$.Util.normalizeRect([...$.Util.applyTransform([be,Ae],fe),...$.Util.applyTransform([xe,we],fe)]),[qe,Ce]=$.Util.singularValueDecompose2dScale(fe),de=Me*qe,me=Pe*Ce,ye=this.svgFactory.createElement("svg:pattern");ye.setAttributeNS(null,"id",Le),ye.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ye.setAttributeNS(null,"width",de),ye.setAttributeNS(null,"height",me),ye.setAttributeNS(null,"x",`${$e}`),ye.setAttributeNS(null,"y",`${He}`);const Ne=this.svg,Fe=this.transformMatrix,Oe=this.current.fillColor,Xe=this.current.strokeColor,rt=this.svgFactory.create(je-$e,De-He);if(this.svg=rt,this.transformMatrix=fe,Se===2){const gt=$.Util.makeHexColor(...ve);this.current.fillColor=gt,this.current.strokeColor=gt}return this.executeOpTree(this.convertOpList(he)),this.svg=Ne,this.transformMatrix=Fe,this.current.fillColor=Oe,this.current.strokeColor=Xe,ye.append(rt.childNodes[0]),this.defs.append(ye),`url(#${Le})`}_makeShadingPattern(le){switch(typeof le=="string"&&(le=this.objs.get(le)),le[0]){case"RadialAxial":const ve=`shading${ue++}`,he=le[3];let fe;switch(le[1]){case"axial":const be=le[4],Ae=le[5];fe=this.svgFactory.createElement("svg:linearGradient"),fe.setAttributeNS(null,"id",ve),fe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),fe.setAttributeNS(null,"x1",be[0]),fe.setAttributeNS(null,"y1",be[1]),fe.setAttributeNS(null,"x2",Ae[0]),fe.setAttributeNS(null,"y2",Ae[1]);break;case"radial":const xe=le[4],we=le[5],Me=le[6],Pe=le[7];fe=this.svgFactory.createElement("svg:radialGradient"),fe.setAttributeNS(null,"id",ve),fe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),fe.setAttributeNS(null,"cx",we[0]),fe.setAttributeNS(null,"cy",we[1]),fe.setAttributeNS(null,"r",Pe),fe.setAttributeNS(null,"fx",xe[0]),fe.setAttributeNS(null,"fy",xe[1]),fe.setAttributeNS(null,"fr",Me);break;default:throw new Error(`Unknown RadialAxial type: ${le[1]}`)}for(const be of he){const Ae=this.svgFactory.createElement("svg:stop");Ae.setAttributeNS(null,"offset",be[0]),Ae.setAttributeNS(null,"stop-color",be[1]),fe.append(Ae)}return this.defs.append(fe),`url(#${ve})`;case"Mesh":return(0,$.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${le[0]}`)}}setDash(le,ve){this.current.dashArray=le,this.current.dashPhase=ve}constructPath(le,ve){const he=this.current;let fe=he.x,be=he.y,Ae=[],xe=0;for(const we of le)switch(we|0){case $.OPS.rectangle:fe=ve[xe++],be=ve[xe++];const Me=ve[xe++],Pe=ve[xe++],Se=fe+Me,Le=be+Pe;Ae.push("M",Q(fe),Q(be),"L",Q(Se),Q(be),"L",Q(Se),Q(Le),"L",Q(fe),Q(Le),"Z");break;case $.OPS.moveTo:fe=ve[xe++],be=ve[xe++],Ae.push("M",Q(fe),Q(be));break;case $.OPS.lineTo:fe=ve[xe++],be=ve[xe++],Ae.push("L",Q(fe),Q(be));break;case $.OPS.curveTo:fe=ve[xe+4],be=ve[xe+5],Ae.push("C",Q(ve[xe]),Q(ve[xe+1]),Q(ve[xe+2]),Q(ve[xe+3]),Q(fe),Q(be)),xe+=6;break;case $.OPS.curveTo2:Ae.push("C",Q(fe),Q(be),Q(ve[xe]),Q(ve[xe+1]),Q(ve[xe+2]),Q(ve[xe+3])),fe=ve[xe+2],be=ve[xe+3],xe+=4;break;case $.OPS.curveTo3:fe=ve[xe+2],be=ve[xe+3],Ae.push("C",Q(ve[xe]),Q(ve[xe+1]),Q(fe),Q(be),Q(fe),Q(be)),xe+=4;break;case $.OPS.closePath:Ae.push("Z");break}Ae=Ae.join(" "),he.path&&le.length>0&&le[0]!==$.OPS.rectangle&&le[0]!==$.OPS.moveTo?Ae=he.path.getAttributeNS(null,"d")+Ae:(he.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(he.path)),he.path.setAttributeNS(null,"d",Ae),he.path.setAttributeNS(null,"fill","none"),he.element=he.path,he.setCurrentPoint(fe,be)}endPath(){const le=this.current;if(le.path=null,!this.pendingClip)return;if(!le.element){this.pendingClip=null;return}const ve=`clippath${J++}`,he=this.svgFactory.createElement("svg:clipPath");he.setAttributeNS(null,"id",ve),he.setAttributeNS(null,"transform",ie(this.transformMatrix));const fe=le.element.cloneNode(!0);if(this.pendingClip==="evenodd"?fe.setAttributeNS(null,"clip-rule","evenodd"):fe.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,he.append(fe),this.defs.append(he),le.activeClipUrl){le.clipGroup=null;for(const be of this.extraStack)be.clipGroup=null;he.setAttributeNS(null,"clip-path",le.activeClipUrl)}le.activeClipUrl=`url(#${ve})`,this.tgrp=null}clip(le){this.pendingClip=le}closePath(){const le=this.current;if(le.path){const ve=`${le.path.getAttributeNS(null,"d")}Z`;le.path.setAttributeNS(null,"d",ve)}}setLeading(le){this.current.leading=-le}setTextRise(le){this.current.textRise=le}setTextRenderingMode(le){this.current.textRenderingMode=le}setHScale(le){this.current.textHScale=le/100}setRenderingIntent(le){}setFlatness(le){}setGState(le){for(const[ve,he]of le)switch(ve){case"LW":this.setLineWidth(he);break;case"LC":this.setLineCap(he);break;case"LJ":this.setLineJoin(he);break;case"ML":this.setMiterLimit(he);break;case"D":this.setDash(he[0],he[1]);break;case"RI":this.setRenderingIntent(he);break;case"FL":this.setFlatness(he);break;case"Font":this.setFont(he);break;case"CA":this.setStrokeAlpha(he);break;case"ca":this.setFillAlpha(he);break;default:(0,$.warn)(`Unimplemented graphic state operator ${ve}`);break}}fill(){const le=this.current;le.element&&(le.element.setAttributeNS(null,"fill",le.fillColor),le.element.setAttributeNS(null,"fill-opacity",le.fillAlpha),this.endPath())}stroke(){const le=this.current;le.element&&(this._setStrokeAttributes(le.element),le.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(le,ve=1){const he=this.current;let fe=he.dashArray;ve!==1&&fe.length>0&&(fe=fe.map(function(be){return ve*be})),le.setAttributeNS(null,"stroke",he.strokeColor),le.setAttributeNS(null,"stroke-opacity",he.strokeAlpha),le.setAttributeNS(null,"stroke-miterlimit",Q(he.miterLimit)),le.setAttributeNS(null,"stroke-linecap",he.lineCap),le.setAttributeNS(null,"stroke-linejoin",he.lineJoin),le.setAttributeNS(null,"stroke-width",Q(ve*he.lineWidth)+"px"),le.setAttributeNS(null,"stroke-dasharray",fe.map(Q).join(" ")),le.setAttributeNS(null,"stroke-dashoffset",Q(ve*he.dashPhase)+"px")}eoFill(){var le;(le=this.current.element)==null||le.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var le;(le=this.current.element)==null||le.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const le=this.svgFactory.createElement("svg:rect");le.setAttributeNS(null,"x","0"),le.setAttributeNS(null,"y","0"),le.setAttributeNS(null,"width","1px"),le.setAttributeNS(null,"height","1px"),le.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(le)}paintImageXObject(le){const ve=this.getObject(le);if(!ve){(0,$.warn)(`Dependent image with object ID ${le} is not ready yet`);return}this.paintInlineImageXObject(ve)}paintInlineImageXObject(le,ve){const he=le.width,fe=le.height,be=K(le,this.forceDataSchema,!!ve),Ae=this.svgFactory.createElement("svg:rect");Ae.setAttributeNS(null,"x","0"),Ae.setAttributeNS(null,"y","0"),Ae.setAttributeNS(null,"width",Q(he)),Ae.setAttributeNS(null,"height",Q(fe)),this.current.element=Ae,this.clip("nonzero");const xe=this.svgFactory.createElement("svg:image");xe.setAttributeNS(q,"xlink:href",be),xe.setAttributeNS(null,"x","0"),xe.setAttributeNS(null,"y",Q(-fe)),xe.setAttributeNS(null,"width",Q(he)+"px"),xe.setAttributeNS(null,"height",Q(fe)+"px"),xe.setAttributeNS(null,"transform",`scale(${Q(1/he)} ${Q(-1/fe)})`),ve?ve.append(xe):this._ensureTransformGroup().append(xe)}paintImageMaskXObject(le){const ve=this.getObject(le.data,le);if(ve.bitmap){(0,$.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const he=this.current,fe=ve.width,be=ve.height,Ae=he.fillColor;he.maskId=`mask${ce++}`;const xe=this.svgFactory.createElement("svg:mask");xe.setAttributeNS(null,"id",he.maskId);const we=this.svgFactory.createElement("svg:rect");we.setAttributeNS(null,"x","0"),we.setAttributeNS(null,"y","0"),we.setAttributeNS(null,"width",Q(fe)),we.setAttributeNS(null,"height",Q(be)),we.setAttributeNS(null,"fill",Ae),we.setAttributeNS(null,"mask",`url(#${he.maskId})`),this.defs.append(xe),this._ensureTransformGroup().append(we),this.paintInlineImageXObject(ve,xe)}paintFormXObjectBegin(le,ve){if(Array.isArray(le)&&le.length===6&&this.transform(le[0],le[1],le[2],le[3],le[4],le[5]),ve){const he=ve[2]-ve[0],fe=ve[3]-ve[1],be=this.svgFactory.createElement("svg:rect");be.setAttributeNS(null,"x",ve[0]),be.setAttributeNS(null,"y",ve[1]),be.setAttributeNS(null,"width",Q(he)),be.setAttributeNS(null,"height",Q(fe)),this.current.element=be,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(le){const ve=this.svgFactory.create(le.width,le.height),he=this.svgFactory.createElement("svg:defs");ve.append(he),this.defs=he;const fe=this.svgFactory.createElement("svg:g");return fe.setAttributeNS(null,"transform",ie(le.transform)),ve.append(fe),this.svg=fe,ve}_ensureClipGroup(){if(!this.current.clipGroup){const le=this.svgFactory.createElement("svg:g");le.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(le),this.current.clipGroup=le}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ie(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}w.SVGGraphics=Ee},(R,w)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.XfaText=void 0;class _{static textContent($){const O=[],B={items:O,styles:Object.create(null)};function q(H){var K;if(!H)return;let W=null;const V=H.name;if(V==="#text")W=H.value;else if(_.shouldBuildText(V))(K=H==null?void 0:H.attributes)!=null&&K.textContent?W=H.attributes.textContent:H.value&&(W=H.value);else return;if(W!==null&&O.push({str:W}),!!H.children)for(const Y of H.children)q(Y)}return q($),B}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}w.XfaText=_},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.TextLayerRenderTask=void 0,w.renderTextLayer=ie,w.updateTextLayer=J;var A=_(1),$=_(6);const O=1e5,B=30,q=.8,H=new Map;function W(ce,ue){let Ee;if(ue&&A.FeatureTest.isOffscreenCanvasSupported)Ee=new OffscreenCanvas(ce,ce).getContext("2d",{alpha:!1});else{const ge=document.createElement("canvas");ge.width=ge.height=ce,Ee=ge.getContext("2d",{alpha:!1})}return Ee}function V(ce,ue){const Ee=H.get(ce);if(Ee)return Ee;const ge=W(B,ue);ge.font=`${B}px ${ce}`;const le=ge.measureText("");let ve=le.fontBoundingBoxAscent,he=Math.abs(le.fontBoundingBoxDescent);if(ve){const be=ve/(ve+he);return H.set(ce,be),ge.canvas.width=ge.canvas.height=0,be}ge.strokeStyle="red",ge.clearRect(0,0,B,B),ge.strokeText("g",0,0);let fe=ge.getImageData(0,0,B,B).data;he=0;for(let be=fe.length-1-3;be>=0;be-=4)if(fe[be]>0){he=Math.ceil(be/4/B);break}ge.clearRect(0,0,B,B),ge.strokeText("A",0,B),fe=ge.getImageData(0,0,B,B).data,ve=0;for(let be=0,Ae=fe.length;be<Ae;be+=4)if(fe[be]>0){ve=B-Math.floor(be/4/B);break}if(ge.canvas.width=ge.canvas.height=0,ve){const be=ve/(ve+he);return H.set(ce,be),be}return H.set(ce,q),q}function K(ce,ue,Ee){const ge=document.createElement("span"),le={angle:0,canvasWidth:0,hasText:ue.str!=="",hasEOL:ue.hasEOL,fontSize:0};ce._textDivs.push(ge);const ve=A.Util.transform(ce._transform,ue.transform);let he=Math.atan2(ve[1],ve[0]);const fe=Ee[ue.fontName];fe.vertical&&(he+=Math.PI/2);const be=Math.hypot(ve[2],ve[3]),Ae=be*V(fe.fontFamily,ce._isOffscreenCanvasSupported);let xe,we;he===0?(xe=ve[4],we=ve[5]-Ae):(xe=ve[4]+Ae*Math.sin(he),we=ve[5]-Ae*Math.cos(he));const Me="calc(var(--scale-factor)*",Pe=ge.style;ce._container===ce._rootContainer?(Pe.left=`${(100*xe/ce._pageWidth).toFixed(2)}%`,Pe.top=`${(100*we/ce._pageHeight).toFixed(2)}%`):(Pe.left=`${Me}${xe.toFixed(2)}px)`,Pe.top=`${Me}${we.toFixed(2)}px)`),Pe.fontSize=`${Me}${be.toFixed(2)}px)`,Pe.fontFamily=fe.fontFamily,le.fontSize=be,ge.setAttribute("role","presentation"),ge.textContent=ue.str,ge.dir=ue.dir,ce._fontInspectorEnabled&&(ge.dataset.fontName=ue.fontName),he!==0&&(le.angle=he*(180/Math.PI));let Se=!1;if(ue.str.length>1)Se=!0;else if(ue.str!==" "&&ue.transform[0]!==ue.transform[3]){const Le=Math.abs(ue.transform[0]),$e=Math.abs(ue.transform[3]);Le!==$e&&Math.max(Le,$e)/Math.min(Le,$e)>1.5&&(Se=!0)}Se&&(le.canvasWidth=fe.vertical?ue.height:ue.width),ce._textDivProperties.set(ge,le),ce._isReadableStream&&ce._layoutText(ge)}function Y(ce){const{div:ue,scale:Ee,properties:ge,ctx:le,prevFontSize:ve,prevFontFamily:he}=ce,{style:fe}=ue;let be="";if(ge.canvasWidth!==0&&ge.hasText){const{fontFamily:Ae}=fe,{canvasWidth:xe,fontSize:we}=ge;(ve!==we||he!==Ae)&&(le.font=`${we*Ee}px ${Ae}`,ce.prevFontSize=we,ce.prevFontFamily=Ae);const{width:Me}=le.measureText(ue.textContent);Me>0&&(be=`scaleX(${xe*Ee/Me})`)}ge.angle!==0&&(be=`rotate(${ge.angle}deg) ${be}`),be.length>0&&(fe.transform=be)}function re(ce){if(ce._canceled)return;const ue=ce._textDivs,Ee=ce._capability;if(ue.length>O){Ee.resolve();return}if(!ce._isReadableStream)for(const le of ue)ce._layoutText(le);Ee.resolve()}class Q{constructor({textContentSource:ue,container:Ee,viewport:ge,textDivs:le,textDivProperties:ve,textContentItemsStr:he,isOffscreenCanvasSupported:fe}){var Me;this._textContentSource=ue,this._isReadableStream=ue instanceof ReadableStream,this._container=this._rootContainer=Ee,this._textDivs=le||[],this._textContentItemsStr=he||[],this._isOffscreenCanvasSupported=fe,this._fontInspectorEnabled=!!((Me=globalThis.FontInspector)!=null&&Me.enabled),this._reader=null,this._textDivProperties=ve||new WeakMap,this._canceled=!1,this._capability=new A.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ge.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:W(0,fe)};const{pageWidth:be,pageHeight:Ae,pageX:xe,pageY:we}=ge.rawDims;this._transform=[1,0,0,-1,-xe,we+Ae],this._pageWidth=be,this._pageHeight=Ae,(0,$.setLayerDimensions)(Ee,ge),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new A.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new A.AbortException("TextLayer task cancelled."))}_processItems(ue,Ee){for(const ge of ue){if(ge.str===void 0){if(ge.type==="beginMarkedContentProps"||ge.type==="beginMarkedContent"){const le=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ge.id!==null&&this._container.setAttribute("id",`${ge.id}`),le.append(this._container)}else ge.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ge.str),K(this,ge,Ee)}}_layoutText(ue){const Ee=this._layoutTextParams.properties=this._textDivProperties.get(ue);if(this._layoutTextParams.div=ue,Y(this._layoutTextParams),Ee.hasText&&this._container.append(ue),Ee.hasEOL){const ge=document.createElement("br");ge.setAttribute("role","presentation"),this._container.append(ge)}}_render(){const ue=new A.PromiseCapability;let Ee=Object.create(null);if(this._isReadableStream){const ge=()=>{this._reader.read().then(({value:le,done:ve})=>{if(ve){ue.resolve();return}Object.assign(Ee,le.styles),this._processItems(le.items,Ee),ge()},ue.reject)};this._reader=this._textContentSource.getReader(),ge()}else if(this._textContentSource){const{items:ge,styles:le}=this._textContentSource;this._processItems(ge,le),ue.resolve()}else throw new Error('No "textContentSource" parameter specified.');ue.promise.then(()=>{Ee=null,re(this)},this._capability.reject)}}w.TextLayerRenderTask=Q;function ie(ce){!ce.textContentSource&&(ce.textContent||ce.textContentStream)&&((0,$.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ce.textContentSource=ce.textContent||ce.textContentStream);const{container:ue,viewport:Ee}=ce,ge=getComputedStyle(ue),le=ge.getPropertyValue("visibility"),ve=parseFloat(ge.getPropertyValue("--scale-factor"));le==="visible"&&(!ve||Math.abs(ve-Ee.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const he=new Q(ce);return he._render(),he}function J({container:ce,viewport:ue,textDivs:Ee,textDivProperties:ge,isOffscreenCanvasSupported:le,mustRotate:ve=!0,mustRescale:he=!0}){if(ve&&(0,$.setLayerDimensions)(ce,{rotation:ue.rotation}),he){const fe=W(0,le),Ae={prevFontSize:null,prevFontFamily:null,div:null,scale:ue.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:fe};for(const xe of Ee)Ae.properties=ge.get(xe),Ae.div=xe,Y(Ae)}}},(R,w,_)=>{var V,K,Y,re,Q,ie,J,ce,ue,Ee,ge,ma,wi,fa,ga;Object.defineProperty(w,"__esModule",{value:!0}),w.AnnotationEditorLayer=void 0;var A=_(1),$=_(4),O=_(28),B=_(33),q=_(6),H=_(34);const be=class be{constructor({uiManager:xe,pageIndex:we,div:Me,accessibilityManager:Pe,annotationLayer:Se,viewport:Le,l10n:$e}){Ye(this,ge);Ye(this,V);Ye(this,K,!1);Ye(this,Y,null);Ye(this,re,this.pointerup.bind(this));Ye(this,Q,this.pointerdown.bind(this));Ye(this,ie,new Map);Ye(this,J,!1);Ye(this,ce,!1);Ye(this,ue,!1);Ye(this,Ee);const He=[O.FreeTextEditor,B.InkEditor,H.StampEditor];if(!be._initialized){be._initialized=!0;for(const je of He)je.initialize($e)}xe.registerEditorTypes(He),Ge(this,Ee,xe),this.pageIndex=we,this.div=Me,Ge(this,V,Pe),Ge(this,Y,Se),this.viewport=Le,G(this,Ee).addLayer(this)}get isEmpty(){return G(this,ie).size===0}updateToolbar(xe){G(this,Ee).updateToolbar(xe)}updateMode(xe=G(this,Ee).getMode()){Ve(this,ge,ga).call(this),xe===A.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),xe!==A.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",xe===A.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",xe===A.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",xe===A.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(xe){if(!xe&&G(this,Ee).getMode()!==A.AnnotationEditorType.INK)return;if(!xe){for(const Me of G(this,ie).values())if(Me.isEmpty()){Me.setInBackground();return}}Ve(this,ge,wi).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(xe){G(this,Ee).setEditingState(xe)}addCommands(xe){G(this,Ee).addCommands(xe)}enable(){this.div.style.pointerEvents="auto";const xe=new Set;for(const Me of G(this,ie).values())Me.enableEditing(),Me.annotationElementId&&xe.add(Me.annotationElementId);if(!G(this,Y))return;const we=G(this,Y).getEditableAnnotations();for(const Me of we){if(Me.hide(),G(this,Ee).isDeletedAnnotationElement(Me.data.id)||xe.has(Me.data.id))continue;const Pe=this.deserialize(Me);Pe&&(this.addOrRebuild(Pe),Pe.enableEditing())}}disable(){var we;Ge(this,ue,!0),this.div.style.pointerEvents="none";const xe=new Set;for(const Me of G(this,ie).values()){if(Me.disableEditing(),!Me.annotationElementId||Me.serialize()!==null){xe.add(Me.annotationElementId);continue}(we=this.getEditableAnnotation(Me.annotationElementId))==null||we.show(),Me.remove()}if(G(this,Y)){const Me=G(this,Y).getEditableAnnotations();for(const Pe of Me){const{id:Se}=Pe.data;xe.has(Se)||G(this,Ee).isDeletedAnnotationElement(Se)||Pe.show()}}Ve(this,ge,ga).call(this),this.isEmpty&&(this.div.hidden=!0),Ge(this,ue,!1)}getEditableAnnotation(xe){var we;return((we=G(this,Y))==null?void 0:we.getEditableAnnotation(xe))||null}setActiveEditor(xe){G(this,Ee).getActive()!==xe&&G(this,Ee).setActiveEditor(xe)}enableClick(){this.div.addEventListener("pointerdown",G(this,Q)),this.div.addEventListener("pointerup",G(this,re))}disableClick(){this.div.removeEventListener("pointerdown",G(this,Q)),this.div.removeEventListener("pointerup",G(this,re))}attach(xe){G(this,ie).set(xe.id,xe);const{annotationElementId:we}=xe;we&&G(this,Ee).isDeletedAnnotationElement(we)&&G(this,Ee).removeDeletedAnnotationElement(xe)}detach(xe){var we;G(this,ie).delete(xe.id),(we=G(this,V))==null||we.removePointerInTextLayer(xe.contentDiv),!G(this,ue)&&xe.annotationElementId&&G(this,Ee).addDeletedAnnotationElement(xe)}remove(xe){this.detach(xe),G(this,Ee).removeEditor(xe),xe.div.contains(document.activeElement)&&setTimeout(()=>{G(this,Ee).focusMainContainer()},0),xe.div.remove(),xe.isAttachedToDOM=!1,G(this,ce)||this.addInkEditorIfNeeded(!1)}changeParent(xe){var we;xe.parent!==this&&(xe.annotationElementId&&(G(this,Ee).addDeletedAnnotationElement(xe.annotationElementId),$.AnnotationEditor.deleteAnnotationElement(xe),xe.annotationElementId=null),this.attach(xe),(we=xe.parent)==null||we.detach(xe),xe.setParent(this),xe.div&&xe.isAttachedToDOM&&(xe.div.remove(),this.div.append(xe.div)))}add(xe){if(this.changeParent(xe),G(this,Ee).addEditor(xe),this.attach(xe),!xe.isAttachedToDOM){const we=xe.render();this.div.append(we),xe.isAttachedToDOM=!0}xe.fixAndSetPosition(),xe.onceAdded(),G(this,Ee).addToAnnotationStorage(xe)}moveEditorInDOM(xe){var Me;if(!xe.isAttachedToDOM)return;const{activeElement:we}=document;xe.div.contains(we)&&(xe._focusEventsAllowed=!1,setTimeout(()=>{xe.div.contains(document.activeElement)?xe._focusEventsAllowed=!0:(xe.div.addEventListener("focusin",()=>{xe._focusEventsAllowed=!0},{once:!0}),we.focus())},0)),xe._structTreeParentId=(Me=G(this,V))==null?void 0:Me.moveElementInDOM(this.div,xe.div,xe.contentDiv,!0)}addOrRebuild(xe){xe.needsToBeRebuilt()?xe.rebuild():this.add(xe)}addUndoableEditor(xe){const we=()=>xe._uiManager.rebuild(xe),Me=()=>{xe.remove()};this.addCommands({cmd:we,undo:Me,mustExec:!1})}getNextId(){return G(this,Ee).getId()}pasteEditor(xe,we){G(this,Ee).updateToolbar(xe),G(this,Ee).updateMode(xe);const{offsetX:Me,offsetY:Pe}=Ve(this,ge,fa).call(this),Se=this.getNextId(),Le=Ve(this,ge,ma).call(this,{parent:this,id:Se,x:Me,y:Pe,uiManager:G(this,Ee),isCentered:!0,...we});Le&&this.add(Le)}deserialize(xe){switch(xe.annotationType??xe.annotationEditorType){case A.AnnotationEditorType.FREETEXT:return O.FreeTextEditor.deserialize(xe,this,G(this,Ee));case A.AnnotationEditorType.INK:return B.InkEditor.deserialize(xe,this,G(this,Ee));case A.AnnotationEditorType.STAMP:return H.StampEditor.deserialize(xe,this,G(this,Ee))}return null}addNewEditor(){Ve(this,ge,wi).call(this,Ve(this,ge,fa).call(this),!0)}setSelected(xe){G(this,Ee).setSelected(xe)}toggleSelected(xe){G(this,Ee).toggleSelected(xe)}isSelected(xe){return G(this,Ee).isSelected(xe)}unselect(xe){G(this,Ee).unselect(xe)}pointerup(xe){const{isMac:we}=A.FeatureTest.platform;if(!(xe.button!==0||xe.ctrlKey&&we)&&xe.target===this.div&&G(this,J)){if(Ge(this,J,!1),!G(this,K)){Ge(this,K,!0);return}if(G(this,Ee).getMode()===A.AnnotationEditorType.STAMP){G(this,Ee).unselectAll();return}Ve(this,ge,wi).call(this,xe,!1)}}pointerdown(xe){if(G(this,J)){Ge(this,J,!1);return}const{isMac:we}=A.FeatureTest.platform;if(xe.button!==0||xe.ctrlKey&&we||xe.target!==this.div)return;Ge(this,J,!0);const Me=G(this,Ee).getActive();Ge(this,K,!Me||Me.isEmpty())}findNewParent(xe,we,Me){const Pe=G(this,Ee).findParent(we,Me);return Pe===null||Pe===this?!1:(Pe.changeParent(xe),!0)}destroy(){var xe,we;((xe=G(this,Ee).getActive())==null?void 0:xe.parent)===this&&(G(this,Ee).commitOrRemove(),G(this,Ee).setActiveEditor(null));for(const Me of G(this,ie).values())(we=G(this,V))==null||we.removePointerInTextLayer(Me.contentDiv),Me.setParent(null),Me.isAttachedToDOM=!1,Me.div.remove();this.div=null,G(this,ie).clear(),G(this,Ee).removeLayer(this)}render({viewport:xe}){this.viewport=xe,(0,q.setLayerDimensions)(this.div,xe);for(const we of G(this,Ee).getEditors(this.pageIndex))this.add(we);this.updateMode()}update({viewport:xe}){G(this,Ee).commitOrRemove(),this.viewport=xe,(0,q.setLayerDimensions)(this.div,{rotation:xe.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:xe,pageHeight:we}=this.viewport.rawDims;return[xe,we]}};V=new WeakMap,K=new WeakMap,Y=new WeakMap,re=new WeakMap,Q=new WeakMap,ie=new WeakMap,J=new WeakMap,ce=new WeakMap,ue=new WeakMap,Ee=new WeakMap,ge=new WeakSet,ma=function(xe){switch(G(this,Ee).getMode()){case A.AnnotationEditorType.FREETEXT:return new O.FreeTextEditor(xe);case A.AnnotationEditorType.INK:return new B.InkEditor(xe);case A.AnnotationEditorType.STAMP:return new H.StampEditor(xe)}return null},wi=function(xe,we){const Me=this.getNextId(),Pe=Ve(this,ge,ma).call(this,{parent:this,id:Me,x:xe.offsetX,y:xe.offsetY,uiManager:G(this,Ee),isCentered:we});return Pe&&this.add(Pe),Pe},fa=function(){const{x:xe,y:we,width:Me,height:Pe}=this.div.getBoundingClientRect(),Se=Math.max(0,xe),Le=Math.max(0,we),$e=Math.min(window.innerWidth,xe+Me),He=Math.min(window.innerHeight,we+Pe),je=(Se+$e)/2-xe,De=(Le+He)/2-we,[qe,Ce]=this.viewport.rotation%180===0?[je,De]:[De,je];return{offsetX:qe,offsetY:Ce}},ga=function(){Ge(this,ce,!0);for(const xe of G(this,ie).values())xe.isEmpty()&&xe.remove();Ge(this,ce,!1)},on(be,"_initialized",!1);let W=be;w.AnnotationEditorLayer=W},(R,w,_)=>{var H,W,V,K,Y,re,Q,ie,J,ce,yo,Eo,wo,ei,xa,jo,va;Object.defineProperty(w,"__esModule",{value:!0}),w.FreeTextEditor=void 0;var A=_(1),$=_(5),O=_(4),B=_(29);const be=class be extends O.AnnotationEditor{constructor(we){super({...we,name:"freeTextEditor"});Ye(this,ce);Ye(this,H,this.editorDivBlur.bind(this));Ye(this,W,this.editorDivFocus.bind(this));Ye(this,V,this.editorDivInput.bind(this));Ye(this,K,this.editorDivKeydown.bind(this));Ye(this,Y);Ye(this,re,"");Ye(this,Q,`${this.id}-editor`);Ye(this,ie);Ye(this,J,null);Ge(this,Y,we.color||be._defaultColor||O.AnnotationEditor._defaultLineColor),Ge(this,ie,we.fontSize||be._defaultFontSize)}static get _keyboardManager(){const we=be.prototype,Me=Le=>Le.isEmpty(),Pe=$.AnnotationEditorUIManager.TRANSLATE_SMALL,Se=$.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,A.shadow)(this,"_keyboardManager",new $.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],we.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],we.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],we._translateEmpty,{args:[-Pe,0],checker:Me}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],we._translateEmpty,{args:[-Se,0],checker:Me}],[["ArrowRight","mac+ArrowRight"],we._translateEmpty,{args:[Pe,0],checker:Me}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],we._translateEmpty,{args:[Se,0],checker:Me}],[["ArrowUp","mac+ArrowUp"],we._translateEmpty,{args:[0,-Pe],checker:Me}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],we._translateEmpty,{args:[0,-Se],checker:Me}],[["ArrowDown","mac+ArrowDown"],we._translateEmpty,{args:[0,Pe],checker:Me}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],we._translateEmpty,{args:[0,Se],checker:Me}]]))}static initialize(we){O.AnnotationEditor.initialize(we,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Me=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Me.getPropertyValue("--freetext-padding"))}static updateDefaultParams(we,Me){switch(we){case A.AnnotationEditorParamsType.FREETEXT_SIZE:be._defaultFontSize=Me;break;case A.AnnotationEditorParamsType.FREETEXT_COLOR:be._defaultColor=Me;break}}updateParams(we,Me){switch(we){case A.AnnotationEditorParamsType.FREETEXT_SIZE:Ve(this,ce,yo).call(this,Me);break;case A.AnnotationEditorParamsType.FREETEXT_COLOR:Ve(this,ce,Eo).call(this,Me);break}}static get defaultPropertiesToUpdate(){return[[A.AnnotationEditorParamsType.FREETEXT_SIZE,be._defaultFontSize],[A.AnnotationEditorParamsType.FREETEXT_COLOR,be._defaultColor||O.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[A.AnnotationEditorParamsType.FREETEXT_SIZE,G(this,ie)],[A.AnnotationEditorParamsType.FREETEXT_COLOR,G(this,Y)]]}_translateEmpty(we,Me){this._uiManager.translateSelectedEditors(we,Me,!0)}getInitialTranslation(){const we=this.parentScale;return[-be._internalPadding*we,-(be._internalPadding+G(this,ie))*we]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(A.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",G(this,K)),this.editorDiv.addEventListener("focus",G(this,W)),this.editorDiv.addEventListener("blur",G(this,H)),this.editorDiv.addEventListener("input",G(this,V)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",G(this,Q)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",G(this,K)),this.editorDiv.removeEventListener("focus",G(this,W)),this.editorDiv.removeEventListener("blur",G(this,H)),this.editorDiv.removeEventListener("input",G(this,V)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(we){this._focusEventsAllowed&&(super.focusin(we),we.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var we;if(this.width){Ve(this,ce,va).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(we=this._initialOptions)!=null&&we.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const we=G(this,re),Me=Ge(this,re,Ve(this,ce,wo).call(this).trimEnd());if(we===Me)return;const Pe=Se=>{if(Ge(this,re,Se),!Se){this.remove();return}Ve(this,ce,xa).call(this),this._uiManager.rebuild(this),Ve(this,ce,ei).call(this)};this.addCommands({cmd:()=>{Pe(Me)},undo:()=>{Pe(we)},mustExec:!1}),Ve(this,ce,ei).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(we){this.enterInEditMode()}keydown(we){we.target===this.div&&we.key==="Enter"&&(this.enterInEditMode(),we.preventDefault())}editorDivKeydown(we){be._keyboardManager.exec(this,we)}editorDivFocus(we){this.isEditing=!0}editorDivBlur(we){this.isEditing=!1}editorDivInput(we){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let we,Me;this.width&&(we=this.x,Me=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",G(this,Q)),this.enableEditing(),O.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Se=>{var Le;return(Le=this.editorDiv)==null?void 0:Le.setAttribute("aria-label",Se)}),O.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Se=>{var Le;return(Le=this.editorDiv)==null?void 0:Le.setAttribute("default-content",Se)}),this.editorDiv.contentEditable=!0;const{style:Pe}=this.editorDiv;if(Pe.fontSize=`calc(${G(this,ie)}px * var(--scale-factor))`,Pe.color=G(this,Y),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,$.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Se,Le]=this.parentDimensions;if(this.annotationElementId){const{position:$e}=G(this,J);let[He,je]=this.getInitialTranslation();[He,je]=this.pageTranslationToScreen(He,je);const[De,qe]=this.pageDimensions,[Ce,de]=this.pageTranslation;let me,ye;switch(this.rotation){case 0:me=we+($e[0]-Ce)/De,ye=Me+this.height-($e[1]-de)/qe;break;case 90:me=we+($e[0]-Ce)/De,ye=Me-($e[1]-de)/qe,[He,je]=[je,-He];break;case 180:me=we-this.width+($e[0]-Ce)/De,ye=Me-($e[1]-de)/qe,[He,je]=[-He,-je];break;case 270:me=we+($e[0]-Ce-this.height*qe)/De,ye=Me+($e[1]-de-this.width*De)/qe,[He,je]=[-je,He];break}this.setAt(me*Se,ye*Le,He,je)}else this.setAt(we*Se,Me*Le,this.width*Se,this.height*Le);Ve(this,ce,xa).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(we,Me,Pe){let Se=null;if(we instanceof B.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:$e,fontColor:He},rect:je,rotation:De,id:qe},textContent:Ce,textPosition:de,parent:{page:{pageNumber:me}}}=we;if(!Ce||Ce.length===0)return null;Se=we={annotationType:A.AnnotationEditorType.FREETEXT,color:Array.from(He),fontSize:$e,value:Ce.join(`
`),position:de,pageIndex:me-1,rect:je,rotation:De,id:qe,deleted:!1}}const Le=super.deserialize(we,Me,Pe);return Ge(Le,ie,we.fontSize),Ge(Le,Y,A.Util.makeHexColor(...we.color)),Ge(Le,re,we.value),Le.annotationElementId=we.id||null,Ge(Le,J,Se),Le}serialize(we=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Me=be._internalPadding*this.parentScale,Pe=this.getRect(Me,Me),Se=O.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:G(this,Y)),Le={annotationType:A.AnnotationEditorType.FREETEXT,color:Se,fontSize:G(this,ie),value:G(this,re),pageIndex:this.pageIndex,rect:Pe,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return we?Le:this.annotationElementId&&!Ve(this,ce,jo).call(this,Le)?null:(Le.id=this.annotationElementId,Le)}};H=new WeakMap,W=new WeakMap,V=new WeakMap,K=new WeakMap,Y=new WeakMap,re=new WeakMap,Q=new WeakMap,ie=new WeakMap,J=new WeakMap,ce=new WeakSet,yo=function(we){const Me=Se=>{this.editorDiv.style.fontSize=`calc(${Se}px * var(--scale-factor))`,this.translate(0,-(Se-G(this,ie))*this.parentScale),Ge(this,ie,Se),Ve(this,ce,ei).call(this)},Pe=G(this,ie);this.addCommands({cmd:()=>{Me(we)},undo:()=>{Me(Pe)},mustExec:!0,type:A.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Eo=function(we){const Me=G(this,Y);this.addCommands({cmd:()=>{Ge(this,Y,this.editorDiv.style.color=we)},undo:()=>{Ge(this,Y,this.editorDiv.style.color=Me)},mustExec:!0,type:A.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wo=function(){const we=this.editorDiv.getElementsByTagName("div");if(we.length===0)return this.editorDiv.innerText;const Me=[];for(const Pe of we)Me.push(Pe.innerText.replace(/\r\n?|\n/,""));return Me.join(`
`)},ei=function(){const[we,Me]=this.parentDimensions;let Pe;if(this.isAttachedToDOM)Pe=this.div.getBoundingClientRect();else{const{currentLayer:Se,div:Le}=this,$e=Le.style.display;Le.style.display="hidden",Se.div.append(this.div),Pe=Le.getBoundingClientRect(),Le.remove(),Le.style.display=$e}this.rotation%180===this.parentRotation%180?(this.width=Pe.width/we,this.height=Pe.height/Me):(this.width=Pe.height/we,this.height=Pe.width/Me),this.fixAndSetPosition()},xa=function(){if(this.editorDiv.replaceChildren(),!!G(this,re))for(const we of G(this,re).split(`
`)){const Me=document.createElement("div");Me.append(we?document.createTextNode(we):document.createElement("br")),this.editorDiv.append(Me)}},jo=function(we){const{value:Me,fontSize:Pe,color:Se,rect:Le,pageIndex:$e}=G(this,J);return we.value!==Me||we.fontSize!==Pe||we.rect.some((He,je)=>Math.abs(He-Le[je])>=1)||we.color.some((He,je)=>He!==Se[je])||we.pageIndex!==$e},va=function(we=!1){if(!this.annotationElementId)return;if(Ve(this,ce,ei).call(this),!we&&(this.width===0||this.height===0)){setTimeout(()=>Ve(this,ce,va).call(this,!0),0);return}const Me=be._internalPadding*this.parentScale;G(this,J).rect=this.getRect(Me,Me)},on(be,"_freeTextDefaultContent",""),on(be,"_internalPadding",0),on(be,"_defaultColor",null),on(be,"_defaultFontSize",10),on(be,"_type","freetext");let q=be;w.FreeTextEditor=q},(R,w,_)=>{var ye,Fe,vr,Ro,rt,gt,xt,Et,jt,At,nt,lt,_e,ke,Je,it,mt,Rt,wt,et,zt,Bt,_o,ji,ba,ya,fs,As,Hs,St,st,at,Nt,Ea,is,ze,bt,Yt,So,wa;Object.defineProperty(w,"__esModule",{value:!0}),w.StampAnnotationElement=w.InkAnnotationElement=w.FreeTextAnnotationElement=w.AnnotationLayer=void 0;var A=_(1),$=_(6),O=_(3),B=_(30),q=_(31),H=_(32);const W=1e3,V=9,K=new WeakSet;function Y(os){return{width:os[2]-os[0],height:os[3]-os[1]}}class re{static create(Be){switch(Be.data.annotationType){case A.AnnotationType.LINK:return new ie(Be);case A.AnnotationType.TEXT:return new J(Be);case A.AnnotationType.WIDGET:switch(Be.data.fieldType){case"Tx":return new ue(Be);case"Btn":return Be.data.radioButton?new le(Be):Be.data.checkBox?new ge(Be):new ve(Be);case"Ch":return new he(Be);case"Sig":return new Ee(Be)}return new ce(Be);case A.AnnotationType.POPUP:return new fe(Be);case A.AnnotationType.FREETEXT:return new Ae(Be);case A.AnnotationType.LINE:return new xe(Be);case A.AnnotationType.SQUARE:return new we(Be);case A.AnnotationType.CIRCLE:return new Me(Be);case A.AnnotationType.POLYLINE:return new Pe(Be);case A.AnnotationType.CARET:return new Le(Be);case A.AnnotationType.INK:return new $e(Be);case A.AnnotationType.POLYGON:return new Se(Be);case A.AnnotationType.HIGHLIGHT:return new He(Be);case A.AnnotationType.UNDERLINE:return new je(Be);case A.AnnotationType.SQUIGGLY:return new De(Be);case A.AnnotationType.STRIKEOUT:return new qe(Be);case A.AnnotationType.STAMP:return new Ce(Be);case A.AnnotationType.FILEATTACHMENT:return new de(Be);default:return new Q(Be)}}}const Ne=class Ne{constructor(Be,{isRenderable:Ie=!1,ignoreBorder:Ze=!1,createQuadrilaterals:vt=!1}={}){Ye(this,ye,!1);this.isRenderable=Ie,this.data=Be.data,this.layer=Be.layer,this.linkService=Be.linkService,this.downloadManager=Be.downloadManager,this.imageResourcesPath=Be.imageResourcesPath,this.renderForms=Be.renderForms,this.svgFactory=Be.svgFactory,this.annotationStorage=Be.annotationStorage,this.enableScripting=Be.enableScripting,this.hasJSActions=Be.hasJSActions,this._fieldObjects=Be.fieldObjects,this.parent=Be.parent,Ie&&(this.container=this._createContainer(Ze)),vt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Be,contentsObj:Ie,richText:Ze}){return!!(Be!=null&&Be.str||Ie!=null&&Ie.str||Ze!=null&&Ze.str)}get hasPopupData(){return Ne._hasPopupData(this.data)}_createContainer(Be){const{data:Ie,parent:{page:Ze,viewport:vt}}=this,yt=document.createElement("section");yt.setAttribute("data-annotation-id",Ie.id),this instanceof ce||(yt.tabIndex=W),yt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&yt.setAttribute("aria-haspopup","dialog"),Ie.noRotate&&yt.classList.add("norotate");const{pageWidth:Tt,pageHeight:Lt,pageX:hs,pageY:us}=vt.rawDims;if(!Ie.rect||this instanceof fe){const{rotation:_s}=Ie;return!Ie.hasOwnCanvas&&_s!==0&&this.setRotation(_s,yt),yt}const{width:rs,height:Ps}=Y(Ie.rect),ds=A.Util.normalizeRect([Ie.rect[0],Ze.view[3]-Ie.rect[1]+Ze.view[1],Ie.rect[2],Ze.view[3]-Ie.rect[3]+Ze.view[1]]);if(!Be&&Ie.borderStyle.width>0){yt.style.borderWidth=`${Ie.borderStyle.width}px`;const _s=Ie.borderStyle.horizontalCornerRadius,Fs=Ie.borderStyle.verticalCornerRadius;if(_s>0||Fs>0){const Zs=`calc(${_s}px * var(--scale-factor)) / calc(${Fs}px * var(--scale-factor))`;yt.style.borderRadius=Zs}else if(this instanceof le){const Zs=`calc(${rs}px * var(--scale-factor)) / calc(${Ps}px * var(--scale-factor))`;yt.style.borderRadius=Zs}switch(Ie.borderStyle.style){case A.AnnotationBorderStyleType.SOLID:yt.style.borderStyle="solid";break;case A.AnnotationBorderStyleType.DASHED:yt.style.borderStyle="dashed";break;case A.AnnotationBorderStyleType.BEVELED:(0,A.warn)("Unimplemented border style: beveled");break;case A.AnnotationBorderStyleType.INSET:(0,A.warn)("Unimplemented border style: inset");break;case A.AnnotationBorderStyleType.UNDERLINE:yt.style.borderBottomStyle="solid";break}const qs=Ie.borderColor||null;qs?(Ge(this,ye,!0),yt.style.borderColor=A.Util.makeHexColor(qs[0]|0,qs[1]|0,qs[2]|0)):yt.style.borderWidth=0}yt.style.left=`${100*(ds[0]-hs)/Tt}%`,yt.style.top=`${100*(ds[1]-us)/Lt}%`;const{rotation:gs}=Ie;return Ie.hasOwnCanvas||gs===0?(yt.style.width=`${100*rs/Tt}%`,yt.style.height=`${100*Ps/Lt}%`):this.setRotation(gs,yt),yt}setRotation(Be,Ie=this.container){if(!this.data.rect)return;const{pageWidth:Ze,pageHeight:vt}=this.parent.viewport.rawDims,{width:yt,height:Tt}=Y(this.data.rect);let Lt,hs;Be%180===0?(Lt=100*yt/Ze,hs=100*Tt/vt):(Lt=100*Tt/Ze,hs=100*yt/vt),Ie.style.width=`${Lt}%`,Ie.style.height=`${hs}%`,Ie.setAttribute("data-main-rotation",(360-Be)%360)}get _commonActions(){const Be=(Ie,Ze,vt)=>{const yt=vt.detail[Ie],Tt=yt[0],Lt=yt.slice(1);vt.target.style[Ze]=B.ColorConverters[`${Tt}_HTML`](Lt),this.annotationStorage.setValue(this.data.id,{[Ze]:B.ColorConverters[`${Tt}_rgb`](Lt)})};return(0,A.shadow)(this,"_commonActions",{display:Ie=>{const{display:Ze}=Ie.detail,vt=Ze%2===1;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:vt,noPrint:Ze===1||Ze===2})},print:Ie=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Ie.detail.print})},hidden:Ie=>{const{hidden:Ze}=Ie.detail;this.container.style.visibility=Ze?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ze,noView:Ze})},focus:Ie=>{setTimeout(()=>Ie.target.focus({preventScroll:!1}),0)},userName:Ie=>{Ie.target.title=Ie.detail.userName},readonly:Ie=>{Ie.target.disabled=Ie.detail.readonly},required:Ie=>{this._setRequired(Ie.target,Ie.detail.required)},bgColor:Ie=>{Be("bgColor","backgroundColor",Ie)},fillColor:Ie=>{Be("fillColor","backgroundColor",Ie)},fgColor:Ie=>{Be("fgColor","color",Ie)},textColor:Ie=>{Be("textColor","color",Ie)},borderColor:Ie=>{Be("borderColor","borderColor",Ie)},strokeColor:Ie=>{Be("strokeColor","borderColor",Ie)},rotation:Ie=>{const Ze=Ie.detail.rotation;this.setRotation(Ze),this.annotationStorage.setValue(this.data.id,{rotation:Ze})}})}_dispatchEventFromSandbox(Be,Ie){const Ze=this._commonActions;for(const vt of Object.keys(Ie.detail)){const yt=Be[vt]||Ze[vt];yt==null||yt(Ie)}}_setDefaultPropertiesFromJS(Be){if(!this.enableScripting)return;const Ie=this.annotationStorage.getRawValue(this.data.id);if(!Ie)return;const Ze=this._commonActions;for(const[vt,yt]of Object.entries(Ie)){const Tt=Ze[vt];if(Tt){const Lt={detail:{[vt]:yt},target:Be};Tt(Lt),delete Ie[vt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Be}=this.data;if(!Be)return;const[Ie,Ze,vt,yt]=this.data.rect;if(Be.length===1){const[,{x:Fs,y:qs},{x:Zs,y:En}]=Be[0];if(vt===Fs&&yt===qs&&Ie===Zs&&Ze===En)return}const{style:Tt}=this.container;let Lt;if(G(this,ye)){const{borderColor:Fs,borderWidth:qs}=Tt;Tt.borderWidth=0,Lt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Fs}" stroke-width="${qs}">`],this.container.classList.add("hasBorder")}const hs=vt-Ie,us=yt-Ze,{svgFactory:rs}=this,Ps=rs.createElement("svg");Ps.classList.add("quadrilateralsContainer"),Ps.setAttribute("width",0),Ps.setAttribute("height",0);const ds=rs.createElement("defs");Ps.append(ds);const gs=rs.createElement("clipPath"),_s=`clippath_${this.data.id}`;gs.setAttribute("id",_s),gs.setAttribute("clipPathUnits","objectBoundingBox"),ds.append(gs);for(const[,{x:Fs,y:qs},{x:Zs,y:En}]of Be){const pn=rs.createElement("rect"),$n=(Zs-Ie)/hs,Un=(yt-qs)/us,Hn=(Fs-Zs)/hs,oi=(qs-En)/us;pn.setAttribute("x",$n),pn.setAttribute("y",Un),pn.setAttribute("width",Hn),pn.setAttribute("height",oi),gs.append(pn),Lt==null||Lt.push(`<rect vector-effect="non-scaling-stroke" x="${$n}" y="${Un}" width="${Hn}" height="${oi}"/>`)}G(this,ye)&&(Lt.push("</g></svg>')"),Tt.backgroundImage=Lt.join("")),this.container.append(Ps),this.container.style.clipPath=`url(#${_s})`}_createPopup(){const{container:Be,data:Ie}=this;Be.setAttribute("aria-haspopup","dialog");const Ze=new fe({data:{color:Ie.color,titleObj:Ie.titleObj,modificationDate:Ie.modificationDate,contentsObj:Ie.contentsObj,richText:Ie.richText,parentRect:Ie.rect,borderStyle:0,id:`popup_${Ie.id}`,rotation:Ie.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ze.render())}render(){(0,A.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Be,Ie=null){const Ze=[];if(this._fieldObjects){const vt=this._fieldObjects[Be];if(vt)for(const{page:yt,id:Tt,exportValues:Lt}of vt){if(yt===-1||Tt===Ie)continue;const hs=typeof Lt=="string"?Lt:null,us=document.querySelector(`[data-element-id="${Tt}"]`);if(us&&!K.has(us)){(0,A.warn)(`_getElementsByName - element not allowed: ${Tt}`);continue}Ze.push({id:Tt,exportValue:hs,domElement:us})}return Ze}for(const vt of document.getElementsByName(Be)){const{exportValue:yt}=vt,Tt=vt.getAttribute("data-element-id");Tt!==Ie&&K.has(vt)&&Ze.push({id:Tt,exportValue:yt,domElement:vt})}return Ze}show(){var Be;this.container&&(this.container.hidden=!1),(Be=this.popup)==null||Be.maybeShow()}hide(){var Be;this.container&&(this.container.hidden=!0),(Be=this.popup)==null||Be.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Be=this.getElementsToTriggerPopup();if(Array.isArray(Be))for(const Ie of Be)Ie.classList.add("highlightArea");else Be.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Be,data:{id:Ie}}=this;this.container.addEventListener("dblclick",()=>{var Ze;(Ze=this.linkService.eventBus)==null||Ze.dispatch("switchannotationeditormode",{source:this,mode:Be,editId:Ie})})}};ye=new WeakMap;let Q=Ne;class ie extends Q{constructor(Ie,Ze=null){super(Ie,{isRenderable:!0,ignoreBorder:!!(Ze!=null&&Ze.ignoreBorder),createQuadrilaterals:!0});Ye(this,Fe);this.isTooltipOnly=Ie.data.isTooltipOnly}render(){const{data:Ie,linkService:Ze}=this,vt=document.createElement("a");vt.setAttribute("data-element-id",Ie.id);let yt=!1;return Ie.url?(Ze.addLinkAttributes(vt,Ie.url,Ie.newWindow),yt=!0):Ie.action?(this._bindNamedAction(vt,Ie.action),yt=!0):Ie.attachment?(this._bindAttachment(vt,Ie.attachment),yt=!0):Ie.setOCGState?(Ve(this,Fe,Ro).call(this,vt,Ie.setOCGState),yt=!0):Ie.dest?(this._bindLink(vt,Ie.dest),yt=!0):(Ie.actions&&(Ie.actions.Action||Ie.actions["Mouse Up"]||Ie.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(vt,Ie),yt=!0),Ie.resetForm?(this._bindResetFormAction(vt,Ie.resetForm),yt=!0):this.isTooltipOnly&&!yt&&(this._bindLink(vt,""),yt=!0)),this.container.classList.add("linkAnnotation"),yt&&this.container.append(vt),this.container}_bindLink(Ie,Ze){Ie.href=this.linkService.getDestinationHash(Ze),Ie.onclick=()=>(Ze&&this.linkService.goToDestination(Ze),!1),(Ze||Ze==="")&&Ve(this,Fe,vr).call(this)}_bindNamedAction(Ie,Ze){Ie.href=this.linkService.getAnchorUrl(""),Ie.onclick=()=>(this.linkService.executeNamedAction(Ze),!1),Ve(this,Fe,vr).call(this)}_bindAttachment(Ie,Ze){Ie.href=this.linkService.getAnchorUrl(""),Ie.onclick=()=>{var vt;return(vt=this.downloadManager)==null||vt.openOrDownloadData(this.container,Ze.content,Ze.filename),!1},Ve(this,Fe,vr).call(this)}_bindJSAction(Ie,Ze){Ie.href=this.linkService.getAnchorUrl("");const vt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const yt of Object.keys(Ze.actions)){const Tt=vt.get(yt);Tt&&(Ie[Tt]=()=>{var Lt;return(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ze.id,name:yt}}),!1})}Ie.onclick||(Ie.onclick=()=>!1),Ve(this,Fe,vr).call(this)}_bindResetFormAction(Ie,Ze){const vt=Ie.onclick;if(vt||(Ie.href=this.linkService.getAnchorUrl("")),Ve(this,Fe,vr).call(this),!this._fieldObjects){(0,A.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),vt||(Ie.onclick=()=>!1);return}Ie.onclick=()=>{var Ps;vt==null||vt();const{fields:yt,refs:Tt,include:Lt}=Ze,hs=[];if(yt.length!==0||Tt.length!==0){const ds=new Set(Tt);for(const gs of yt){const _s=this._fieldObjects[gs]||[];for(const{id:Fs}of _s)ds.add(Fs)}for(const gs of Object.values(this._fieldObjects))for(const _s of gs)ds.has(_s.id)===Lt&&hs.push(_s)}else for(const ds of Object.values(this._fieldObjects))hs.push(...ds);const us=this.annotationStorage,rs=[];for(const ds of hs){const{id:gs}=ds;switch(rs.push(gs),ds.type){case"text":{const Fs=ds.defaultValue||"";us.setValue(gs,{value:Fs});break}case"checkbox":case"radiobutton":{const Fs=ds.defaultValue===ds.exportValues;us.setValue(gs,{value:Fs});break}case"combobox":case"listbox":{const Fs=ds.defaultValue||"";us.setValue(gs,{value:Fs});break}default:continue}const _s=document.querySelector(`[data-element-id="${gs}"]`);if(_s){if(!K.has(_s)){(0,A.warn)(`_bindResetFormAction - element not allowed: ${gs}`);continue}}else continue;_s.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ps=this.linkService.eventBus)==null||Ps.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:rs,name:"ResetForm"}})),!1}}}Fe=new WeakSet,vr=function(){this.container.setAttribute("data-internal-link","")},Ro=function(Ie,Ze){Ie.href=this.linkService.getAnchorUrl(""),Ie.onclick=()=>(this.linkService.executeSetOCGState(Ze),!1),Ve(this,Fe,vr).call(this)};class J extends Q{constructor(Be){super(Be,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Be=document.createElement("img");return Be.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Be.alt="[{{type}} Annotation]",Be.dataset.l10nId="text_annotation_type",Be.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Be),this.container}}class ce extends Q{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Be){var Ie;this.data.hasOwnCanvas&&(((Ie=Be.previousSibling)==null?void 0:Ie.nodeName)==="CANVAS"&&(Be.previousSibling.hidden=!0),Be.hidden=!1)}_getKeyModifier(Be){const{isWin:Ie,isMac:Ze}=A.FeatureTest.platform;return Ie&&Be.ctrlKey||Ze&&Be.metaKey}_setEventListener(Be,Ie,Ze,vt,yt){Ze.includes("mouse")?Be.addEventListener(Ze,Tt=>{var Lt;(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:vt,value:yt(Tt),shift:Tt.shiftKey,modifier:this._getKeyModifier(Tt)}})}):Be.addEventListener(Ze,Tt=>{var Lt;if(Ze==="blur"){if(!Ie.focused||!Tt.relatedTarget)return;Ie.focused=!1}else if(Ze==="focus"){if(Ie.focused)return;Ie.focused=!0}yt&&((Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:vt,value:yt(Tt)}}))})}_setEventListeners(Be,Ie,Ze,vt){var yt,Tt,Lt;for(const[hs,us]of Ze)(us==="Action"||(yt=this.data.actions)!=null&&yt[us])&&((us==="Focus"||us==="Blur")&&(Ie||(Ie={focused:!1})),this._setEventListener(Be,Ie,hs,us,vt),us==="Focus"&&!((Tt=this.data.actions)!=null&&Tt.Blur)?this._setEventListener(Be,Ie,"blur","Blur",null):us==="Blur"&&!((Lt=this.data.actions)!=null&&Lt.Focus)&&this._setEventListener(Be,Ie,"focus","Focus",null))}_setBackgroundColor(Be){const Ie=this.data.backgroundColor||null;Be.style.backgroundColor=Ie===null?"transparent":A.Util.makeHexColor(Ie[0],Ie[1],Ie[2])}_setTextStyle(Be){const Ie=["left","center","right"],{fontColor:Ze}=this.data.defaultAppearanceData,vt=this.data.defaultAppearanceData.fontSize||V,yt=Be.style;let Tt;const Lt=2,hs=us=>Math.round(10*us)/10;if(this.data.multiLine){const us=Math.abs(this.data.rect[3]-this.data.rect[1]-Lt),rs=Math.round(us/(A.LINE_FACTOR*vt))||1,Ps=us/rs;Tt=Math.min(vt,hs(Ps/A.LINE_FACTOR))}else{const us=Math.abs(this.data.rect[3]-this.data.rect[1]-Lt);Tt=Math.min(vt,hs(us/A.LINE_FACTOR))}yt.fontSize=`calc(${Tt}px * var(--scale-factor))`,yt.color=A.Util.makeHexColor(Ze[0],Ze[1],Ze[2]),this.data.textAlignment!==null&&(yt.textAlign=Ie[this.data.textAlignment])}_setRequired(Be,Ie){Ie?Be.setAttribute("required",!0):Be.removeAttribute("required"),Be.setAttribute("aria-required",Ie)}}class ue extends ce{constructor(Be){const Ie=Be.renderForms||!Be.data.hasAppearance&&!!Be.data.fieldValue;super(Be,{isRenderable:Ie})}setPropertyOnSiblings(Be,Ie,Ze,vt){const yt=this.annotationStorage;for(const Tt of this._getElementsByName(Be.name,Be.id))Tt.domElement&&(Tt.domElement[Ie]=Ze),yt.setValue(Tt.id,{[vt]:Ze})}render(){var vt,yt;const Be=this.annotationStorage,Ie=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ze=null;if(this.renderForms){const Tt=Be.getValue(Ie,{value:this.data.fieldValue});let Lt=Tt.value||"";const hs=Be.getValue(Ie,{charLimit:this.data.maxLen}).charLimit;hs&&Lt.length>hs&&(Lt=Lt.slice(0,hs));let us=Tt.formattedValue||((vt=this.data.textContent)==null?void 0:vt.join(`
`))||null;us&&this.data.comb&&(us=us.replaceAll(/\s+/g,""));const rs={userValue:Lt,formattedValue:us,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ze=document.createElement("textarea"),Ze.textContent=us??Lt,this.data.doNotScroll&&(Ze.style.overflowY="hidden")):(Ze=document.createElement("input"),Ze.type="text",Ze.setAttribute("value",us??Lt),this.data.doNotScroll&&(Ze.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ze.hidden=!0),K.add(Ze),Ze.setAttribute("data-element-id",Ie),Ze.disabled=this.data.readOnly,Ze.name=this.data.fieldName,Ze.tabIndex=W,this._setRequired(Ze,this.data.required),hs&&(Ze.maxLength=hs),Ze.addEventListener("input",ds=>{Be.setValue(Ie,{value:ds.target.value}),this.setPropertyOnSiblings(Ze,"value",ds.target.value,"value"),rs.formattedValue=null}),Ze.addEventListener("resetform",ds=>{const gs=this.data.defaultFieldValue??"";Ze.value=rs.userValue=gs,rs.formattedValue=null});let Ps=ds=>{const{formattedValue:gs}=rs;gs!=null&&(ds.target.value=gs),ds.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ze.addEventListener("focus",gs=>{if(rs.focused)return;const{target:_s}=gs;rs.userValue&&(_s.value=rs.userValue),rs.lastCommittedValue=_s.value,rs.commitKey=1,rs.focused=!0}),Ze.addEventListener("updatefromsandbox",gs=>{this.showElementAndHideCanvas(gs.target);const _s={value(Fs){rs.userValue=Fs.detail.value??"",Be.setValue(Ie,{value:rs.userValue.toString()}),Fs.target.value=rs.userValue},formattedValue(Fs){const{formattedValue:qs}=Fs.detail;rs.formattedValue=qs,qs!=null&&Fs.target!==document.activeElement&&(Fs.target.value=qs),Be.setValue(Ie,{formattedValue:qs})},selRange(Fs){Fs.target.setSelectionRange(...Fs.detail.selRange)},charLimit:Fs=>{var pn;const{charLimit:qs}=Fs.detail,{target:Zs}=Fs;if(qs===0){Zs.removeAttribute("maxLength");return}Zs.setAttribute("maxLength",qs);let En=rs.userValue;!En||En.length<=qs||(En=En.slice(0,qs),Zs.value=rs.userValue=En,Be.setValue(Ie,{value:En}),(pn=this.linkService.eventBus)==null||pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ie,name:"Keystroke",value:En,willCommit:!0,commitKey:1,selStart:Zs.selectionStart,selEnd:Zs.selectionEnd}}))}};this._dispatchEventFromSandbox(_s,gs)}),Ze.addEventListener("keydown",gs=>{var qs;rs.commitKey=1;let _s=-1;if(gs.key==="Escape"?_s=0:gs.key==="Enter"&&!this.data.multiLine?_s=2:gs.key==="Tab"&&(rs.commitKey=3),_s===-1)return;const{value:Fs}=gs.target;rs.lastCommittedValue!==Fs&&(rs.lastCommittedValue=Fs,rs.userValue=Fs,(qs=this.linkService.eventBus)==null||qs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ie,name:"Keystroke",value:Fs,willCommit:!0,commitKey:_s,selStart:gs.target.selectionStart,selEnd:gs.target.selectionEnd}}))});const ds=Ps;Ps=null,Ze.addEventListener("blur",gs=>{var Fs;if(!rs.focused||!gs.relatedTarget)return;rs.focused=!1;const{value:_s}=gs.target;rs.userValue=_s,rs.lastCommittedValue!==_s&&((Fs=this.linkService.eventBus)==null||Fs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ie,name:"Keystroke",value:_s,willCommit:!0,commitKey:rs.commitKey,selStart:gs.target.selectionStart,selEnd:gs.target.selectionEnd}})),ds(gs)}),(yt=this.data.actions)!=null&&yt.Keystroke&&Ze.addEventListener("beforeinput",gs=>{var Un;rs.lastCommittedValue=null;const{data:_s,target:Fs}=gs,{value:qs,selectionStart:Zs,selectionEnd:En}=Fs;let pn=Zs,$n=En;switch(gs.inputType){case"deleteWordBackward":{const Hn=qs.substring(0,Zs).match(/\w*[^\w]*$/);Hn&&(pn-=Hn[0].length);break}case"deleteWordForward":{const Hn=qs.substring(Zs).match(/^[^\w]*\w*/);Hn&&($n+=Hn[0].length);break}case"deleteContentBackward":Zs===En&&(pn-=1);break;case"deleteContentForward":Zs===En&&($n+=1);break}gs.preventDefault(),(Un=this.linkService.eventBus)==null||Un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ie,name:"Keystroke",value:qs,change:_s||"",willCommit:!1,selStart:pn,selEnd:$n}})}),this._setEventListeners(Ze,rs,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],gs=>gs.target.value)}if(Ps&&Ze.addEventListener("blur",Ps),this.data.comb){const gs=(this.data.rect[2]-this.data.rect[0])/hs;Ze.classList.add("comb"),Ze.style.letterSpacing=`calc(${gs}px * var(--scale-factor) - 1ch)`}}else Ze=document.createElement("div"),Ze.textContent=this.data.fieldValue,Ze.style.verticalAlign="middle",Ze.style.display="table-cell";return this._setTextStyle(Ze),this._setBackgroundColor(Ze),this._setDefaultPropertiesFromJS(Ze),this.container.append(Ze),this.container}}class Ee extends ce{constructor(Be){super(Be,{isRenderable:!!Be.data.hasOwnCanvas})}}class ge extends ce{constructor(Be){super(Be,{isRenderable:Be.renderForms})}render(){const Be=this.annotationStorage,Ie=this.data,Ze=Ie.id;let vt=Be.getValue(Ze,{value:Ie.exportValue===Ie.fieldValue}).value;typeof vt=="string"&&(vt=vt!=="Off",Be.setValue(Ze,{value:vt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const yt=document.createElement("input");return K.add(yt),yt.setAttribute("data-element-id",Ze),yt.disabled=Ie.readOnly,this._setRequired(yt,this.data.required),yt.type="checkbox",yt.name=Ie.fieldName,vt&&yt.setAttribute("checked",!0),yt.setAttribute("exportValue",Ie.exportValue),yt.tabIndex=W,yt.addEventListener("change",Tt=>{const{name:Lt,checked:hs}=Tt.target;for(const us of this._getElementsByName(Lt,Ze)){const rs=hs&&us.exportValue===Ie.exportValue;us.domElement&&(us.domElement.checked=rs),Be.setValue(us.id,{value:rs})}Be.setValue(Ze,{value:hs})}),yt.addEventListener("resetform",Tt=>{const Lt=Ie.defaultFieldValue||"Off";Tt.target.checked=Lt===Ie.exportValue}),this.enableScripting&&this.hasJSActions&&(yt.addEventListener("updatefromsandbox",Tt=>{const Lt={value(hs){hs.target.checked=hs.detail.value!=="Off",Be.setValue(Ze,{value:hs.target.checked})}};this._dispatchEventFromSandbox(Lt,Tt)}),this._setEventListeners(yt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Tt=>Tt.target.checked)),this._setBackgroundColor(yt),this._setDefaultPropertiesFromJS(yt),this.container.append(yt),this.container}}class le extends ce{constructor(Be){super(Be,{isRenderable:Be.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Be=this.annotationStorage,Ie=this.data,Ze=Ie.id;let vt=Be.getValue(Ze,{value:Ie.fieldValue===Ie.buttonValue}).value;typeof vt=="string"&&(vt=vt!==Ie.buttonValue,Be.setValue(Ze,{value:vt}));const yt=document.createElement("input");if(K.add(yt),yt.setAttribute("data-element-id",Ze),yt.disabled=Ie.readOnly,this._setRequired(yt,this.data.required),yt.type="radio",yt.name=Ie.fieldName,vt&&yt.setAttribute("checked",!0),yt.tabIndex=W,yt.addEventListener("change",Tt=>{const{name:Lt,checked:hs}=Tt.target;for(const us of this._getElementsByName(Lt,Ze))Be.setValue(us.id,{value:!1});Be.setValue(Ze,{value:hs})}),yt.addEventListener("resetform",Tt=>{const Lt=Ie.defaultFieldValue;Tt.target.checked=Lt!=null&&Lt===Ie.buttonValue}),this.enableScripting&&this.hasJSActions){const Tt=Ie.buttonValue;yt.addEventListener("updatefromsandbox",Lt=>{const hs={value:us=>{const rs=Tt===us.detail.value;for(const Ps of this._getElementsByName(us.target.name)){const ds=rs&&Ps.id===Ze;Ps.domElement&&(Ps.domElement.checked=ds),Be.setValue(Ps.id,{value:ds})}}};this._dispatchEventFromSandbox(hs,Lt)}),this._setEventListeners(yt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Lt=>Lt.target.checked)}return this._setBackgroundColor(yt),this._setDefaultPropertiesFromJS(yt),this.container.append(yt),this.container}}class ve extends ie{constructor(Be){super(Be,{ignoreBorder:Be.data.hasAppearance})}render(){const Be=super.render();Be.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Be.title=this.data.alternativeText);const Ie=Be.lastChild;return this.enableScripting&&this.hasJSActions&&Ie&&(this._setDefaultPropertiesFromJS(Ie),Ie.addEventListener("updatefromsandbox",Ze=>{this._dispatchEventFromSandbox({},Ze)})),Be}}class he extends ce{constructor(Be){super(Be,{isRenderable:Be.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Be=this.annotationStorage,Ie=this.data.id,Ze=Be.getValue(Ie,{value:this.data.fieldValue}),vt=document.createElement("select");K.add(vt),vt.setAttribute("data-element-id",Ie),vt.disabled=this.data.readOnly,this._setRequired(vt,this.data.required),vt.name=this.data.fieldName,vt.tabIndex=W;let yt=this.data.combo&&this.data.options.length>0;this.data.combo||(vt.size=this.data.options.length,this.data.multiSelect&&(vt.multiple=!0)),vt.addEventListener("resetform",rs=>{const Ps=this.data.defaultFieldValue;for(const ds of vt.options)ds.selected=ds.value===Ps});for(const rs of this.data.options){const Ps=document.createElement("option");Ps.textContent=rs.displayValue,Ps.value=rs.exportValue,Ze.value.includes(rs.exportValue)&&(Ps.setAttribute("selected",!0),yt=!1),vt.append(Ps)}let Tt=null;if(yt){const rs=document.createElement("option");rs.value=" ",rs.setAttribute("hidden",!0),rs.setAttribute("selected",!0),vt.prepend(rs),Tt=()=>{rs.remove(),vt.removeEventListener("input",Tt),Tt=null},vt.addEventListener("input",Tt)}const Lt=rs=>{const Ps=rs?"value":"textContent",{options:ds,multiple:gs}=vt;return gs?Array.prototype.filter.call(ds,_s=>_s.selected).map(_s=>_s[Ps]):ds.selectedIndex===-1?null:ds[ds.selectedIndex][Ps]};let hs=Lt(!1);const us=rs=>{const Ps=rs.target.options;return Array.prototype.map.call(Ps,ds=>({displayValue:ds.textContent,exportValue:ds.value}))};return this.enableScripting&&this.hasJSActions?(vt.addEventListener("updatefromsandbox",rs=>{const Ps={value(ds){Tt==null||Tt();const gs=ds.detail.value,_s=new Set(Array.isArray(gs)?gs:[gs]);for(const Fs of vt.options)Fs.selected=_s.has(Fs.value);Be.setValue(Ie,{value:Lt(!0)}),hs=Lt(!1)},multipleSelection(ds){vt.multiple=!0},remove(ds){const gs=vt.options,_s=ds.detail.remove;gs[_s].selected=!1,vt.remove(_s),gs.length>0&&Array.prototype.findIndex.call(gs,qs=>qs.selected)===-1&&(gs[0].selected=!0),Be.setValue(Ie,{value:Lt(!0),items:us(ds)}),hs=Lt(!1)},clear(ds){for(;vt.length!==0;)vt.remove(0);Be.setValue(Ie,{value:null,items:[]}),hs=Lt(!1)},insert(ds){const{index:gs,displayValue:_s,exportValue:Fs}=ds.detail.insert,qs=vt.children[gs],Zs=document.createElement("option");Zs.textContent=_s,Zs.value=Fs,qs?qs.before(Zs):vt.append(Zs),Be.setValue(Ie,{value:Lt(!0),items:us(ds)}),hs=Lt(!1)},items(ds){const{items:gs}=ds.detail;for(;vt.length!==0;)vt.remove(0);for(const _s of gs){const{displayValue:Fs,exportValue:qs}=_s,Zs=document.createElement("option");Zs.textContent=Fs,Zs.value=qs,vt.append(Zs)}vt.options.length>0&&(vt.options[0].selected=!0),Be.setValue(Ie,{value:Lt(!0),items:us(ds)}),hs=Lt(!1)},indices(ds){const gs=new Set(ds.detail.indices);for(const _s of ds.target.options)_s.selected=gs.has(_s.index);Be.setValue(Ie,{value:Lt(!0)}),hs=Lt(!1)},editable(ds){ds.target.disabled=!ds.detail.editable}};this._dispatchEventFromSandbox(Ps,rs)}),vt.addEventListener("input",rs=>{var ds;const Ps=Lt(!0);Be.setValue(Ie,{value:Ps}),rs.preventDefault(),(ds=this.linkService.eventBus)==null||ds.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ie,name:"Keystroke",value:hs,changeEx:Ps,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(vt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],rs=>rs.target.value)):vt.addEventListener("input",function(rs){Be.setValue(Ie,{value:Lt(!0)})}),this.data.combo&&this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class fe extends Q{constructor(Be){const{data:Ie,elements:Ze}=Be;super(Be,{isRenderable:Q._hasPopupData(Ie)}),this.elements=Ze}render(){this.container.classList.add("popupAnnotation");const Be=new be({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Ie=[];for(const Ze of this.elements)Ze.popup=Be,Ie.push(Ze.data.id),Ze.addHighlightArea();return this.container.setAttribute("aria-controls",Ie.map(Ze=>`${A.AnnotationPrefix}${Ze}`).join(",")),this.container}}class be{constructor({container:Be,color:Ie,elements:Ze,titleObj:vt,modificationDate:yt,contentsObj:Tt,richText:Lt,parent:hs,rect:us,parentRect:rs,open:Ps}){Ye(this,Bt);Ye(this,rt,null);Ye(this,gt,Ve(this,Bt,_o).bind(this));Ye(this,xt,Ve(this,Bt,ya).bind(this));Ye(this,Et,Ve(this,Bt,ba).bind(this));Ye(this,jt,Ve(this,Bt,ji).bind(this));Ye(this,At,null);Ye(this,nt,null);Ye(this,lt,null);Ye(this,_e,null);Ye(this,ke,null);Ye(this,Je,null);Ye(this,it,!1);Ye(this,mt,null);Ye(this,Rt,null);Ye(this,wt,null);Ye(this,et,null);Ye(this,zt,!1);var gs;Ge(this,nt,Be),Ge(this,et,vt),Ge(this,lt,Tt),Ge(this,wt,Lt),Ge(this,ke,hs),Ge(this,At,Ie),Ge(this,Rt,us),Ge(this,Je,rs),Ge(this,_e,Ze);const ds=$.PDFDateString.toDateObject(yt);ds&&Ge(this,rt,hs.l10n.get("annotation_date_string",{date:ds.toLocaleDateString(),time:ds.toLocaleTimeString()})),this.trigger=Ze.flatMap(_s=>_s.getElementsToTriggerPopup());for(const _s of this.trigger)_s.addEventListener("click",G(this,jt)),_s.addEventListener("mouseenter",G(this,Et)),_s.addEventListener("mouseleave",G(this,xt)),_s.classList.add("popupTriggerArea");for(const _s of Ze)(gs=_s.container)==null||gs.addEventListener("keydown",G(this,gt));G(this,nt).hidden=!0,Ps&&Ve(this,Bt,ji).call(this)}render(){if(G(this,mt))return;const{page:{view:Be},viewport:{rawDims:{pageWidth:Ie,pageHeight:Ze,pageX:vt,pageY:yt}}}=G(this,ke),Tt=Ge(this,mt,document.createElement("div"));if(Tt.className="popup",G(this,At)){const pn=Tt.style.outlineColor=A.Util.makeHexColor(...G(this,At));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Tt.style.backgroundColor=`color-mix(in srgb, ${pn} 30%, white)`:Tt.style.backgroundColor=A.Util.makeHexColor(...G(this,At).map(Un=>Math.floor(.7*(255-Un)+Un)))}const Lt=document.createElement("span");Lt.className="header";const hs=document.createElement("h1");if(Lt.append(hs),{dir:hs.dir,str:hs.textContent}=G(this,et),Tt.append(Lt),G(this,rt)){const pn=document.createElement("span");pn.classList.add("popupDate"),G(this,rt).then($n=>{pn.textContent=$n}),Lt.append(pn)}const us=G(this,lt),rs=G(this,wt);if(rs!=null&&rs.str&&(!(us!=null&&us.str)||us.str===rs.str))H.XfaLayer.render({xfaHtml:rs.html,intent:"richText",div:Tt}),Tt.lastChild.classList.add("richText","popupContent");else{const pn=this._formatContents(us);Tt.append(pn)}let Ps=!!G(this,Je),ds=Ps?G(this,Je):G(this,Rt);for(const pn of G(this,_e))if(!ds||A.Util.intersect(pn.data.rect,ds)!==null){ds=pn.data.rect,Ps=!0;break}const gs=A.Util.normalizeRect([ds[0],Be[3]-ds[1]+Be[1],ds[2],Be[3]-ds[3]+Be[1]]),Fs=Ps?ds[2]-ds[0]+5:0,qs=gs[0]+Fs,Zs=gs[1],{style:En}=G(this,nt);En.left=`${100*(qs-vt)/Ie}%`,En.top=`${100*(Zs-yt)/Ze}%`,G(this,nt).append(Tt)}_formatContents({str:Be,dir:Ie}){const Ze=document.createElement("p");Ze.classList.add("popupContent"),Ze.dir=Ie;const vt=Be.split(/(?:\r\n?|\n)/);for(let yt=0,Tt=vt.length;yt<Tt;++yt){const Lt=vt[yt];Ze.append(document.createTextNode(Lt)),yt<Tt-1&&Ze.append(document.createElement("br"))}return Ze}forceHide(){Ge(this,zt,this.isVisible),G(this,zt)&&(G(this,nt).hidden=!0)}maybeShow(){G(this,zt)&&(Ge(this,zt,!1),G(this,nt).hidden=!1)}get isVisible(){return G(this,nt).hidden===!1}}rt=new WeakMap,gt=new WeakMap,xt=new WeakMap,Et=new WeakMap,jt=new WeakMap,At=new WeakMap,nt=new WeakMap,lt=new WeakMap,_e=new WeakMap,ke=new WeakMap,Je=new WeakMap,it=new WeakMap,mt=new WeakMap,Rt=new WeakMap,wt=new WeakMap,et=new WeakMap,zt=new WeakMap,Bt=new WeakSet,_o=function(Be){Be.altKey||Be.shiftKey||Be.ctrlKey||Be.metaKey||(Be.key==="Enter"||Be.key==="Escape"&&G(this,it))&&Ve(this,Bt,ji).call(this)},ji=function(){Ge(this,it,!G(this,it)),G(this,it)?(Ve(this,Bt,ba).call(this),G(this,nt).addEventListener("click",G(this,jt)),G(this,nt).addEventListener("keydown",G(this,gt))):(Ve(this,Bt,ya).call(this),G(this,nt).removeEventListener("click",G(this,jt)),G(this,nt).removeEventListener("keydown",G(this,gt)))},ba=function(){G(this,mt)||this.render(),this.isVisible?G(this,it)&&G(this,nt).classList.add("focused"):(G(this,nt).hidden=!1,G(this,nt).style.zIndex=parseInt(G(this,nt).style.zIndex)+1e3)},ya=function(){G(this,nt).classList.remove("focused"),!(G(this,it)||!this.isVisible)&&(G(this,nt).hidden=!0,G(this,nt).style.zIndex=parseInt(G(this,nt).style.zIndex)-1e3)};class Ae extends Q{constructor(Be){super(Be,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Be.data.textContent,this.textPosition=Be.data.textPosition,this.annotationEditorType=A.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Be=document.createElement("div");Be.classList.add("annotationTextContent"),Be.setAttribute("role","comment");for(const Ie of this.textContent){const Ze=document.createElement("span");Ze.textContent=Ie,Be.append(Ze)}this.container.append(Be)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}w.FreeTextAnnotationElement=Ae;class xe extends Q{constructor(Ie){super(Ie,{isRenderable:!0,ignoreBorder:!0});Ye(this,fs,null)}render(){this.container.classList.add("lineAnnotation");const Ie=this.data,{width:Ze,height:vt}=Y(Ie.rect),yt=this.svgFactory.create(Ze,vt,!0),Tt=Ge(this,fs,this.svgFactory.createElement("svg:line"));return Tt.setAttribute("x1",Ie.rect[2]-Ie.lineCoordinates[0]),Tt.setAttribute("y1",Ie.rect[3]-Ie.lineCoordinates[1]),Tt.setAttribute("x2",Ie.rect[2]-Ie.lineCoordinates[2]),Tt.setAttribute("y2",Ie.rect[3]-Ie.lineCoordinates[3]),Tt.setAttribute("stroke-width",Ie.borderStyle.width||1),Tt.setAttribute("stroke","transparent"),Tt.setAttribute("fill","transparent"),yt.append(Tt),this.container.append(yt),!Ie.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return G(this,fs)}addHighlightArea(){this.container.classList.add("highlightArea")}}fs=new WeakMap;class we extends Q{constructor(Ie){super(Ie,{isRenderable:!0,ignoreBorder:!0});Ye(this,As,null)}render(){this.container.classList.add("squareAnnotation");const Ie=this.data,{width:Ze,height:vt}=Y(Ie.rect),yt=this.svgFactory.create(Ze,vt,!0),Tt=Ie.borderStyle.width,Lt=Ge(this,As,this.svgFactory.createElement("svg:rect"));return Lt.setAttribute("x",Tt/2),Lt.setAttribute("y",Tt/2),Lt.setAttribute("width",Ze-Tt),Lt.setAttribute("height",vt-Tt),Lt.setAttribute("stroke-width",Tt||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),yt.append(Lt),this.container.append(yt),!Ie.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return G(this,As)}addHighlightArea(){this.container.classList.add("highlightArea")}}As=new WeakMap;class Me extends Q{constructor(Ie){super(Ie,{isRenderable:!0,ignoreBorder:!0});Ye(this,Hs,null)}render(){this.container.classList.add("circleAnnotation");const Ie=this.data,{width:Ze,height:vt}=Y(Ie.rect),yt=this.svgFactory.create(Ze,vt,!0),Tt=Ie.borderStyle.width,Lt=Ge(this,Hs,this.svgFactory.createElement("svg:ellipse"));return Lt.setAttribute("cx",Ze/2),Lt.setAttribute("cy",vt/2),Lt.setAttribute("rx",Ze/2-Tt/2),Lt.setAttribute("ry",vt/2-Tt/2),Lt.setAttribute("stroke-width",Tt||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),yt.append(Lt),this.container.append(yt),!Ie.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return G(this,Hs)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hs=new WeakMap;class Pe extends Q{constructor(Ie){super(Ie,{isRenderable:!0,ignoreBorder:!0});Ye(this,St,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Ie=this.data,{width:Ze,height:vt}=Y(Ie.rect),yt=this.svgFactory.create(Ze,vt,!0);let Tt=[];for(const hs of Ie.vertices){const us=hs.x-Ie.rect[0],rs=Ie.rect[3]-hs.y;Tt.push(us+","+rs)}Tt=Tt.join(" ");const Lt=Ge(this,St,this.svgFactory.createElement(this.svgElementName));return Lt.setAttribute("points",Tt),Lt.setAttribute("stroke-width",Ie.borderStyle.width||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),yt.append(Lt),this.container.append(yt),!Ie.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return G(this,St)}addHighlightArea(){this.container.classList.add("highlightArea")}}St=new WeakMap;class Se extends Pe{constructor(Be){super(Be),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Le extends Q{constructor(Be){super(Be,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class $e extends Q{constructor(Ie){super(Ie,{isRenderable:!0,ignoreBorder:!0});Ye(this,st,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=A.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Ie=this.data,{width:Ze,height:vt}=Y(Ie.rect),yt=this.svgFactory.create(Ze,vt,!0);for(const Tt of Ie.inkLists){let Lt=[];for(const us of Tt){const rs=us.x-Ie.rect[0],Ps=Ie.rect[3]-us.y;Lt.push(`${rs},${Ps}`)}Lt=Lt.join(" ");const hs=this.svgFactory.createElement(this.svgElementName);G(this,st).push(hs),hs.setAttribute("points",Lt),hs.setAttribute("stroke-width",Ie.borderStyle.width||1),hs.setAttribute("stroke","transparent"),hs.setAttribute("fill","transparent"),!Ie.popupRef&&this.hasPopupData&&this._createPopup(),yt.append(hs)}return this.container.append(yt),this.container}getElementsToTriggerPopup(){return G(this,st)}addHighlightArea(){this.container.classList.add("highlightArea")}}st=new WeakMap,w.InkAnnotationElement=$e;class He extends Q{constructor(Be){super(Be,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class je extends Q{constructor(Be){super(Be,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class De extends Q{constructor(Be){super(Be,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class qe extends Q{constructor(Be){super(Be,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ce extends Q{constructor(Be){super(Be,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}w.StampAnnotationElement=Ce;class de extends Q{constructor(Ie){var yt;super(Ie,{isRenderable:!0});Ye(this,Nt);Ye(this,at,null);const{filename:Ze,content:vt}=this.data.file;this.filename=(0,$.getFilenameFromUrl)(Ze,!0),this.content=vt,(yt=this.linkService.eventBus)==null||yt.dispatch("fileattachmentannotation",{source:this,filename:Ze,content:vt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Ie,data:Ze}=this;let vt;Ze.hasAppearance||Ze.fillAlpha===0?vt=document.createElement("div"):(vt=document.createElement("img"),vt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ze.name)?"paperclip":"pushpin"}.svg`,Ze.fillAlpha&&Ze.fillAlpha<1&&(vt.style=`filter: opacity(${Math.round(Ze.fillAlpha*100)}%);`)),vt.addEventListener("dblclick",Ve(this,Nt,Ea).bind(this)),Ge(this,at,vt);const{isMac:yt}=A.FeatureTest.platform;return Ie.addEventListener("keydown",Tt=>{Tt.key==="Enter"&&(yt?Tt.metaKey:Tt.ctrlKey)&&Ve(this,Nt,Ea).call(this)}),!Ze.popupRef&&this.hasPopupData?this._createPopup():vt.classList.add("popupTriggerArea"),Ie.append(vt),Ie}getElementsToTriggerPopup(){return G(this,at)}addHighlightArea(){this.container.classList.add("highlightArea")}}at=new WeakMap,Nt=new WeakSet,Ea=function(){var Ie;(Ie=this.downloadManager)==null||Ie.openOrDownloadData(this.container,this.content,this.filename)};class me{constructor({div:Be,accessibilityManager:Ie,annotationCanvasMap:Ze,l10n:vt,page:yt,viewport:Tt}){Ye(this,Yt);Ye(this,is,null);Ye(this,ze,null);Ye(this,bt,new Map);this.div=Be,Ge(this,is,Ie),Ge(this,ze,Ze),this.l10n=vt,this.page=yt,this.viewport=Tt,this.zIndex=0,this.l10n||(this.l10n=q.NullL10n)}async render(Be){const{annotations:Ie}=Be,Ze=this.div;(0,$.setLayerDimensions)(Ze,this.viewport);const vt=new Map,yt={data:null,layer:Ze,linkService:Be.linkService,downloadManager:Be.downloadManager,imageResourcesPath:Be.imageResourcesPath||"",renderForms:Be.renderForms!==!1,svgFactory:new $.DOMSVGFactory,annotationStorage:Be.annotationStorage||new O.AnnotationStorage,enableScripting:Be.enableScripting===!0,hasJSActions:Be.hasJSActions,fieldObjects:Be.fieldObjects,parent:this,elements:null};for(const Tt of Ie){if(Tt.noHTML)continue;const Lt=Tt.annotationType===A.AnnotationType.POPUP;if(Lt){const rs=vt.get(Tt.id);if(!rs)continue;yt.elements=rs}else{const{width:rs,height:Ps}=Y(Tt.rect);if(rs<=0||Ps<=0)continue}yt.data=Tt;const hs=re.create(yt);if(!hs.isRenderable)continue;if(!Lt&&Tt.popupRef){const rs=vt.get(Tt.popupRef);rs?rs.push(hs):vt.set(Tt.popupRef,[hs])}hs.annotationEditorType>0&&G(this,bt).set(hs.data.id,hs);const us=hs.render();Tt.hidden&&(us.style.visibility="hidden"),Ve(this,Yt,So).call(this,us,Tt.id)}Ve(this,Yt,wa).call(this),await this.l10n.translate(Ze)}update({viewport:Be}){const Ie=this.div;this.viewport=Be,(0,$.setLayerDimensions)(Ie,{rotation:Be.rotation}),Ve(this,Yt,wa).call(this),Ie.hidden=!1}getEditableAnnotations(){return Array.from(G(this,bt).values())}getEditableAnnotation(Be){return G(this,bt).get(Be)}}is=new WeakMap,ze=new WeakMap,bt=new WeakMap,Yt=new WeakSet,So=function(Be,Ie){var vt;const Ze=Be.firstChild||Be;Ze.id=`${A.AnnotationPrefix}${Ie}`,this.div.append(Be),(vt=G(this,is))==null||vt.moveElementInDOM(this.div,Be,Ze,!1)},wa=function(){if(!G(this,ze))return;const Be=this.div;for(const[Ie,Ze]of G(this,ze)){const vt=Be.querySelector(`[data-annotation-id="${Ie}"]`);if(!vt)continue;const{firstChild:yt}=vt;yt?yt.nodeName==="CANVAS"?yt.replaceWith(Ze):yt.before(Ze):vt.append(Ze)}G(this,ze).clear()},w.AnnotationLayer=me},(R,w)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.ColorConverters=void 0;function _(O){return Math.floor(Math.max(0,Math.min(1,O))*255).toString(16).padStart(2,"0")}function A(O){return Math.max(0,Math.min(255,255*O))}class ${static CMYK_G([B,q,H,W]){return["G",1-Math.min(1,.3*B+.59*H+.11*q+W)]}static G_CMYK([B]){return["CMYK",0,0,0,1-B]}static G_RGB([B]){return["RGB",B,B,B]}static G_rgb([B]){return B=A(B),[B,B,B]}static G_HTML([B]){const q=_(B);return`#${q}${q}${q}`}static RGB_G([B,q,H]){return["G",.3*B+.59*q+.11*H]}static RGB_rgb(B){return B.map(A)}static RGB_HTML(B){return`#${B.map(_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([B,q,H,W]){return["RGB",1-Math.min(1,B+W),1-Math.min(1,H+W),1-Math.min(1,q+W)]}static CMYK_rgb([B,q,H,W]){return[A(1-Math.min(1,B+W)),A(1-Math.min(1,H+W)),A(1-Math.min(1,q+W))]}static CMYK_HTML(B){const q=this.CMYK_RGB(B).slice(1);return this.RGB_HTML(q)}static RGB_CMYK([B,q,H]){const W=1-B,V=1-q,K=1-H,Y=Math.min(W,V,K);return["CMYK",W,V,K,Y]}}w.ColorConverters=$},(R,w)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.NullL10n=void 0,w.getL10nFallback=A;const _={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};_.print_progress_percent="{{progress}}%";function A(B,q){switch(B){case"find_match_count":B=`find_match_count[${q.total===1?"one":"other"}]`;break;case"find_match_count_limit":B=`find_match_count_limit[${q.limit===1?"one":"other"}]`;break}return _[B]||""}function $(B,q){return q?B.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(H,W)=>W in q?q[W]:"{{"+W+"}}"):B}const O={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(B,q=null,H=A(B,q)){return $(H,q)},async translate(B){}};w.NullL10n=O},(R,w,_)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.XfaLayer=void 0;var A=_(25);class ${static setupStorage(B,q,H,W,V){const K=W.getValue(q,{value:null});switch(H.name){case"textarea":if(K.value!==null&&(B.textContent=K.value),V==="print")break;B.addEventListener("input",Y=>{W.setValue(q,{value:Y.target.value})});break;case"input":if(H.attributes.type==="radio"||H.attributes.type==="checkbox"){if(K.value===H.attributes.xfaOn?B.setAttribute("checked",!0):K.value===H.attributes.xfaOff&&B.removeAttribute("checked"),V==="print")break;B.addEventListener("change",Y=>{W.setValue(q,{value:Y.target.checked?Y.target.getAttribute("xfaOn"):Y.target.getAttribute("xfaOff")})})}else{if(K.value!==null&&B.setAttribute("value",K.value),V==="print")break;B.addEventListener("input",Y=>{W.setValue(q,{value:Y.target.value})})}break;case"select":if(K.value!==null){B.setAttribute("value",K.value);for(const Y of H.children)Y.attributes.value===K.value?Y.attributes.selected=!0:Y.attributes.hasOwnProperty("selected")&&delete Y.attributes.selected}B.addEventListener("input",Y=>{const re=Y.target.options,Q=re.selectedIndex===-1?"":re[re.selectedIndex].value;W.setValue(q,{value:Q})});break}}static setAttributes({html:B,element:q,storage:H=null,intent:W,linkService:V}){const{attributes:K}=q,Y=B instanceof HTMLAnchorElement;K.type==="radio"&&(K.name=`${K.name}-${W}`);for(const[re,Q]of Object.entries(K))if(Q!=null)switch(re){case"class":Q.length&&B.setAttribute(re,Q.join(" "));break;case"dataId":break;case"id":B.setAttribute("data-element-id",Q);break;case"style":Object.assign(B.style,Q);break;case"textContent":B.textContent=Q;break;default:(!Y||re!=="href"&&re!=="newWindow")&&B.setAttribute(re,Q)}Y&&V.addLinkAttributes(B,K.href,K.newWindow),H&&K.dataId&&this.setupStorage(B,K.dataId,q,H)}static render(B){var ie;const q=B.annotationStorage,H=B.linkService,W=B.xfaHtml,V=B.intent||"display",K=document.createElement(W.name);W.attributes&&this.setAttributes({html:K,element:W,intent:V,linkService:H});const Y=[[W,-1,K]],re=B.div;if(re.append(K),B.viewport){const J=`matrix(${B.viewport.transform.join(",")})`;re.style.transform=J}V!=="richText"&&re.setAttribute("class","xfaLayer xfaFont");const Q=[];for(;Y.length>0;){const[J,ce,ue]=Y.at(-1);if(ce+1===J.children.length){Y.pop();continue}const Ee=J.children[++Y.at(-1)[1]];if(Ee===null)continue;const{name:ge}=Ee;if(ge==="#text"){const ve=document.createTextNode(Ee.value);Q.push(ve),ue.append(ve);continue}const le=(ie=Ee==null?void 0:Ee.attributes)!=null&&ie.xmlns?document.createElementNS(Ee.attributes.xmlns,ge):document.createElement(ge);if(ue.append(le),Ee.attributes&&this.setAttributes({html:le,element:Ee,storage:q,intent:V,linkService:H}),Ee.children&&Ee.children.length>0)Y.push([Ee,-1,le]);else if(Ee.value){const ve=document.createTextNode(Ee.value);A.XfaText.shouldBuildText(ge)&&Q.push(ve),le.append(ve)}}for(const J of re.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))J.setAttribute("readOnly",!0);return{textDivs:Q}}static update(B){const q=`matrix(${B.viewport.transform.join(",")})`;B.div.style.transform=q,B.div.hidden=!1}}w.XfaLayer=$},(R,w,_)=>{var W,V,K,Y,re,Q,ie,J,ce,ue,Ee,ge,le,ve,he,Co,Ao,To,ko,ja,Po,Ra,No,Mo,Io,Lo,Fo,Jn,_a,Ri,_i,Nr,Sa,Si,Fe,Oo,Ca,Do,$o,Aa,Ci,Mr;Object.defineProperty(w,"__esModule",{value:!0}),w.InkEditor=void 0;var A=_(1),$=_(4),O=_(29),B=_(6),q=_(5);const At=class At extends $.AnnotationEditor{constructor(_e){super({..._e,name:"inkEditor"});Ye(this,he);Ye(this,W,0);Ye(this,V,0);Ye(this,K,this.canvasPointermove.bind(this));Ye(this,Y,this.canvasPointerleave.bind(this));Ye(this,re,this.canvasPointerup.bind(this));Ye(this,Q,this.canvasPointerdown.bind(this));Ye(this,ie,new Path2D);Ye(this,J,!1);Ye(this,ce,!1);Ye(this,ue,!1);Ye(this,Ee,null);Ye(this,ge,0);Ye(this,le,0);Ye(this,ve,null);this.color=_e.color||null,this.thickness=_e.thickness||null,this.opacity=_e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(_e){$.AnnotationEditor.initialize(_e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(_e,ke){switch(_e){case A.AnnotationEditorParamsType.INK_THICKNESS:At._defaultThickness=ke;break;case A.AnnotationEditorParamsType.INK_COLOR:At._defaultColor=ke;break;case A.AnnotationEditorParamsType.INK_OPACITY:At._defaultOpacity=ke/100;break}}updateParams(_e,ke){switch(_e){case A.AnnotationEditorParamsType.INK_THICKNESS:Ve(this,he,Co).call(this,ke);break;case A.AnnotationEditorParamsType.INK_COLOR:Ve(this,he,Ao).call(this,ke);break;case A.AnnotationEditorParamsType.INK_OPACITY:Ve(this,he,To).call(this,ke);break}}static get defaultPropertiesToUpdate(){return[[A.AnnotationEditorParamsType.INK_THICKNESS,At._defaultThickness],[A.AnnotationEditorParamsType.INK_COLOR,At._defaultColor||$.AnnotationEditor._defaultLineColor],[A.AnnotationEditorParamsType.INK_OPACITY,Math.round(At._defaultOpacity*100)]]}get propertiesToUpdate(){return[[A.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||At._defaultThickness],[A.AnnotationEditorParamsType.INK_COLOR,this.color||At._defaultColor||$.AnnotationEditor._defaultLineColor],[A.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??At._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ve(this,he,Ri).call(this),Ve(this,he,_i).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ve(this,he,Nr).call(this)),Ve(this,he,Mr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,G(this,Ee).disconnect(),Ge(this,Ee,null),super.remove())}setParent(_e){!this.parent&&_e?this._uiManager.removeShouldRescale(this):this.parent&&_e===null&&this._uiManager.addShouldRescale(this),super.setParent(_e)}onScaleChanging(){const[_e,ke]=this.parentDimensions,Je=this.width*_e,it=this.height*ke;this.setDimensions(Je,it)}enableEditMode(){G(this,J)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",G(this,Q)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",G(this,Q)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){G(this,J)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ge(this,J,!0),this.div.classList.add("disabled"),Ve(this,he,Mr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(_e){this._focusEventsAllowed&&(super.focusin(_e),this.enableEditMode())}canvasPointerdown(_e){_e.button!==0||!this.isInEditMode()||G(this,J)||(this.setInForeground(),_e.preventDefault(),_e.type!=="mouse"&&this.div.focus(),Ve(this,he,Po).call(this,_e.offsetX,_e.offsetY))}canvasPointermove(_e){_e.preventDefault(),Ve(this,he,Ra).call(this,_e.offsetX,_e.offsetY)}canvasPointerup(_e){_e.preventDefault(),Ve(this,he,_a).call(this,_e)}canvasPointerleave(_e){Ve(this,he,_a).call(this,_e)}get isResizable(){return!this.isEmpty()&&G(this,J)}render(){if(this.div)return this.div;let _e,ke;this.width&&(_e=this.x,ke=this.y),super.render(),$.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(wt=>{var et;return(et=this.div)==null?void 0:et.setAttribute("aria-label",wt)});const[Je,it,mt,Rt]=Ve(this,he,ko).call(this);if(this.setAt(Je,it,0,0),this.setDims(mt,Rt),Ve(this,he,Ri).call(this),this.width){const[wt,et]=this.parentDimensions;this.setAspectRatio(this.width*wt,this.height*et),this.setAt(_e*wt,ke*et,this.width*wt,this.height*et),Ge(this,ue,!0),Ve(this,he,Nr).call(this),this.setDims(this.width*wt,this.height*et),Ve(this,he,Jn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ve(this,he,_i).call(this),this.div}setDimensions(_e,ke){const Je=Math.round(_e),it=Math.round(ke);if(G(this,ge)===Je&&G(this,le)===it)return;Ge(this,ge,Je),Ge(this,le,it),this.canvas.style.visibility="hidden";const[mt,Rt]=this.parentDimensions;this.width=_e/mt,this.height=ke/Rt,this.fixAndSetPosition(),G(this,J)&&Ve(this,he,Sa).call(this,_e,ke),Ve(this,he,Nr).call(this),Ve(this,he,Jn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(_e,ke,Je){var fs,As,Hs;if(_e instanceof O.InkAnnotationElement)return null;const it=super.deserialize(_e,ke,Je);it.thickness=_e.thickness,it.color=A.Util.makeHexColor(..._e.color),it.opacity=_e.opacity;const[mt,Rt]=it.pageDimensions,wt=it.width*mt,et=it.height*Rt,zt=it.parentScale,Bt=_e.thickness/2;Ge(it,J,!0),Ge(it,ge,Math.round(wt)),Ge(it,le,Math.round(et));const{paths:js,rect:xs,rotation:Ls}=_e;for(let{bezier:St}of js){St=Ve(fs=At,Fe,Do).call(fs,St,xs,Ls);const st=[];it.paths.push(st);let at=zt*(St[0]-Bt),Nt=zt*(St[1]-Bt);for(let is=2,ze=St.length;is<ze;is+=6){const bt=zt*(St[is]-Bt),Yt=zt*(St[is+1]-Bt),cs=zt*(St[is+2]-Bt),ms=zt*(St[is+3]-Bt),os=zt*(St[is+4]-Bt),Be=zt*(St[is+5]-Bt);st.push([[at,Nt],[bt,Yt],[cs,ms],[os,Be]]),at=os,Nt=Be}const ss=Ve(this,Fe,Oo).call(this,st);it.bezierPath2D.push(ss)}const ls=Ve(As=it,he,Aa).call(As);return Ge(it,V,Math.max($.AnnotationEditor.MIN_SIZE,ls[2]-ls[0])),Ge(it,W,Math.max($.AnnotationEditor.MIN_SIZE,ls[3]-ls[1])),Ve(Hs=it,he,Sa).call(Hs,wt,et),it}serialize(){if(this.isEmpty())return null;const _e=this.getRect(0,0),ke=$.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:A.AnnotationEditorType.INK,color:ke,thickness:this.thickness,opacity:this.opacity,paths:Ve(this,he,$o).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,_e),pageIndex:this.pageIndex,rect:_e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};W=new WeakMap,V=new WeakMap,K=new WeakMap,Y=new WeakMap,re=new WeakMap,Q=new WeakMap,ie=new WeakMap,J=new WeakMap,ce=new WeakMap,ue=new WeakMap,Ee=new WeakMap,ge=new WeakMap,le=new WeakMap,ve=new WeakMap,he=new WeakSet,Co=function(_e){const ke=this.thickness;this.addCommands({cmd:()=>{this.thickness=_e,Ve(this,he,Mr).call(this)},undo:()=>{this.thickness=ke,Ve(this,he,Mr).call(this)},mustExec:!0,type:A.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ao=function(_e){const ke=this.color;this.addCommands({cmd:()=>{this.color=_e,Ve(this,he,Jn).call(this)},undo:()=>{this.color=ke,Ve(this,he,Jn).call(this)},mustExec:!0,type:A.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},To=function(_e){_e/=100;const ke=this.opacity;this.addCommands({cmd:()=>{this.opacity=_e,Ve(this,he,Jn).call(this)},undo:()=>{this.opacity=ke,Ve(this,he,Jn).call(this)},mustExec:!0,type:A.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ko=function(){const{parentRotation:_e,parentDimensions:[ke,Je]}=this;switch(_e){case 90:return[0,Je,Je,ke];case 180:return[ke,Je,ke,Je];case 270:return[ke,0,Je,ke];default:return[0,0,ke,Je]}},ja=function(){const{ctx:_e,color:ke,opacity:Je,thickness:it,parentScale:mt,scaleFactor:Rt}=this;_e.lineWidth=it*mt/Rt,_e.lineCap="round",_e.lineJoin="round",_e.miterLimit=10,_e.strokeStyle=`${ke}${(0,q.opacityToHex)(Je)}`},Po=function(_e,ke){this.canvas.addEventListener("contextmenu",B.noContextMenu),this.canvas.addEventListener("pointerleave",G(this,Y)),this.canvas.addEventListener("pointermove",G(this,K)),this.canvas.addEventListener("pointerup",G(this,re)),this.canvas.removeEventListener("pointerdown",G(this,Q)),this.isEditing=!0,G(this,ue)||(Ge(this,ue,!0),Ve(this,he,Nr).call(this),this.thickness||(this.thickness=At._defaultThickness),this.color||(this.color=At._defaultColor||$.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=At._defaultOpacity)),this.currentPath.push([_e,ke]),Ge(this,ce,!1),Ve(this,he,ja).call(this),Ge(this,ve,()=>{Ve(this,he,Io).call(this),G(this,ve)&&window.requestAnimationFrame(G(this,ve))}),window.requestAnimationFrame(G(this,ve))},Ra=function(_e,ke){const[Je,it]=this.currentPath.at(-1);if(this.currentPath.length>1&&_e===Je&&ke===it)return;const mt=this.currentPath;let Rt=G(this,ie);if(mt.push([_e,ke]),Ge(this,ce,!0),mt.length<=2){Rt.moveTo(...mt[0]),Rt.lineTo(_e,ke);return}mt.length===3&&(Ge(this,ie,Rt=new Path2D),Rt.moveTo(...mt[0])),Ve(this,he,Lo).call(this,Rt,...mt.at(-3),...mt.at(-2),_e,ke)},No=function(){if(this.currentPath.length===0)return;const _e=this.currentPath.at(-1);G(this,ie).lineTo(..._e)},Mo=function(_e,ke){Ge(this,ve,null),_e=Math.min(Math.max(_e,0),this.canvas.width),ke=Math.min(Math.max(ke,0),this.canvas.height),Ve(this,he,Ra).call(this,_e,ke),Ve(this,he,No).call(this);let Je;if(this.currentPath.length!==1)Je=Ve(this,he,Fo).call(this);else{const et=[_e,ke];Je=[[et,et.slice(),et.slice(),et]]}const it=G(this,ie),mt=this.currentPath;this.currentPath=[],Ge(this,ie,new Path2D);const Rt=()=>{this.allRawPaths.push(mt),this.paths.push(Je),this.bezierPath2D.push(it),this.rebuild()},wt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ve(this,he,Ri).call(this),Ve(this,he,_i).call(this)),Ve(this,he,Mr).call(this))};this.addCommands({cmd:Rt,undo:wt,mustExec:!0})},Io=function(){if(!G(this,ce))return;Ge(this,ce,!1);const _e=Math.ceil(this.thickness*this.parentScale),ke=this.currentPath.slice(-3),Je=ke.map(Rt=>Rt[0]),it=ke.map(Rt=>Rt[1]);Math.min(...Je)-_e,Math.max(...Je)+_e,Math.min(...it)-_e,Math.max(...it)+_e;const{ctx:mt}=this;mt.save(),mt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Rt of this.bezierPath2D)mt.stroke(Rt);mt.stroke(G(this,ie)),mt.restore()},Lo=function(_e,ke,Je,it,mt,Rt,wt){const et=(ke+it)/2,zt=(Je+mt)/2,Bt=(it+Rt)/2,js=(mt+wt)/2;_e.bezierCurveTo(et+2*(it-et)/3,zt+2*(mt-zt)/3,Bt+2*(it-Bt)/3,js+2*(mt-js)/3,Bt,js)},Fo=function(){const _e=this.currentPath;if(_e.length<=2)return[[_e[0],_e[0],_e.at(-1),_e.at(-1)]];const ke=[];let Je,[it,mt]=_e[0];for(Je=1;Je<_e.length-2;Je++){const[xs,Ls]=_e[Je],[ls,fs]=_e[Je+1],As=(xs+ls)/2,Hs=(Ls+fs)/2,St=[it+2*(xs-it)/3,mt+2*(Ls-mt)/3],st=[As+2*(xs-As)/3,Hs+2*(Ls-Hs)/3];ke.push([[it,mt],St,st,[As,Hs]]),[it,mt]=[As,Hs]}const[Rt,wt]=_e[Je],[et,zt]=_e[Je+1],Bt=[it+2*(Rt-it)/3,mt+2*(wt-mt)/3],js=[et+2*(Rt-et)/3,zt+2*(wt-zt)/3];return ke.push([[it,mt],Bt,js,[et,zt]]),ke},Jn=function(){if(this.isEmpty()){Ve(this,he,Si).call(this);return}Ve(this,he,ja).call(this);const{canvas:_e,ctx:ke}=this;ke.setTransform(1,0,0,1,0,0),ke.clearRect(0,0,_e.width,_e.height),Ve(this,he,Si).call(this);for(const Je of this.bezierPath2D)ke.stroke(Je)},_a=function(_e){this.canvas.removeEventListener("pointerleave",G(this,Y)),this.canvas.removeEventListener("pointermove",G(this,K)),this.canvas.removeEventListener("pointerup",G(this,re)),this.canvas.addEventListener("pointerdown",G(this,Q)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",B.noContextMenu)},10),Ve(this,he,Mo).call(this,_e.offsetX,_e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ri=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",$.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(_e=>{var ke;return(ke=this.canvas)==null?void 0:ke.setAttribute("aria-label",_e)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},_i=function(){Ge(this,Ee,new ResizeObserver(_e=>{const ke=_e[0].contentRect;ke.width&&ke.height&&this.setDimensions(ke.width,ke.height)})),G(this,Ee).observe(this.div)},Nr=function(){if(!G(this,ue))return;const[_e,ke]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*_e),this.canvas.height=Math.ceil(this.height*ke),Ve(this,he,Si).call(this)},Sa=function(_e,ke){const Je=Ve(this,he,Ci).call(this),it=(_e-Je)/G(this,V),mt=(ke-Je)/G(this,W);this.scaleFactor=Math.min(it,mt)},Si=function(){const _e=Ve(this,he,Ci).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_e,this.translationY*this.scaleFactor+_e)},Fe=new WeakSet,Oo=function(_e){const ke=new Path2D;for(let Je=0,it=_e.length;Je<it;Je++){const[mt,Rt,wt,et]=_e[Je];Je===0&&ke.moveTo(...mt),ke.bezierCurveTo(Rt[0],Rt[1],wt[0],wt[1],et[0],et[1])}return ke},Ca=function(_e,ke,Je){const[it,mt,Rt,wt]=ke;switch(Je){case 0:for(let et=0,zt=_e.length;et<zt;et+=2)_e[et]+=it,_e[et+1]=wt-_e[et+1];break;case 90:for(let et=0,zt=_e.length;et<zt;et+=2){const Bt=_e[et];_e[et]=_e[et+1]+it,_e[et+1]=Bt+mt}break;case 180:for(let et=0,zt=_e.length;et<zt;et+=2)_e[et]=Rt-_e[et],_e[et+1]+=mt;break;case 270:for(let et=0,zt=_e.length;et<zt;et+=2){const Bt=_e[et];_e[et]=Rt-_e[et+1],_e[et+1]=wt-Bt}break;default:throw new Error("Invalid rotation")}return _e},Do=function(_e,ke,Je){const[it,mt,Rt,wt]=ke;switch(Je){case 0:for(let et=0,zt=_e.length;et<zt;et+=2)_e[et]-=it,_e[et+1]=wt-_e[et+1];break;case 90:for(let et=0,zt=_e.length;et<zt;et+=2){const Bt=_e[et];_e[et]=_e[et+1]-mt,_e[et+1]=Bt-it}break;case 180:for(let et=0,zt=_e.length;et<zt;et+=2)_e[et]=Rt-_e[et],_e[et+1]-=mt;break;case 270:for(let et=0,zt=_e.length;et<zt;et+=2){const Bt=_e[et];_e[et]=wt-_e[et+1],_e[et+1]=Rt-Bt}break;default:throw new Error("Invalid rotation")}return _e},$o=function(_e,ke,Je,it){var zt,Bt;const mt=[],Rt=this.thickness/2,wt=_e*ke+Rt,et=_e*Je+Rt;for(const js of this.paths){const xs=[],Ls=[];for(let ls=0,fs=js.length;ls<fs;ls++){const[As,Hs,St,st]=js[ls],at=_e*As[0]+wt,Nt=_e*As[1]+et,ss=_e*Hs[0]+wt,is=_e*Hs[1]+et,ze=_e*St[0]+wt,bt=_e*St[1]+et,Yt=_e*st[0]+wt,cs=_e*st[1]+et;ls===0&&(xs.push(at,Nt),Ls.push(at,Nt)),xs.push(ss,is,ze,bt,Yt,cs),Ls.push(ss,is),ls===fs-1&&Ls.push(Yt,cs)}mt.push({bezier:Ve(zt=At,Fe,Ca).call(zt,xs,it,this.rotation),points:Ve(Bt=At,Fe,Ca).call(Bt,Ls,it,this.rotation)})}return mt},Aa=function(){let _e=1/0,ke=-1/0,Je=1/0,it=-1/0;for(const mt of this.paths)for(const[Rt,wt,et,zt]of mt){const Bt=A.Util.bezierBoundingBox(...Rt,...wt,...et,...zt);_e=Math.min(_e,Bt[0]),Je=Math.min(Je,Bt[1]),ke=Math.max(ke,Bt[2]),it=Math.max(it,Bt[3])}return[_e,Je,ke,it]},Ci=function(){return G(this,J)?Math.ceil(this.thickness*this.parentScale):0},Mr=function(_e=!1){if(this.isEmpty())return;if(!G(this,J)){Ve(this,he,Jn).call(this);return}const ke=Ve(this,he,Aa).call(this),Je=Ve(this,he,Ci).call(this);Ge(this,V,Math.max($.AnnotationEditor.MIN_SIZE,ke[2]-ke[0])),Ge(this,W,Math.max($.AnnotationEditor.MIN_SIZE,ke[3]-ke[1]));const it=Math.ceil(Je+G(this,V)*this.scaleFactor),mt=Math.ceil(Je+G(this,W)*this.scaleFactor),[Rt,wt]=this.parentDimensions;this.width=it/Rt,this.height=mt/wt,this.setAspectRatio(it,mt);const et=this.translationX,zt=this.translationY;this.translationX=-ke[0],this.translationY=-ke[1],Ve(this,he,Nr).call(this),Ve(this,he,Jn).call(this),Ge(this,ge,it),Ge(this,le,mt),this.setDims(it,mt);const Bt=_e?Je/this.scaleFactor/2:0;this.translate(et-this.translationX-Bt,zt-this.translationY-Bt)},Ye(At,Fe),on(At,"_defaultColor",null),on(At,"_defaultOpacity",1),on(At,"_defaultThickness",1),on(At,"_type","ink");let H=At;w.InkEditor=H},(R,w,_)=>{var H,W,V,K,Y,re,Q,ie,J,ce,ue,ti,si,Ai,Ta,Bo,zo,ka,Ti,Uo;Object.defineProperty(w,"__esModule",{value:!0}),w.StampEditor=void 0;var A=_(1),$=_(4),O=_(6),B=_(29);const we=class we extends $.AnnotationEditor{constructor(Se){super({...Se,name:"stampEditor"});Ye(this,ue);Ye(this,H,null);Ye(this,W,null);Ye(this,V,null);Ye(this,K,null);Ye(this,Y,null);Ye(this,re,null);Ye(this,Q,null);Ye(this,ie,null);Ye(this,J,!1);Ye(this,ce,!1);Ge(this,K,Se.bitmapUrl),Ge(this,Y,Se.bitmapFile)}static initialize(Se){$.AnnotationEditor.initialize(Se)}static get supportedTypes(){const Se=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,A.shadow)(this,"supportedTypes",Se.map(Le=>`image/${Le}`))}static get supportedTypesStr(){return(0,A.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Se){return this.supportedTypes.includes(Se)}static paste(Se,Le){Le.pasteEditor(A.AnnotationEditorType.STAMP,{bitmapFile:Se.getAsFile()})}remove(){var Se,Le;G(this,W)&&(Ge(this,H,null),this._uiManager.imageManager.deleteId(G(this,W)),(Se=G(this,re))==null||Se.remove(),Ge(this,re,null),(Le=G(this,Q))==null||Le.disconnect(),Ge(this,Q,null)),super.remove()}rebuild(){if(!this.parent){G(this,W)&&Ve(this,ue,Ai).call(this);return}super.rebuild(),this.div!==null&&(G(this,W)&&Ve(this,ue,Ai).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(G(this,V)||G(this,H)||G(this,K)||G(this,Y))}get isResizable(){return!0}render(){if(this.div)return this.div;let Se,Le;if(this.width&&(Se=this.x,Le=this.y),super.render(),this.div.hidden=!0,G(this,H)?Ve(this,ue,Ta).call(this):Ve(this,ue,Ai).call(this),this.width){const[$e,He]=this.parentDimensions;this.setAt(Se*$e,Le*He,this.width*$e,this.height*He)}return this.div}static deserialize(Se,Le,$e){if(Se instanceof B.StampAnnotationElement)return null;const He=super.deserialize(Se,Le,$e),{rect:je,bitmapUrl:De,bitmapId:qe,isSvg:Ce,accessibilityData:de}=Se;qe&&$e.imageManager.isValidId(qe)?Ge(He,W,qe):Ge(He,K,De),Ge(He,J,Ce);const[me,ye]=He.pageDimensions;return He.width=(je[2]-je[0])/me,He.height=(je[3]-je[1])/ye,de&&(He.altTextData=de),He}serialize(Se=!1,Le=null){if(this.isEmpty())return null;const $e={annotationType:A.AnnotationEditorType.STAMP,bitmapId:G(this,W),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:G(this,J),structTreeParentId:this._structTreeParentId};if(Se)return $e.bitmapUrl=Ve(this,ue,Ti).call(this,!0),$e.accessibilityData=this.altTextData,$e;const{decorative:He,altText:je}=this.altTextData;if(!He&&je&&($e.accessibilityData={type:"Figure",alt:je}),Le===null)return $e;Le.stamps||(Le.stamps=new Map);const De=G(this,J)?($e.rect[2]-$e.rect[0])*($e.rect[3]-$e.rect[1]):null;if(!Le.stamps.has(G(this,W)))Le.stamps.set(G(this,W),{area:De,serialized:$e}),$e.bitmap=Ve(this,ue,Ti).call(this,!1);else if(G(this,J)){const qe=Le.stamps.get(G(this,W));De>qe.area&&(qe.area=De,qe.serialized.bitmap.close(),qe.serialized.bitmap=Ve(this,ue,Ti).call(this,!1))}return $e}};H=new WeakMap,W=new WeakMap,V=new WeakMap,K=new WeakMap,Y=new WeakMap,re=new WeakMap,Q=new WeakMap,ie=new WeakMap,J=new WeakMap,ce=new WeakMap,ue=new WeakSet,ti=function(Se,Le=!1){if(!Se){this.remove();return}Ge(this,H,Se.bitmap),Le||(Ge(this,W,Se.id),Ge(this,J,Se.isSvg)),Ve(this,ue,Ta).call(this)},si=function(){Ge(this,V,null),this._uiManager.enableWaiting(!1),G(this,re)&&this.div.focus()},Ai=function(){if(G(this,W)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(G(this,W)).then(Le=>Ve(this,ue,ti).call(this,Le,!0)).finally(()=>Ve(this,ue,si).call(this));return}if(G(this,K)){const Le=G(this,K);Ge(this,K,null),this._uiManager.enableWaiting(!0),Ge(this,V,this._uiManager.imageManager.getFromUrl(Le).then($e=>Ve(this,ue,ti).call(this,$e)).finally(()=>Ve(this,ue,si).call(this)));return}if(G(this,Y)){const Le=G(this,Y);Ge(this,Y,null),this._uiManager.enableWaiting(!0),Ge(this,V,this._uiManager.imageManager.getFromFile(Le).then($e=>Ve(this,ue,ti).call(this,$e)).finally(()=>Ve(this,ue,si).call(this)));return}const Se=document.createElement("input");Se.type="file",Se.accept=we.supportedTypesStr,Ge(this,V,new Promise(Le=>{Se.addEventListener("change",async()=>{if(!Se.files||Se.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const $e=await this._uiManager.imageManager.getFromFile(Se.files[0]);Ve(this,ue,ti).call(this,$e)}Le()}),Se.addEventListener("cancel",()=>{this.remove(),Le()})}).finally(()=>Ve(this,ue,si).call(this))),Se.click()},Ta=function(){const{div:Se}=this;let{width:Le,height:$e}=G(this,H);const[He,je]=this.pageDimensions,De=.75;if(this.width)Le=this.width*He,$e=this.height*je;else if(Le>De*He||$e>De*je){const me=Math.min(De*He/Le,De*je/$e);Le*=me,$e*=me}const[qe,Ce]=this.parentDimensions;this.setDims(Le*qe/He,$e*Ce/je),this._uiManager.enableWaiting(!1);const de=Ge(this,re,document.createElement("canvas"));Se.append(de),Se.hidden=!1,Ve(this,ue,ka).call(this,Le,$e),Ve(this,ue,Uo).call(this),G(this,ce)||(this.parent.addUndoableEditor(this),Ge(this,ce,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Bo=function(Se,Le){var De;const[$e,He]=this.parentDimensions;this.width=Se/$e,this.height=Le/He,this.setDims(Se,Le),(De=this._initialOptions)!=null&&De.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,G(this,ie)!==null&&clearTimeout(G(this,ie)),Ge(this,ie,setTimeout(()=>{Ge(this,ie,null),Ve(this,ue,ka).call(this,Se,Le)},200))},zo=function(Se,Le){const{width:$e,height:He}=G(this,H);let je=$e,De=He,qe=G(this,H);for(;je>2*Se||De>2*Le;){const Ce=je,de=De;je>2*Se&&(je=je>=16384?Math.floor(je/2)-1:Math.ceil(je/2)),De>2*Le&&(De=De>=16384?Math.floor(De/2)-1:Math.ceil(De/2));const me=new OffscreenCanvas(je,De);me.getContext("2d").drawImage(qe,0,0,Ce,de,0,0,je,De),qe=me.transferToImageBitmap()}return qe},ka=function(Se,Le){Se=Math.ceil(Se),Le=Math.ceil(Le);const $e=G(this,re);if(!$e||$e.width===Se&&$e.height===Le)return;$e.width=Se,$e.height=Le;const He=G(this,J)?G(this,H):Ve(this,ue,zo).call(this,Se,Le),je=$e.getContext("2d");je.filter=this._uiManager.hcmFilter,je.drawImage(He,0,0,He.width,He.height,0,0,Se,Le)},Ti=function(Se){if(Se){if(G(this,J)){const He=this._uiManager.imageManager.getSvgUrl(G(this,W));if(He)return He}const Le=document.createElement("canvas");return{width:Le.width,height:Le.height}=G(this,H),Le.getContext("2d").drawImage(G(this,H),0,0),Le.toDataURL()}if(G(this,J)){const[Le,$e]=this.pageDimensions,He=Math.round(this.width*Le*O.PixelsPerInch.PDF_TO_CSS_UNITS),je=Math.round(this.height*$e*O.PixelsPerInch.PDF_TO_CSS_UNITS),De=new OffscreenCanvas(He,je);return De.getContext("2d").drawImage(G(this,H),0,0,G(this,H).width,G(this,H).height,0,0,He,je),De.transferToImageBitmap()}return structuredClone(G(this,H))},Uo=function(){Ge(this,Q,new ResizeObserver(Se=>{const Le=Se[0].contentRect;Le.width&&Le.height&&Ve(this,ue,Bo).call(this,Le.width,Le.height)})),G(this,Q).observe(this.div)},on(we,"_type","stamp");let q=we;w.StampEditor=q}],__webpack_module_cache__={};function __w_pdfjs_require__(R){var w=__webpack_module_cache__[R];if(w!==void 0)return w.exports;var _=__webpack_module_cache__[R]={exports:{}};return __webpack_modules__[R](_,_.exports,__w_pdfjs_require__),_.exports}var __webpack_exports__={};return(()=>{var R=__webpack_exports__;Object.defineProperty(R,"__esModule",{value:!0}),Object.defineProperty(R,"AbortException",{enumerable:!0,get:function(){return w.AbortException}}),Object.defineProperty(R,"AnnotationEditorLayer",{enumerable:!0,get:function(){return O.AnnotationEditorLayer}}),Object.defineProperty(R,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return w.AnnotationEditorParamsType}}),Object.defineProperty(R,"AnnotationEditorType",{enumerable:!0,get:function(){return w.AnnotationEditorType}}),Object.defineProperty(R,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return B.AnnotationEditorUIManager}}),Object.defineProperty(R,"AnnotationLayer",{enumerable:!0,get:function(){return q.AnnotationLayer}}),Object.defineProperty(R,"AnnotationMode",{enumerable:!0,get:function(){return w.AnnotationMode}}),Object.defineProperty(R,"CMapCompressionType",{enumerable:!0,get:function(){return w.CMapCompressionType}}),Object.defineProperty(R,"DOMSVGFactory",{enumerable:!0,get:function(){return A.DOMSVGFactory}}),Object.defineProperty(R,"FeatureTest",{enumerable:!0,get:function(){return w.FeatureTest}}),Object.defineProperty(R,"GlobalWorkerOptions",{enumerable:!0,get:function(){return H.GlobalWorkerOptions}}),Object.defineProperty(R,"ImageKind",{enumerable:!0,get:function(){return w.ImageKind}}),Object.defineProperty(R,"InvalidPDFException",{enumerable:!0,get:function(){return w.InvalidPDFException}}),Object.defineProperty(R,"MissingPDFException",{enumerable:!0,get:function(){return w.MissingPDFException}}),Object.defineProperty(R,"OPS",{enumerable:!0,get:function(){return w.OPS}}),Object.defineProperty(R,"PDFDataRangeTransport",{enumerable:!0,get:function(){return _.PDFDataRangeTransport}}),Object.defineProperty(R,"PDFDateString",{enumerable:!0,get:function(){return A.PDFDateString}}),Object.defineProperty(R,"PDFWorker",{enumerable:!0,get:function(){return _.PDFWorker}}),Object.defineProperty(R,"PasswordResponses",{enumerable:!0,get:function(){return w.PasswordResponses}}),Object.defineProperty(R,"PermissionFlag",{enumerable:!0,get:function(){return w.PermissionFlag}}),Object.defineProperty(R,"PixelsPerInch",{enumerable:!0,get:function(){return A.PixelsPerInch}}),Object.defineProperty(R,"PromiseCapability",{enumerable:!0,get:function(){return w.PromiseCapability}}),Object.defineProperty(R,"RenderingCancelledException",{enumerable:!0,get:function(){return A.RenderingCancelledException}}),Object.defineProperty(R,"SVGGraphics",{enumerable:!0,get:function(){return _.SVGGraphics}}),Object.defineProperty(R,"UnexpectedResponseException",{enumerable:!0,get:function(){return w.UnexpectedResponseException}}),Object.defineProperty(R,"Util",{enumerable:!0,get:function(){return w.Util}}),Object.defineProperty(R,"VerbosityLevel",{enumerable:!0,get:function(){return w.VerbosityLevel}}),Object.defineProperty(R,"XfaLayer",{enumerable:!0,get:function(){return W.XfaLayer}}),Object.defineProperty(R,"build",{enumerable:!0,get:function(){return _.build}}),Object.defineProperty(R,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return w.createValidAbsoluteUrl}}),Object.defineProperty(R,"getDocument",{enumerable:!0,get:function(){return _.getDocument}}),Object.defineProperty(R,"getFilenameFromUrl",{enumerable:!0,get:function(){return A.getFilenameFromUrl}}),Object.defineProperty(R,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return A.getPdfFilenameFromUrl}}),Object.defineProperty(R,"getXfaPageViewport",{enumerable:!0,get:function(){return A.getXfaPageViewport}}),Object.defineProperty(R,"isDataScheme",{enumerable:!0,get:function(){return A.isDataScheme}}),Object.defineProperty(R,"isPdfFile",{enumerable:!0,get:function(){return A.isPdfFile}}),Object.defineProperty(R,"loadScript",{enumerable:!0,get:function(){return A.loadScript}}),Object.defineProperty(R,"noContextMenu",{enumerable:!0,get:function(){return A.noContextMenu}}),Object.defineProperty(R,"normalizeUnicode",{enumerable:!0,get:function(){return w.normalizeUnicode}}),Object.defineProperty(R,"renderTextLayer",{enumerable:!0,get:function(){return $.renderTextLayer}}),Object.defineProperty(R,"setLayerDimensions",{enumerable:!0,get:function(){return A.setLayerDimensions}}),Object.defineProperty(R,"shadow",{enumerable:!0,get:function(){return w.shadow}}),Object.defineProperty(R,"updateTextLayer",{enumerable:!0,get:function(){return $.updateTextLayer}}),Object.defineProperty(R,"version",{enumerable:!0,get:function(){return _.version}});var w=__w_pdfjs_require__(1),_=__w_pdfjs_require__(2),A=__w_pdfjs_require__(6),$=__w_pdfjs_require__(26),O=__w_pdfjs_require__(27),B=__w_pdfjs_require__(5),q=__w_pdfjs_require__(29),H=__w_pdfjs_require__(14),W=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(R){var w=reactExports,_=pdfExports;function A(pe){var Re=Object.create(null);return pe&&Object.keys(pe).forEach(function(Ue){if(Ue!=="default"){var We=Object.getOwnPropertyDescriptor(pe,Ue);Object.defineProperty(Re,Ue,We.get?We:{enumerable:!0,get:function(){return pe[Ue]}})}}),Re.default=pe,Object.freeze(Re)}var $,O=A(w),B=A(_);R.AnnotationType=void 0,($=R.AnnotationType||(R.AnnotationType={}))[$.Text=1]="Text",$[$.Link=2]="Link",$[$.FreeText=3]="FreeText",$[$.Line=4]="Line",$[$.Square=5]="Square",$[$.Circle=6]="Circle",$[$.Polygon=7]="Polygon",$[$.Polyline=8]="Polyline",$[$.Highlight=9]="Highlight",$[$.Underline=10]="Underline",$[$.Squiggly=11]="Squiggly",$[$.StrikeOut=12]="StrikeOut",$[$.Stamp=13]="Stamp",$[$.Caret=14]="Caret",$[$.Ink=15]="Ink",$[$.Popup=16]="Popup",$[$.FileAttachment=17]="FileAttachment";var q=function(pe,Re){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ue,We){Ue.__proto__=We}||function(Ue,We){for(var Qe in We)Object.prototype.hasOwnProperty.call(We,Qe)&&(Ue[Qe]=We[Qe])},q(pe,Re)};function H(pe,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Class extends value "+String(Re)+" is not a constructor or null");function Ue(){this.constructor=pe}q(pe,Re),pe.prototype=Re===null?Object.create(Re):(Ue.prototype=Re.prototype,new Ue)}var W,V=function(){return V=Object.assign||function(pe){for(var Re,Ue=1,We=arguments.length;Ue<We;Ue++)for(var Qe in Re=arguments[Ue])Object.prototype.hasOwnProperty.call(Re,Qe)&&(pe[Qe]=Re[Qe]);return pe},V.apply(this,arguments)};R.TextDirection=void 0,(W=R.TextDirection||(R.TextDirection={})).RightToLeft="RTL",W.LeftToRight="LTR";var K,Y=O.createContext({currentTheme:"light",direction:R.TextDirection.LeftToRight,setCurrentTheme:function(){}}),re=function(pe){var Re=[];return Object.keys(pe).forEach(function(Ue){Ue&&pe[Ue]&&Re.push(Ue)}),Re.join(" ")},Q=typeof window<"u"?O.useLayoutEffect:O.useEffect,ie=function(pe){var Re=O.useRef(null),Ue=pe.once,We=pe.threshold,Qe=pe.onVisibilityChanged;return Q(function(){var tt=Re.current;if(tt){var pt=new IntersectionObserver(function(ot){ot.forEach(function(Ke){var ht=Ke.isIntersecting,dt=Ke.intersectionRatio;Qe({isVisible:ht,ratio:dt}),ht&&Ue&&(pt.unobserve(tt),pt.disconnect())})},{threshold:We||0});return pt.observe(tt),function(){pt.unobserve(tt),pt.disconnect()}}},[]),Re},J=function(pe){var Re=pe.children,Ue=pe.ignoreDirection,We=Ue!==void 0&&Ue,Qe=pe.size,tt=Qe===void 0?24:Qe,pt=O.useContext(Y).direction,ot=!We&&pt===R.TextDirection.RightToLeft,Ke="".concat(tt||24,"px");return O.createElement("svg",{"aria-hidden":"true",className:re({"rpv-core__icon":!0,"rpv-core__icon--rtl":ot}),focusable:"false",height:Ke,viewBox:"0 0 24 24",width:Ke},Re)},ce=function(){return O.createElement(J,{size:16},O.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},ue=function(pe){var Re=pe.children,Ue=pe.testId,We=pe.onClick,Qe=O.useContext(Y).direction===R.TextDirection.RightToLeft,tt=Ue?{"data-testid":Ue}:{};return O.createElement("button",V({className:re({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Qe}),type:"button",onClick:We},tt),Re)},Ee=function(pe){var Re=pe.size,Ue=Re===void 0?"4rem":Re,We=pe.testId,Qe=O.useState(!1),tt=Qe[0],pt=Qe[1],ot=We?{"data-testid":We}:{},Ke=ie({onVisibilityChanged:function(ht){pt(ht.isVisible)}});return O.createElement("div",V({},ot,{className:re({"rpv-core__spinner":!0,"rpv-core__spinner--animating":tt}),ref:Ke,style:{height:Ue,width:Ue}}))},ge=function(pe){var Re=pe.ariaLabel,Ue=Re===void 0?"":Re,We=pe.autoFocus,Qe=We!==void 0&&We,tt=pe.placeholder,pt=tt===void 0?"":tt,ot=pe.testId,Ke=pe.type,ht=Ke===void 0?"text":Ke,dt=pe.value,Mt=dt===void 0?"":dt,Pt=pe.onChange,kt=pe.onKeyDown,as=kt===void 0?function(){}:kt,ns=O.useContext(Y).direction,ts=O.useRef(),zs=ns===R.TextDirection.RightToLeft,Rs={ref:ts,"data-testid":"","aria-label":Ue,className:re({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":zs}),placeholder:pt,value:Mt,onChange:function(Ss){return Pt(Ss.target.value)},onKeyDown:as};return ot&&(Rs["data-testid"]=ot),Q(function(){if(Qe){var Ss=ts.current;if(Ss){var Ns=window.scrollX,vs=window.scrollY;Ss.focus(),window.scrollTo(Ns,vs)}}},[]),ht==="text"?O.createElement("input",V({type:"text"},Rs)):O.createElement("input",V({type:"password"},Rs))};(function(pe){pe[pe.ExitFullScreen=0]="ExitFullScreen",pe[pe.FullScreenChange=1]="FullScreenChange",pe[pe.FullScreenElement=2]="FullScreenElement",pe[pe.FullScreenEnabled=3]="FullScreenEnabled",pe[pe.RequestFullScreen=4]="RequestFullScreen"})(K||(K={}));var le,ve={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},he={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},fe={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},be=typeof window<"u",Ae=be&&(K.FullScreenEnabled in document&&ve||he.FullScreenEnabled in document&&he||fe.FullScreenEnabled in document&&fe)||ve,xe=function(){return be&&Ae.FullScreenEnabled in document&&document[Ae.FullScreenEnabled]===!0},we=function(pe){return be?pe[Ae.ExitFullScreen]():Promise.resolve({})},Me=function(){return be?document[Ae.FullScreenElement]:null},Pe=function(pe,Re){var Ue=O.useRef(),We=function(){Ue.current&&clearTimeout(Ue.current)};return O.useEffect(function(){return function(){return We()}},[]),O.useCallback(function(){for(var Qe=[],tt=0;tt<arguments.length;tt++)Qe[tt]=arguments[tt];We(),Ue.current=setTimeout(function(){pe.apply(void 0,Qe)},Re)},[pe,Re])},Se=function(){var pe=O.useRef(!1);return O.useEffect(function(){return pe.current=!0,function(){pe.current=!1}},[]),pe},Le=function(pe){var Re=O.useRef(pe);return O.useEffect(function(){Re.current=pe},[pe]),Re.current};(function(pe){pe.NotRenderedYet="NotRenderedYet",pe.Rendering="Rendering",pe.Rendered="Rendered"})(le||(le={}));var $e,He=-9999,je=function(pe){var Re=pe.doc,Ue=Re.numPages,We=Re.loadingTask.docId,Qe=O.useMemo(function(){return Array(Ue).fill(null).map(function(ot,Ke){return{pageIndex:Ke,renderStatus:le.NotRenderedYet,visibility:He}})},[We]),tt=O.useRef({currentRenderingPage:-1,startRange:0,endRange:Ue-1,visibilities:Qe}),pt=function(ot,Ke){tt.current.visibilities[ot].visibility=Ke};return{getHighestPriorityPage:function(){var ot=tt.current.visibilities.slice(tt.current.startRange,tt.current.endRange+1).filter(function(Pt){return Pt.visibility>He});if(!ot.length)return-1;for(var Ke=ot[0].pageIndex,ht=ot[ot.length-1].pageIndex,dt=ot.length,Mt=0;Mt<dt;Mt++){if(ot[Mt].renderStatus===le.Rendering)return-1;if(ot[Mt].renderStatus===le.NotRenderedYet)return ot[Mt].pageIndex}return ht+1<Ue&&tt.current.visibilities[ht+1].renderStatus!==le.Rendered?ht+1:Ke-1>=0&&tt.current.visibilities[Ke-1].renderStatus!==le.Rendered?Ke-1:-1},isInRange:function(ot){return ot>=tt.current.startRange&&ot<=tt.current.endRange},markNotRendered:function(){for(var ot=0;ot<Ue;ot++)tt.current.visibilities[ot].renderStatus=le.NotRenderedYet},markRendered:function(ot){tt.current.visibilities[ot].renderStatus=le.Rendered},markRendering:function(ot){tt.current.currentRenderingPage!==-1&&tt.current.currentRenderingPage!==ot&&tt.current.visibilities[tt.current.currentRenderingPage].renderStatus===le.Rendering&&(tt.current.visibilities[tt.current.currentRenderingPage].renderStatus=le.NotRenderedYet),tt.current.visibilities[ot].renderStatus=le.Rendering,tt.current.currentRenderingPage=ot},setOutOfRange:function(ot){pt(ot,He)},setRange:function(ot,Ke){tt.current.startRange=ot,tt.current.endRange=Ke;for(var ht=0;ht<Ue;ht++)(ht<ot||ht>Ke)&&(tt.current.visibilities[ht].visibility=He,tt.current.visibilities[ht].renderStatus=le.NotRenderedYet)},setVisibility:pt}},De={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},qe=O.createContext({l10n:De,setL10n:function(){}}),Ce=0,de=function(){return Ce++},me=function(pe,Re,Ue){var We=function(Qe){var tt=Re.current;if(tt){var pt=Qe.target;if(pt instanceof Element&&pt.shadowRoot){var ot=Qe.composedPath();ot.length>0&&!tt.contains(ot[0])&&Ue()}else tt.contains(pt)||Ue()}};O.useEffect(function(){if(pe){var Qe={capture:!0};return document.addEventListener("click",We,Qe),function(){document.removeEventListener("click",We,Qe)}}},[])},ye=function(pe){var Re=function(Ue){Ue.key==="Escape"&&pe()};O.useEffect(function(){return document.addEventListener("keyup",Re),function(){document.removeEventListener("keyup",Re)}},[])},Ne=function(pe){var Re=pe.ariaControlsSuffix,Ue=pe.children,We=pe.closeOnClickOutside,Qe=pe.closeOnEscape,tt=pe.onToggle,pt=O.useRef(),ot=O.useContext(Y).direction===R.TextDirection.RightToLeft;return O.useEffect(function(){var Ke=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Ke}},[]),ye(function(){pt.current&&Qe&&tt()}),me(We,pt,tt),Q(function(){var Ke=pt.current;if(Ke){var ht=.75*document.body.clientHeight;Ke.getBoundingClientRect().height>=ht&&(Ke.style.overflow="auto",Ke.style.maxHeight="".concat(ht,"px"))}},[]),O.createElement("div",{"aria-modal":"true",className:re({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":ot}),id:"rpv-core__modal-body-".concat(Re),ref:pt,role:"dialog",tabIndex:-1},Ue)},Fe=function(pe){var Re=pe.children;return O.createElement("div",{className:"rpv-core__modal-overlay"},Re)};R.ToggleStatus=void 0,($e=R.ToggleStatus||(R.ToggleStatus={})).Close="Close",$e.Open="Open",$e.Toggle="Toggle";var Oe,Xe=function(pe){var Re=O.useState(pe),Ue=Re[0],We=Re[1];return{opened:Ue,toggle:function(Qe){switch(Qe){case R.ToggleStatus.Close:We(!1);break;case R.ToggleStatus.Open:We(!0);break;case R.ToggleStatus.Toggle:default:We(function(tt){return!tt})}}}},rt=function(pe){var Re=pe.content,Ue=pe.isOpened,We=Ue!==void 0&&Ue,Qe=pe.target,tt=Xe(We),pt=tt.opened,ot=tt.toggle;return O.createElement(O.Fragment,null,Qe&&Qe(ot,pt),pt&&Re(ot))};R.Position=void 0,(Oe=R.Position||(R.Position={})).TopLeft="TOP_LEFT",Oe.TopCenter="TOP_CENTER",Oe.TopRight="TOP_RIGHT",Oe.RightTop="RIGHT_TOP",Oe.RightCenter="RIGHT_CENTER",Oe.RightBottom="RIGHT_BOTTOM",Oe.BottomLeft="BOTTOM_LEFT",Oe.BottomCenter="BOTTOM_CENTER",Oe.BottomRight="BOTTOM_RIGHT",Oe.LeftTop="LEFT_TOP",Oe.LeftCenter="LEFT_CENTER",Oe.LeftBottom="LEFT_BOTTOM";var gt,xt,Et,jt,At,nt,lt,_e,ke=function(pe,Re,Ue,We,Qe){Q(function(){var tt=Re.current,pt=pe.current,ot=Ue.current;if(pt&&tt&&ot){var Ke=ot.getBoundingClientRect(),ht=function(Pt,kt,as,ns){var ts=kt.getBoundingClientRect(),zs=Pt.getBoundingClientRect(),Rs=zs.height,Ss=zs.width,Ns=0,vs=0;switch(as){case R.Position.TopLeft:Ns=ts.top-Rs,vs=ts.left;break;case R.Position.TopCenter:Ns=ts.top-Rs,vs=ts.left+ts.width/2-Ss/2;break;case R.Position.TopRight:Ns=ts.top-Rs,vs=ts.left+ts.width-Ss;break;case R.Position.RightTop:Ns=ts.top,vs=ts.left+ts.width;break;case R.Position.RightCenter:Ns=ts.top+ts.height/2-Rs/2,vs=ts.left+ts.width;break;case R.Position.RightBottom:Ns=ts.top+ts.height-Rs,vs=ts.left+ts.width;break;case R.Position.BottomLeft:Ns=ts.top+ts.height,vs=ts.left;break;case R.Position.BottomCenter:Ns=ts.top+ts.height,vs=ts.left+ts.width/2-Ss/2;break;case R.Position.BottomRight:Ns=ts.top+ts.height,vs=ts.left+ts.width-Ss;break;case R.Position.LeftTop:Ns=ts.top,vs=ts.left-Ss;break;case R.Position.LeftCenter:Ns=ts.top+ts.height/2-Rs/2,vs=ts.left-Ss;break;case R.Position.LeftBottom:Ns=ts.top+ts.height-Rs,vs=ts.left-Ss}return{left:vs+(ns.left||0),top:Ns+(ns.top||0)}}(pt,tt,We,Qe),dt=ht.top,Mt=ht.left;pt.style.top="".concat(dt-Ke.top,"px"),pt.style.left="".concat(Mt-Ke.left,"px")}},[])},Je=function(pe){var Re,Ue=pe.customClassName,We=pe.position;return O.createElement("div",{className:re((Re={"rpv-core__arrow":!0,"rpv-core__arrow--tl":We===R.Position.TopLeft,"rpv-core__arrow--tc":We===R.Position.TopCenter,"rpv-core__arrow--tr":We===R.Position.TopRight,"rpv-core__arrow--rt":We===R.Position.RightTop,"rpv-core__arrow--rc":We===R.Position.RightCenter,"rpv-core__arrow--rb":We===R.Position.RightBottom,"rpv-core__arrow--bl":We===R.Position.BottomLeft,"rpv-core__arrow--bc":We===R.Position.BottomCenter,"rpv-core__arrow--br":We===R.Position.BottomRight,"rpv-core__arrow--lt":We===R.Position.LeftTop,"rpv-core__arrow--lc":We===R.Position.LeftCenter,"rpv-core__arrow--lb":We===R.Position.LeftBottom},Re["".concat(Ue)]=Ue!=="",Re))})},it=function(pe){var Re=pe.ariaControlsSuffix,Ue=pe.children,We=pe.closeOnClickOutside,Qe=pe.offset,tt=pe.position,pt=pe.targetRef,ot=pe.onClose,Ke=O.useRef(),ht=O.useRef(),dt=O.useRef(),Mt=O.useContext(Y).direction===R.TextDirection.RightToLeft;me(We,Ke,ot),ke(Ke,pt,dt,tt,Qe),Q(function(){var kt=ht.current;if(kt){var as=.75*document.body.clientHeight;kt.getBoundingClientRect().height>=as&&(kt.style.overflow="auto",kt.style.maxHeight="".concat(as,"px"))}},[]);var Pt="rpv-core__popover-body-inner-".concat(Re);return O.createElement(O.Fragment,null,O.createElement("div",{ref:dt,style:{left:0,position:"absolute",top:0}}),O.createElement("div",{"aria-describedby":Pt,className:re({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Mt}),id:"rpv-core__popover-body-".concat(Re),ref:Ke,role:"dialog",tabIndex:-1},O.createElement(Je,{customClassName:"rpv-core__popover-body-arrow",position:tt}),O.createElement("div",{id:Pt,ref:ht},Ue)))},mt=function(pe){var Re=pe.closeOnEscape,Ue=pe.onClose,We=O.useRef();return ye(function(){We.current&&Re&&Ue()}),O.createElement("div",{className:"rpv-core__popover-overlay",ref:We})},Rt=function(pe){var Re=pe.ariaControlsSuffix,Ue=pe.children,We=pe.contentRef,Qe=pe.offset,tt=pe.position,pt=pe.targetRef,ot=O.useRef(),Ke=O.useContext(Y).direction===R.TextDirection.RightToLeft;return ke(We,pt,ot,tt,Qe),O.createElement(O.Fragment,null,O.createElement("div",{ref:ot,style:{left:0,position:"absolute",top:0}}),O.createElement("div",{className:re({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Ke}),id:"rpv-core__tooltip-body-".concat(Re),ref:We,role:"tooltip"},O.createElement(Je,{customClassName:"rpv-core__tooltip-body-arrow",position:tt}),O.createElement("div",{className:"rpv-core__tooltip-body-content"},Ue)))};R.FullScreenMode=void 0,(gt=R.FullScreenMode||(R.FullScreenMode={})).Normal="Normal",gt.Entering="Entering",gt.Entered="Entered",gt.EnteredCompletely="EnteredCompletely",gt.Exitting="Exitting",gt.Exited="Exited",R.LayerRenderStatus=void 0,(xt=R.LayerRenderStatus||(R.LayerRenderStatus={}))[xt.PreRender=0]="PreRender",xt[xt.DidRender=1]="DidRender",R.PageMode=void 0,(Et=R.PageMode||(R.PageMode={})).Attachments="UseAttachments",Et.Bookmarks="UseOutlines",Et.ContentGroup="UseOC",Et.Default="UserNone",Et.FullScreen="FullScreen",Et.Thumbnails="UseThumbs",R.PasswordStatus=void 0,(jt=R.PasswordStatus||(R.PasswordStatus={})).RequiredPassword="RequiredPassword",jt.WrongPassword="WrongPassword",R.RotateDirection=void 0,(At=R.RotateDirection||(R.RotateDirection={})).Backward="Backward",At.Forward="Forward",R.ScrollMode=void 0,(nt=R.ScrollMode||(R.ScrollMode={})).Page="Page",nt.Horizontal="Horizontal",nt.Vertical="Vertical",nt.Wrapped="Wrapped",R.SpecialZoomLevel=void 0,(lt=R.SpecialZoomLevel||(R.SpecialZoomLevel={})).ActualSize="ActualSize",lt.PageFit="PageFit",lt.PageWidth="PageWidth",R.ViewMode=void 0,(_e=R.ViewMode||(R.ViewMode={})).DualPage="DualPage",_e.DualPageWithCover="DualPageWithCover",_e.SinglePage="SinglePage";var wt,et=function(pe,Re){return pe.reduce(function(Ue,We,Qe){return Qe%Re?Ue[Ue.length-1].push(We):Ue.push([We]),Ue},[])},zt=function(pe,Re){switch(Re[1].name){case"XYZ":return{bottomOffset:function(Ue,We){return Re[3]===null?We:Re[3]},leftOffset:function(Ue,We){return Re[2]===null?0:Re[2]},pageIndex:pe,scaleTo:Re[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:pe,scaleTo:R.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Re[2],leftOffset:0,pageIndex:pe,scaleTo:R.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:pe,scaleTo:1}}},Bt=new Map,js=new Map,xs=function(pe,Re){return"".concat(pe.loadingTask.docId,"___").concat(Re.num,"R").concat(Re.gen===0?"":Re.gen)},Ls=function(pe,Re,Ue){Bt.set(xs(pe,Re),Ue)},ls=function(pe,Re){if(!pe)return Promise.reject("The document is not loaded yet");var Ue="".concat(pe.loadingTask.docId,"___").concat(Re),We=js.get(Ue);return We?Promise.resolve(We):new Promise(function(Qe,tt){pe.getPage(Re+1).then(function(pt){js.set(Ue,pt),pt.ref&&Ls(pe,pt.ref,Re),Qe(pt)})})},fs=function(pe,Re){return new Promise(function(Ue){new Promise(function(We){typeof Re=="string"?pe.getDestination(Re).then(function(Qe){We(Qe)}):We(Re)}).then(function(We){if(typeof We[0]=="object"&&We[0]!==null){var Qe=We[0],tt=function(ot,Ke){var ht=xs(ot,Ke);return Bt.has(ht)?Bt.get(ht):null}(pe,Qe);tt===null?pe.getPageIndex(Qe).then(function(ot){Ls(pe,Qe,ot),fs(pe,Re).then(function(Ke){return Ue(Ke)})}):Ue(zt(tt,We))}else{var pt=zt(We[0],We);Ue(pt)}})})};(function(pe){pe[pe.Solid=1]="Solid",pe[pe.Dashed=2]="Dashed",pe[pe.Beveled=3]="Beveled",pe[pe.Inset=4]="Inset",pe[pe.Underline=5]="Underline"})(wt||(wt={}));var As,Hs=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),St=function(pe,Re,Ue,We){var Qe=parseInt(pe,10);return Qe>=Re&&Qe<=Ue?Qe:We},st=function(pe){return pe.contentsObj?pe.contentsObj.str:pe.contents||""},at=function(pe){return pe.titleObj?pe.titleObj.str:pe.title||""},Nt=function(pe){var Re=pe.annotation,Ue=O.useContext(Y).direction,We=at(Re),Qe=st(Re),tt=Ue===R.TextDirection.RightToLeft,pt=O.useRef(),ot="";if(Re.modificationDate){var Ke=function(ht){var dt=Hs.exec(ht);if(!dt)return null;var Mt=parseInt(dt[1],10),Pt=St(dt[2],1,12,1)-1,kt=St(dt[3],1,31,1),as=St(dt[4],0,23,0),ns=St(dt[5],0,59,0),ts=St(dt[6],0,59,0),zs=dt[7]||"Z",Rs=St(dt[8],0,23,0),Ss=St(dt[9],0,59,0);switch(zs){case"-":as+=Rs,ns+=Ss;break;case"+":as-=Rs,ns-=Ss}return new Date(Date.UTC(Mt,Pt,kt,as,ns,ts))}(Re.modificationDate);ot=Ke?"".concat(Ke.toLocaleDateString(),", ").concat(Ke.toLocaleTimeString()):""}return O.useLayoutEffect(function(){if(pt.current){var ht=document.querySelector('[data-annotation-id="'.concat(Re.id,'"]'));if(ht){var dt=ht;return dt.style.zIndex+=1,function(){dt.style.zIndex="".concat(parseInt(dt.style.zIndex,10)-1)}}}},[]),O.createElement("div",{ref:pt,className:re({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":tt}),style:{top:Re.annotationType===R.AnnotationType.Popup?"":"100%"}},We&&O.createElement(O.Fragment,null,O.createElement("div",{className:re({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!tt,"rpv-core__annotation-popup-title--rtl":tt})},We),O.createElement("div",{className:"rpv-core__annotation-popup-date"},ot)),Qe&&O.createElement("div",{className:"rpv-core__annotation-popup-content"},Qe.split(`
`).map(function(ht,dt){return O.createElement(O.Fragment,{key:dt},ht,O.createElement("br",null))})))};(function(pe){pe.Click="Click",pe.Hover="Hover"})(As||(As={}));var ss,is=function(pe){var Re,Ue=pe.annotation,We=pe.children,Qe=pe.ignoreBorder,tt=pe.hasPopup,pt=pe.isRenderable,ot=pe.page,Ke=pe.viewport,ht=Ue.rect,dt=function(){var Ts=Xe(!1),Ks=Ts.opened,Gs=Ts.toggle,Xs=O.useState(As.Hover),Js=Xs[0],en=Xs[1];return{opened:Ks,closeOnHover:function(){Js===As.Hover&&Gs(R.ToggleStatus.Close)},openOnHover:function(){Js===As.Hover&&Gs(R.ToggleStatus.Open)},toggleOnClick:function(){switch(Js){case As.Click:Ks&&en(As.Hover),Gs(R.ToggleStatus.Toggle);break;case As.Hover:en(As.Click),Gs(R.ToggleStatus.Open)}}}}(),Mt=dt.closeOnHover,Pt=dt.opened,kt=dt.openOnHover,as=dt.toggleOnClick,ns=(Re=[ht[0],ot.view[3]+ot.view[1]-ht[1],ht[2],ot.view[3]+ot.view[1]-ht[3]],[Math.min(Re[0],Re[2]),Math.min(Re[1],Re[3]),Math.max(Re[0],Re[2]),Math.max(Re[1],Re[3])]),ts=ht[2]-ht[0],zs=ht[3]-ht[1],Rs={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Qe&&Ue.borderStyle.width>0){switch(Ue.borderStyle.style){case wt.Dashed:Rs.borderStyle="dashed";break;case wt.Solid:Rs.borderStyle="solid";break;case wt.Underline:Rs=Object.assign({borderBottomStyle:"solid"},Rs);case wt.Beveled:case wt.Inset:}var Ss=Ue.borderStyle.width;Rs.borderWidth="".concat(Ss,"px"),Ue.borderStyle.style!==wt.Underline&&(ts-=2*Ss,zs-=2*Ss);var Ns=Ue.borderStyle,vs=Ns.horizontalCornerRadius,Ms=Ns.verticalCornerRadius;(vs>0||Ms>0)&&(Rs.borderRadius="".concat(vs,"px / ").concat(Ms,"px")),Ue.color?Rs.borderColor="rgb(".concat(0|Ue.color[0],", ").concat(0|Ue.color[1],", ").concat(0|Ue.color[2],")"):Rs.borderWidth="0"}return O.createElement(O.Fragment,null,pt&&We({popup:{opened:Pt,closeOnHover:Mt,openOnHover:kt,toggleOnClick:as},slot:{attrs:{style:Object.assign({height:"".concat(zs,"px"),left:"".concat(ns[0],"px"),top:"".concat(ns[1],"px"),transform:"matrix(".concat(Ke.transform.join(","),")"),transformOrigin:"-".concat(ns[0],"px -").concat(ns[1],"px"),width:"".concat(ts,"px")},Rs)},children:O.createElement(O.Fragment,null,tt&&Pt&&O.createElement(Nt,{annotation:Ue}))}}))},ze=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt);return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Ke){return O.createElement("div",V({},Ke.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Re.id,onClick:Ke.popup.toggleOnClick,onMouseEnter:Ke.popup.openOnHover,onMouseLeave:Ke.popup.closeOnHover}),Ke.slot.children)})},bt=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt),Ke=Re.rect,ht=Ke[2]-Ke[0],dt=Ke[3]-Ke[1],Mt=Re.borderStyle.width;return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Pt){return O.createElement("div",V({},Pt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Re.id,onClick:Pt.popup.toggleOnClick,onMouseEnter:Pt.popup.openOnHover,onMouseLeave:Pt.popup.closeOnHover}),O.createElement("svg",{height:"".concat(dt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ht," ").concat(dt),width:"".concat(ht,"px")},O.createElement("circle",{cy:dt/2,fill:"none",rx:ht/2-Mt/2,ry:dt/2-Mt/2,stroke:"transparent",strokeWidth:Mt||1})),Pt.slot.children)})},Yt=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=at(Re),tt=st(Re),pt=!(Re.hasPopup!==!1||!Qe&&!tt),ot=function(){var Ke,ht,dt,Mt,Pt=Re.file;Pt&&(Ke=Pt.filename,ht=Pt.content,dt=typeof ht=="string"?"":URL.createObjectURL(new Blob([ht],{type:""})),(Mt=document.createElement("a")).style.display="none",Mt.href=dt||Ke,Mt.setAttribute("download",function(kt){var as=kt.split("/").pop();return as?as.split("#")[0].split("?")[0]:kt}(Ke)),document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt),dt&&URL.revokeObjectURL(dt))};return O.createElement(is,{annotation:Re,hasPopup:pt,ignoreBorder:!0,isRenderable:!0,page:Ue,viewport:We},function(Ke){return O.createElement("div",V({},Ke.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Re.id,onClick:Ke.popup.toggleOnClick,onDoubleClick:ot,onMouseEnter:Ke.popup.openOnHover,onMouseLeave:Ke.popup.closeOnHover}),Ke.slot.children)})},cs=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt);return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Ke){return O.createElement("div",V({},Ke.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Re.id,onClick:Ke.popup.toggleOnClick,onMouseEnter:Ke.popup.openOnHover,onMouseLeave:Ke.popup.closeOnHover}),Ke.slot.children)})},ms=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=at(Re),tt=st(Re),pt=!(!Qe&&!tt),ot=!Re.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Re.parentType)!==-1;return Q(function(){if(Re.parentId){var Ke=document.querySelector('[data-annotation-id="'.concat(Re.parentId,'"]')),ht=document.querySelector('[data-annotation-id="'.concat(Re.id,'"]'));if(Ke&&ht){var dt=parseFloat(Ke.style.left),Mt=parseFloat(Ke.style.top)+parseFloat(Ke.style.height);ht.style.left="".concat(dt,"px"),ht.style.top="".concat(Mt,"px"),ht.style.transformOrigin="-".concat(dt,"px -").concat(Mt,"px")}}},[]),O.createElement(is,{annotation:Re,hasPopup:ot,ignoreBorder:!1,isRenderable:pt,page:Ue,viewport:We},function(Ke){return O.createElement("div",V({},Ke.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Re.id}),O.createElement(Nt,{annotation:Re}))})},os=function(pe){var Re=pe.annotation,Ue=pe.childAnnotation,We=pe.page,Qe=pe.viewport,tt=Re.hasPopup===!1,pt=at(Re),ot=st(Re),Ke=!!(Re.hasPopup||pt||ot);if(Re.quadPoints&&Re.quadPoints.length>0){var ht=Re.quadPoints.map(function(dt){return Object.assign({},Re,{rect:[dt[2].x,dt[2].y,dt[1].x,dt[1].y],quadPoints:[]})});return O.createElement(O.Fragment,null,ht.map(function(dt,Mt){return O.createElement(os,{key:Mt,annotation:dt,childAnnotation:Ue,page:We,viewport:Qe})}))}return O.createElement(is,{annotation:Re,hasPopup:tt,ignoreBorder:!0,isRenderable:Ke,page:We,viewport:Qe},function(dt){return O.createElement(O.Fragment,null,O.createElement("div",V({},dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Re.id,onClick:dt.popup.toggleOnClick,onMouseEnter:dt.popup.openOnHover,onMouseLeave:dt.popup.closeOnHover}),dt.slot.children),Ue&&Ue.annotationType===R.AnnotationType.Popup&&dt.popup.opened&&O.createElement(ms,{annotation:Ue,page:We,viewport:Qe}))})},Be=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt),Ke=Re.rect,ht=Ke[2]-Ke[0],dt=Ke[3]-Ke[1],Mt=Re.borderStyle.width;return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Pt){return O.createElement("div",V({},Pt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Re.id,onClick:Pt.popup.toggleOnClick,onMouseEnter:Pt.popup.openOnHover,onMouseLeave:Pt.popup.closeOnHover}),Re.inkLists&&Re.inkLists.length&&O.createElement("svg",{height:"".concat(dt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ht," ").concat(dt),width:"".concat(ht,"px")},Re.inkLists.map(function(kt,as){return O.createElement("polyline",{key:as,fill:"none",stroke:"transparent",strokeWidth:Mt||1,points:kt.map(function(ns){return"".concat(ns.x-Ke[0],",").concat(Ke[3]-ns.y)}).join(" ")})})),Pt.slot.children)})},Ie=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt),Ke=Re.rect,ht=Ke[2]-Ke[0],dt=Ke[3]-Ke[1],Mt=Re.borderStyle.width;return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Pt){return O.createElement("div",V({},Pt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Re.id,onClick:Pt.popup.toggleOnClick,onMouseEnter:Pt.popup.openOnHover,onMouseLeave:Pt.popup.closeOnHover}),O.createElement("svg",{height:"".concat(dt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ht," ").concat(dt),width:"".concat(ht,"px")},O.createElement("line",{stroke:"transparent",strokeWidth:Mt||1,x1:Ke[2]-Re.lineCoordinates[0],x2:Ke[2]-Re.lineCoordinates[2],y1:Ke[3]-Re.lineCoordinates[1],y2:Ke[3]-Re.lineCoordinates[3]})),Pt.slot.children)})},Ze=/^([^\w]*)(javascript|data|vbscript)/im,vt=/&#(\w+)(^\w|;)?/g,yt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Tt=/^([^:]+):/gm,Lt=function(pe,Re){var Ue,We=(Ue=pe||"",Ue.replace(vt,function(ot,Ke){return String.fromCharCode(Ke)})).replace(yt,"").trim();if(!We)return Re;var Qe=We[0];if(Qe==="."||Qe==="/")return We;var tt=We.match(Tt);if(!tt)return We;var pt=tt[0];return Ze.test(pt)?Re:We},hs=function(pe){var Re,Ue=pe.annotation,We=pe.annotationContainerRef,Qe=pe.doc,tt=pe.outlines,pt=pe.page,ot=pe.pageIndex,Ke=pe.scale,ht=pe.viewport,dt=pe.onExecuteNamedAction,Mt=pe.onJumpFromLinkAnnotation,Pt=pe.onJumpToDest,kt=O.useRef(),as=tt&&tt.length&&Ue.dest&&typeof Ue.dest=="string"?(Re=tt.find(function(Rs){return Rs.dest===Ue.dest}))===null||Re===void 0?void 0:Re.title:"",ns=!!(Ue.url||Ue.dest||Ue.action||Ue.unsafeUrl),ts={};if(Ue.url||Ue.unsafeUrl){var zs=Lt(Ue.url||Ue.unsafeUrl,"");zs?ts={"data-target":"external",href:zs,rel:"noopener noreferrer nofollow",target:Ue.newWindow?"_blank":"",title:zs}:ns=!1}else ts={href:"","data-annotation-link":Ue.id,onClick:function(Rs){Rs.preventDefault(),Ue.action?dt(Ue.action):fs(Qe,Ue.dest).then(function(Ss){var Ns=kt.current,vs=We.current;if(Ns&&vs){var Ms=Ns.getBoundingClientRect();vs.style.setProperty("height","100%"),vs.style.setProperty("width","100%");var Ts=vs.getBoundingClientRect();vs.style.removeProperty("height"),vs.style.removeProperty("width");var Ks=(Ms.left-Ts.left)/Ke,Gs=(Ts.bottom-Ms.bottom+Ms.height)/Ke;Mt({bottomOffset:Gs,label:as,leftOffset:Ks,pageIndex:ot})}Pt(Ss)})}};return as&&(ts=Object.assign({},ts,{title:as,"aria-label":as})),O.createElement(is,{annotation:Ue,hasPopup:!1,ignoreBorder:!1,isRenderable:ns,page:pt,viewport:ht},function(Rs){return O.createElement("div",V({},Rs.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ue.id,"data-testid":"core__annotation--link-".concat(Ue.id)}),O.createElement("a",V({ref:kt},ts)))})},us=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt),Ke=Re.rect,ht=Ke[2]-Ke[0],dt=Ke[3]-Ke[1],Mt=Re.borderStyle.width;return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Pt){return O.createElement("div",V({},Pt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Re.id,onClick:Pt.popup.toggleOnClick,onMouseEnter:Pt.popup.openOnHover,onMouseLeave:Pt.popup.closeOnHover}),Re.vertices&&Re.vertices.length&&O.createElement("svg",{height:"".concat(dt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ht," ").concat(dt),width:"".concat(ht,"px")},O.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Mt||1,points:Re.vertices.map(function(kt){return"".concat(kt.x-Ke[0],",").concat(Ke[3]-kt.y)}).join(" ")})),Pt.slot.children)})},rs=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt),Ke=Re.rect,ht=Ke[2]-Ke[0],dt=Ke[3]-Ke[1],Mt=Re.borderStyle.width;return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Pt){return O.createElement("div",V({},Pt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Re.id,onClick:Pt.popup.toggleOnClick,onMouseEnter:Pt.popup.openOnHover,onMouseLeave:Pt.popup.closeOnHover}),Re.vertices&&Re.vertices.length&&O.createElement("svg",{height:"".concat(dt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ht," ").concat(dt),width:"".concat(ht,"px")},O.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Mt||1,points:Re.vertices.map(function(kt){return"".concat(kt.x-Ke[0],",").concat(Ke[3]-kt.y)}).join(" ")})),Pt.slot.children)})},Ps=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt),Ke=Re.rect,ht=Ke[2]-Ke[0],dt=Ke[3]-Ke[1],Mt=Re.borderStyle.width;return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Pt){return O.createElement("div",V({},Pt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Re.id,onClick:Pt.popup.toggleOnClick,onMouseEnter:Pt.popup.openOnHover,onMouseLeave:Pt.popup.closeOnHover}),O.createElement("svg",{height:"".concat(dt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ht," ").concat(dt),width:"".concat(ht,"px")},O.createElement("rect",{height:dt-Mt,fill:"none",stroke:"transparent",strokeWidth:Mt||1,x:Mt/2,y:Mt/2,width:ht-Mt})),Pt.slot.children)})},ds=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt);return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Ke){return O.createElement("div",V({},Ke.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Re.id,onClick:Ke.popup.toggleOnClick,onMouseEnter:Ke.popup.openOnHover,onMouseLeave:Ke.popup.closeOnHover}),Ke.slot.children)})},gs=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt);return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Ke){return O.createElement("div",V({},Ke.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Re.id,onClick:Ke.popup.toggleOnClick,onMouseEnter:Ke.popup.openOnHover,onMouseLeave:Ke.popup.closeOnHover}),Ke.slot.children)})},_s=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt);return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Ke){return O.createElement("div",V({},Ke.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Re.id,onClick:Ke.popup.toggleOnClick,onMouseEnter:Ke.popup.openOnHover,onMouseLeave:Ke.popup.closeOnHover}),Ke.slot.children)})},Fs=function(){return O.createElement(J,{size:16},O.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),O.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),O.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),O.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},qs=function(){return O.createElement(J,{size:16},O.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),O.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),O.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),O.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),O.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),O.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),O.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),O.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),O.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),O.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Zs=function(){return O.createElement(J,{size:16},O.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),O.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},En=function(){return O.createElement(J,{size:16},O.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),O.createElement("path",{d:"M6 4.5L6 0.5"}),O.createElement("path",{d:"M18 4.5L18 0.5"}),O.createElement("path",{d:"M10 4.5L10 0.5"}),O.createElement("path",{d:"M14 4.5L14 0.5"}))},pn=function(){return O.createElement(J,{size:16},O.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),O.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),O.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},$n=function(){return O.createElement(J,{size:16},O.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Un=function(pe){var Re=pe.annotation,Ue=pe.childAnnotation,We=pe.page,Qe=pe.viewport,tt=Re.hasPopup===!1,pt=at(Re),ot=st(Re),Ke=!!(Re.hasPopup||pt||ot),ht=Re.name?Re.name.toLowerCase():"";return O.createElement(is,{annotation:Re,hasPopup:tt,ignoreBorder:!1,isRenderable:Ke,page:We,viewport:Qe},function(dt){return O.createElement(O.Fragment,null,O.createElement("div",V({},dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Re.id,onClick:dt.popup.toggleOnClick,onMouseEnter:dt.popup.openOnHover,onMouseLeave:dt.popup.closeOnHover}),ht&&O.createElement("div",{className:"rpv-core__annotation-text-icon"},ht==="check"&&O.createElement(ce,null),ht==="comment"&&O.createElement(Fs,null),ht==="help"&&O.createElement(qs,null),ht==="insert"&&O.createElement($n,null),ht==="key"&&O.createElement(Zs,null),ht==="note"&&O.createElement(En,null),(ht==="newparagraph"||ht==="paragraph")&&O.createElement(pn,null)),dt.slot.children),Ue&&Ue.annotationType===R.AnnotationType.Popup&&dt.popup.opened&&O.createElement(ms,{annotation:Ue,page:We,viewport:Qe}))})},Hn=function(pe){var Re=pe.annotation,Ue=pe.page,We=pe.viewport,Qe=Re.hasPopup===!1,tt=at(Re),pt=st(Re),ot=!!(Re.hasPopup||tt||pt);return O.createElement(is,{annotation:Re,hasPopup:Qe,ignoreBorder:!0,isRenderable:ot,page:Ue,viewport:We},function(Ke){return O.createElement("div",V({},Ke.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Re.id,onClick:Ke.popup.toggleOnClick,onMouseEnter:Ke.popup.openOnHover,onMouseLeave:Ke.popup.closeOnHover}),Ke.slot.children)})},oi=function(pe){var Re=pe.annotations,Ue=pe.doc,We=pe.outlines,Qe=pe.page,tt=pe.pageIndex,pt=pe.plugins,ot=pe.rotation,Ke=pe.scale,ht=pe.onExecuteNamedAction,dt=pe.onJumpFromLinkAnnotation,Mt=pe.onJumpToDest,Pt=O.useRef(),kt=Qe.getViewport({rotation:ot,scale:Ke}).clone({dontFlip:!0}),as=Re.filter(function(ns){return!ns.parentId});return Q(function(){var ns=Pt.current;ns&&pt.forEach(function(ts){ts.onAnnotationLayerRender&&ts.onAnnotationLayerRender({annotations:as,container:ns,pageIndex:tt,rotation:ot,scale:Ke})})},[]),O.createElement("div",{ref:Pt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(tt)},as.map(function(ns){var ts=Re.find(function(zs){return zs.parentId===ns.id});switch(ns.annotationType){case R.AnnotationType.Caret:return O.createElement(ze,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Circle:return O.createElement(bt,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.FileAttachment:return O.createElement(Yt,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.FreeText:return O.createElement(cs,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Highlight:return O.createElement(os,{key:ns.id,annotation:ns,childAnnotation:ts,page:Qe,viewport:kt});case R.AnnotationType.Ink:return O.createElement(Be,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Line:return O.createElement(Ie,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Link:return O.createElement(hs,{key:ns.id,annotation:ns,annotationContainerRef:Pt,doc:Ue,outlines:We,page:Qe,pageIndex:tt,scale:Ke,viewport:kt,onExecuteNamedAction:ht,onJumpFromLinkAnnotation:dt,onJumpToDest:Mt});case R.AnnotationType.Polygon:return O.createElement(us,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Polyline:return O.createElement(rs,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Popup:return O.createElement(ms,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Square:return O.createElement(Ps,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Squiggly:return O.createElement(ds,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Stamp:return O.createElement(gs,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.StrikeOut:return O.createElement(_s,{key:ns.id,annotation:ns,page:Qe,viewport:kt});case R.AnnotationType.Text:return O.createElement(Un,{key:ns.id,annotation:ns,childAnnotation:ts,page:Qe,viewport:kt});case R.AnnotationType.Underline:return O.createElement(Hn,{key:ns.id,annotation:ns,page:Qe,viewport:kt});default:return O.createElement(O.Fragment,{key:ns.id})}}))},Ho=function(pe){var Re=pe.page,Ue=pe.renderAnnotations,We=Se(),Qe=O.useState({loading:!0,annotations:[]}),tt=Qe[0],pt=Qe[1];return O.useEffect(function(){Re.getAnnotations({intent:"display"}).then(function(ot){We.current&&pt({loading:!1,annotations:ot})})},[]),tt.loading?O.createElement(O.Fragment,null):Ue(tt.annotations)},qo=function(pe){var Re=pe.doc,Ue=pe.outlines,We=pe.page,Qe=pe.pageIndex,tt=pe.plugins,pt=pe.rotation,ot=pe.scale,Ke=pe.onExecuteNamedAction,ht=pe.onJumpFromLinkAnnotation,dt=pe.onJumpToDest;return O.createElement(Ho,{page:We,renderAnnotations:function(Mt){return O.createElement(oi,{annotations:Mt,doc:Re,outlines:Ue,page:We,pageIndex:Qe,plugins:tt,rotation:pt,scale:ot,onExecuteNamedAction:Ke,onJumpFromLinkAnnotation:ht,onJumpToDest:dt})}})},li=function(pe,Re){var Ue=pe%Re;return Ue===0?pe:Math.floor(pe-Ue)},Vo=function(pe){var Re=pe.canvasLayerRef,Ue=pe.height,We=pe.page,Qe=pe.pageIndex,tt=pe.plugins,pt=pe.rotation,ot=pe.scale,Ke=pe.width,ht=pe.onRenderCanvasCompleted,dt=O.useRef();return Q(function(){var Mt=dt.current;Mt&&Mt.cancel();var Pt=Re.current;Pt.removeAttribute("data-testid"),tt.forEach(function(Ts){Ts.onCanvasLayerRender&&Ts.onCanvasLayerRender({ele:Pt,pageIndex:Qe,rotation:pt,scale:ot,status:R.LayerRenderStatus.PreRender})});var kt=We.getViewport({rotation:pt,scale:ot}),as=window.devicePixelRatio||1,ns=Math.sqrt(16777216/(kt.width*kt.height)),ts=as>ns;ts?Pt.style.transform="scale(1, 1)":Pt.style.removeProperty("transform");var zs=Math.min(ns,as),Rs=function(Ts,Ks){var Gs,Xs;if(Math.floor(Ts)===Ts)return[Ts,1];var Js=1/Ts;if(Js>Ks)return[1,Ks];if(Math.floor(Js)===Js)return[1,Js];for(var en=Ts>1?Js:Ts,vn=0,dn=1,yn=1,mn=1;;){var gn=vn+yn,xn=dn+mn;if(xn>Ks)break;en<=gn/xn?(yn=(Gs=[gn,xn])[0],mn=Gs[1]):(vn=(Xs=[gn,xn])[0],dn=Xs[1])}return en<(vn/dn+yn/mn)/2?en===Ts?[vn,dn]:[dn,vn]:en===Ts?[yn,mn]:[mn,yn]}(zs,8),Ss=Rs[0],Ns=Rs[1];Pt.width=li(kt.width*zs,Ss),Pt.height=li(kt.height*zs,Ss),Pt.style.width="".concat(li(kt.width,Ns),"px"),Pt.style.height="".concat(li(kt.height,Ns),"px"),Pt.hidden=!0;var vs=Pt.getContext("2d",{alpha:!1}),Ms=ts||as!==1?[zs,0,0,zs,0,0]:null;return dt.current=We.render({canvasContext:vs,transform:Ms,viewport:kt}),dt.current.promise.then(function(){Pt.hidden=!1,Pt.setAttribute("data-testid","core__canvas-layer-".concat(Qe)),tt.forEach(function(Ts){Ts.onCanvasLayerRender&&Ts.onCanvasLayerRender({ele:Pt,pageIndex:Qe,rotation:pt,scale:ot,status:R.LayerRenderStatus.DidRender})}),ht()},function(){ht()}),function(){Pt&&(Pt.width=0,Pt.height=0)}},[]),O.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ue,"px"),width:"".concat(Ke,"px")}},O.createElement("canvas",{ref:Re}))},Wo=function(pe){var Re=pe.height,Ue=pe.page,We=pe.rotation,Qe=pe.scale,tt=pe.width,pt=O.useRef();return Q(function(){var ot=pt.current,Ke=Ue.getViewport({rotation:We,scale:Qe});Ue.getOperatorList().then(function(ht){(function(){var dt=pt.current;dt&&(dt.innerHTML="")})(),new B.SVGGraphics(Ue.commonObjs,Ue.objs).getSVG(ht,Ke).then(function(dt){dt.style.height="".concat(Re,"px"),dt.style.width="".concat(tt,"px"),ot.appendChild(dt)})})},[]),O.createElement("div",{className:"rpv-core__svg-layer",ref:pt})},Go=function(pe){var Re=pe.containerRef,Ue=pe.page,We=pe.pageIndex,Qe=pe.plugins,tt=pe.rotation,pt=pe.scale,ot=pe.onRenderTextCompleted,Ke=O.useRef(),ht=function(){var dt=Re.current;dt&&([].slice.call(dt.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Mt){return dt.removeChild(Mt)}),[].slice.call(dt.querySelectorAll('br[role="presentation"]')).forEach(function(Mt){return dt.removeChild(Mt)}))};return Q(function(){var dt=Ke.current;dt&&dt.cancel();var Mt=Re.current;if(Mt){Mt.removeAttribute("data-testid");var Pt=Ue.getViewport({rotation:tt,scale:pt});return Qe.forEach(function(kt){kt.onTextLayerRender&&kt.onTextLayerRender({ele:Mt,pageIndex:We,scale:pt,status:R.LayerRenderStatus.PreRender})}),Ue.getTextContent().then(function(kt){ht(),Ke.current=B.renderTextLayer({container:Mt,textContent:kt,textContentSource:kt,viewport:Pt}),Ke.current.promise.then(function(){Mt.setAttribute("data-testid","core__text-layer-".concat(We)),[].slice.call(Mt.children).forEach(function(as){as.classList.contains("rpv-core__text-layer-text--not")||as.classList.add("rpv-core__text-layer-text")}),Qe.forEach(function(as){as.onTextLayerRender&&as.onTextLayerRender({ele:Mt,pageIndex:We,scale:pt,status:R.LayerRenderStatus.DidRender})}),ot()},function(){Mt.removeAttribute("data-testid"),ot()})}),function(){var kt;ht(),(kt=Ke.current)===null||kt===void 0||kt.cancel()}}},[]),O.createElement("div",{className:"rpv-core__text-layer",ref:Re})},Ko=function(pe){var Re=pe.doc,Ue=pe.measureRef,We=pe.outlines,Qe=pe.pageIndex,tt=pe.pageRotation,pt=pe.pageSize,ot=pe.plugins,Ke=pe.renderPage,ht=pe.renderQueueKey,dt=pe.rotation,Mt=pe.scale,Pt=pe.shouldRender,kt=pe.viewMode,as=pe.onExecuteNamedAction,ns=pe.onJumpFromLinkAnnotation,ts=pe.onJumpToDest,zs=pe.onRenderCompleted,Rs=pe.onRotatePage,Ss=Se(),Ns=O.useState(null),vs=Ns[0],Ms=Ns[1],Ts=O.useState(!1),Ks=Ts[0],Gs=Ts[1],Xs=O.useState(!1),Js=Xs[0],en=Xs[1],vn=O.useRef(),dn=O.useRef(),yn=Math.abs(dt+tt)%180==0,mn=pt.pageWidth*Mt,gn=pt.pageHeight*Mt,xn=yn?mn:gn,fn=yn?gn:mn,Cn=(pt.rotation+dt+tt)%360,qn=O.useRef(0),Bn=Ke||function(Rn){return O.createElement(O.Fragment,null,Rn.canvasLayer.children,Rn.textLayer.children,Rn.annotationLayer.children)};return O.useEffect(function(){Ms(null),Gs(!1),en(!1)},[tt,dt,Mt]),O.useEffect(function(){Pt&&Ss.current&&!vs&&ls(Re,Qe).then(function(Rn){Ss.current&&(qn.current=ht,Ms(Rn))})},[Pt,vs]),O.useEffect(function(){Ks&&Js&&(ht!==qn.current?(Ms(null),Gs(!1),en(!1)):zs(Qe))},[Ks,Js]),O.createElement("div",{className:re({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":kt===R.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":kt===R.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":kt===R.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Qe),ref:Ue,style:{height:"".concat(fn,"px"),width:"".concat(xn,"px")}},vs?O.createElement(O.Fragment,null,Bn({annotationLayer:{attrs:{},children:O.createElement(qo,{doc:Re,outlines:We,page:vs,pageIndex:Qe,plugins:ot,rotation:Cn,scale:Mt,onExecuteNamedAction:as,onJumpFromLinkAnnotation:ns,onJumpToDest:ts})},canvasLayer:{attrs:{},children:O.createElement(Vo,{canvasLayerRef:vn,height:fn,page:vs,pageIndex:Qe,plugins:ot,rotation:Cn,scale:Mt,width:xn,onRenderCanvasCompleted:function(){Ss.current&&Gs(!0)}})},canvasLayerRendered:Ks,doc:Re,height:fn,pageIndex:Qe,rotation:Cn,scale:Mt,svgLayer:{attrs:{},children:O.createElement(Wo,{height:fn,page:vs,rotation:Cn,scale:Mt,width:xn})},textLayer:{attrs:{},children:O.createElement(Go,{containerRef:dn,page:vs,pageIndex:Qe,plugins:ot,rotation:Cn,scale:Mt,onRenderTextCompleted:function(){Ss.current&&en(!0)}})},textLayerRendered:Js,width:xn,markRendered:zs,onRotatePage:function(Rn){return Rs(Qe,Rn)}}),ot.map(function(Rn,Pn){return Rn.renderPageLayer?O.createElement(O.Fragment,{key:Pn},Rn.renderPageLayer({canvasLayerRef:vn,canvasLayerRendered:Ks,doc:Re,height:fn,pageIndex:Qe,rotation:Cn,scale:Mt,textLayerRef:dn,textLayerRendered:Js,width:xn})):O.createElement(O.Fragment,{key:Pn})})):O.createElement(Ee,{testId:"core__page-layer-loading-".concat(Qe)}))},Xo=function(pe,Re){var Ue=Re.rect;return pe.height!==Ue.height||pe.width!==Ue.width?Ue:pe};(function(pe){pe.Horizontal="Horizontal",pe.Vertical="Vertical",pe.Both="Both"})(ss||(ss={}));var Yo=function(pe){return 1-Math.pow(1-pe,4)},ci=1e-4,Pa={left:0,top:0},Na={capture:!1,passive:!0},Jo=function(pe){var Re=pe.elementRef,Ue=pe.enableSmoothScroll,We=pe.isRtl,Qe=pe.scrollDirection,tt=pe.onSmoothScroll,pt=O.useState(Pa),ot=pt[0],Ke=pt[1],ht=O.useState(Re.current),dt=ht[0],Mt=ht[1],Pt=We?-1:1,kt=O.useRef(Qe);kt.current=Qe;var as=O.useRef(Pa),ns=O.useRef(!0),ts=O.useCallback(function(){ns.current=!0,Ue&&Ke(as.current),tt(!1)},[]),zs=O.useCallback(function(){if(dt){switch(kt.current){case ss.Horizontal:as.current={left:Pt*dt.scrollLeft,top:0};break;case ss.Both:as.current={left:Pt*dt.scrollLeft,top:dt.scrollTop};break;case ss.Vertical:default:as.current={left:0,top:dt.scrollTop}}Ue&&!ns.current||Ke(as.current)}},[dt]);Q(function(){Mt(Re.current)}),Q(function(){if(dt)return dt.addEventListener("scroll",zs,Na),function(){dt.removeEventListener("scroll",zs,Na)}},[dt]);var Rs=O.useCallback(function(Ss,Ns){var vs=Re.current;if(!vs)return Promise.resolve();var Ms={left:0,top:0};switch(kt.current){case ss.Horizontal:Ms.left=Pt*Ss.left;break;case ss.Both:Ms.left=Pt*Ss.left,Ms.top=Ss.top;break;case ss.Vertical:default:Ms.top=Ss.top}return Ns?(ns.current=!1,tt(!0),new Promise(function(Ts,Ks){(function(Gs,Xs,Js,en,vn,dn){vn===void 0&&(vn=function(Pn){return Pn}),dn===void 0&&(dn=function(){});var yn=0,mn=0,gn=!1;switch(Xs){case ss.Horizontal:mn=Gs.scrollLeft,yn=0;case ss.Both:mn=Gs.scrollLeft,yn=Gs.scrollTop;break;case ss.Vertical:default:mn=0,yn=Gs.scrollTop}var xn=function(){gn||(gn=!0,Gs.scrollLeft=Js.left,Gs.scrollTop=Js.top,dn())};if(Math.abs(yn-Js.top)<=ci&&Xs===ss.Vertical)xn();else if(Math.abs(mn-Js.left)<=ci&&Xs===ss.Horizontal)xn();else{var fn,Cn=-1,qn=mn-Js.left,Bn=yn-Js.top,Rn=function(Pn){Cn===-1&&(Cn=Pn);var Xn=Pn-Cn,ks=Math.min(Xn/en,1),Cs=vn(ks),bs={left:mn-qn*Cs,top:yn-Bn*Cs};switch(Xs){case ss.Horizontal:Gs.scrollLeft=bs.left;break;case ss.Both:Gs.scrollLeft=bs.left,Gs.scrollTop=bs.top;break;case ss.Vertical:default:Gs.scrollTop=bs.top}Math.abs(bs.top-Js.top)<=ci&&Math.abs(bs.left-Js.left)<=ci&&!gn&&(window.cancelAnimationFrame(fn),xn()),Xn<en?fn=window.requestAnimationFrame(Rn):window.cancelAnimationFrame(fn)};fn=window.requestAnimationFrame(Rn)}})(vs,kt.current,Ms,400,Yo,function(){ts(),Ts()})})):new Promise(function(Ts,Ks){switch(kt.current){case ss.Horizontal:vs.scrollLeft=Ms.left;break;case ss.Both:vs.scrollLeft=Ms.left,vs.scrollTop=Ms.top;break;case ss.Vertical:default:vs.scrollTop=Ms.top}Ts()})},[Re]);return{scrollOffset:ot,scrollTo:Rs}},Gr=function(pe,Re,Ue){return Math.max(pe,Math.min(Ue,Re))},Qo=function(pe,Re){if(Re!==R.ViewMode.DualPageWithCover)return 0;if(!function(Qe){var tt=Qe.length;if(tt===1)return!1;for(var pt=1;pt<tt;pt++)if(Qe[pt].height!==Qe[0].height||Qe[pt].width!==Qe[0].width)return!0;return!1}(pe))return 2*pe[0].width;var Ue=et(pe.slice(1),2).map(function(Qe){return Qe.length===2?Qe[0].width+Qe[1].width:Qe[0].width}),We=[pe[0].width].concat(Ue);return Math.max.apply(Math,We)},Zo={left:0,top:0},el={left:0,top:0},ki={left:0,top:0},tl={left:0,top:0},sl={height:0,width:0},Ma={left:0,top:0},Ia="data-virtual-index",nl=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],rl=function(pe){var Re=pe.enableSmoothScroll,Ue=pe.isRtl,We=pe.numberOfItems,Qe=pe.parentRef,tt=pe.setRenderRange,pt=pe.sizes,ot=pe.scrollMode,Ke=pe.viewMode,ht=O.useState(!1),dt=ht[0],Mt=ht[1],Pt=O.useCallback(function(ks){return Mt(ks)},[]),kt=O.useRef(ot);kt.current=ot;var as=O.useRef(Ke);as.current=Ke;var ns=ot===R.ScrollMode.Wrapped||Ke===R.ViewMode.DualPageWithCover||Ke===R.ViewMode.DualPage?ss.Both:ot===R.ScrollMode.Horizontal?ss.Horizontal:ss.Vertical,ts=Jo({elementRef:Qe,enableSmoothScroll:Re,isRtl:Ue,scrollDirection:ns,onSmoothScroll:Pt}),zs=ts.scrollOffset,Rs=ts.scrollTo,Ss=function(ks){var Cs=ks.elementRef,bs=O.useState(Cs.current),Es=bs[0],ys=bs[1],Is=O.useRef(!1),Os=O.useReducer(Xo,{height:0,width:0}),ws=Os[0],ps=Os[1];return Q(function(){Cs.current!==Es&&ys(Cs.current)}),Q(function(){if(Es&&!Is.current){Is.current=!0;var $s=Es.getBoundingClientRect(),Us=$s.height,ln=$s.width;ps({rect:{height:Us,width:ln}})}},[Es]),O.useEffect(function(){if(Es){var $s=new ResizeObserver(function(Us,ln){Us.forEach(function(nn){if(nn.target===Es){var _n=nn.contentRect,In=_n.height,Bs=_n.width;ps({rect:{height:In,width:Bs}})}})});return $s.observe(Es),function(){$s.unobserve(Es)}}},[Es]),ws}({elementRef:Qe}),Ns=O.useRef({scrollOffset:Ma,measurements:[]});Ns.current.scrollOffset=zs;var vs=O.useMemo(function(){return Array(We).fill(-1)},[]),Ms=O.useState(vs),Ts=Ms[0],Ks=Ms[1],Gs=O.useMemo(function(){var ks=new IntersectionObserver(function(Cs){Cs.forEach(function(bs){var Es=bs.isIntersecting?bs.intersectionRatio:-1,ys=bs.target.getAttribute(Ia);if(ys){var Is=parseInt(ys,10);0<=Is&&Is<We&&Ks(function(Os){return Os[Is]=Es,function(ws,ps,$s){for(var Us,ln=0,nn=ps.length;ln<nn;ln++)!Us&&ln in ps||(Us||(Us=Array.prototype.slice.call(ps,0,ln)),Us[ln]=ps[ln]);return ws.concat(Us||Array.prototype.slice.call(ps))}([],Os)})}})},{threshold:nl});return ks},[]),Xs=O.useMemo(function(){return ot===R.ScrollMode.Page&&Ke===R.ViewMode.SinglePage?function(ks,Cs,bs){for(var Es=[],ys=0;ys<ks;ys++){var Is={height:Math.max(Cs.height,bs[ys].height),width:Math.max(Cs.width,bs[ys].width)},Os=ys===0?tl:Es[ys-1].end,ws={left:Os.left+Is.width,top:Os.top+Is.height};Es[ys]={index:ys,start:Os,size:Is,end:ws,visibility:-1}}return Es}(We,Ss,pt):Ke===R.ViewMode.DualPageWithCover?function(ks,Cs,bs,Es){for(var ys=[],Is=0,Os=0,ws=ki,ps=0;ps<ks;ps++){var $s=ps===0?{height:Es===R.ScrollMode.Page?Math.max(Cs.height,bs[ps].height):bs[ps].height,width:Es===R.ScrollMode.Page?Math.max(Cs.width,bs[ps].width):bs[ps].width}:{height:Es===R.ScrollMode.Page?Math.max(Cs.height,bs[ps].height):bs[ps].height,width:Math.max(Cs.width/2,bs[ps].width)};Es===R.ScrollMode.Page?ws=ps===0?ki:{left:ps%2==0?$s.width:0,top:Math.floor((ps-1)/2)*$s.height+ys[0].end.top}:ps===0?(ws=ki,Is=bs[0].height,Os=0):ps%2==1?(ws={left:0,top:Is+=Os},Os=ps===ks-1?bs[ps].height:Math.max(bs[ps].height,bs[ps+1].height)):ws={left:ys[ps-1].end.left,top:Is};var Us={left:ws.left+$s.width,top:ws.top+$s.height};ys[ps]={index:ps,start:ws,size:$s,end:Us,visibility:-1}}return ys}(We,Ss,pt,ot):Ke===R.ViewMode.DualPage?function(ks,Cs,bs,Es){for(var ys=[],Is=0,Os=0,ws=el,ps=0;ps<ks;ps++){var $s={height:Es===R.ScrollMode.Page?Math.max(Cs.height,bs[ps].height):bs[ps].height,width:Math.max(Cs.width/2,bs[ps].width)};Es===R.ScrollMode.Page?ws={left:ps%2==0?0:$s.width,top:Math.floor(ps/2)*$s.height}:ps%2==0?(ws={left:0,top:Is+=Os},Os=ps===ks-1?bs[ps].height:Math.max(bs[ps].height,bs[ps+1].height)):ws={left:ys[ps-1].end.left,top:Is};var Us={left:ws.left+$s.width,top:ws.top+$s.height};ys[ps]={index:ps,start:ws,size:$s,end:Us,visibility:-1}}return ys}(We,Ss,pt,ot):function(ks,Cs,bs,Es){for(var ys=[],Is=0,Os={left:0,top:0},ws=0,ps=Zo,$s=0;$s<ks;$s++){var Us=bs[$s];if($s===0)Is=Us.width,Os={left:0,top:0},ws=Us.height;else switch(Es){case R.ScrollMode.Wrapped:(Is+=Us.width)<Cs.width?(ps={left:ys[$s-1].end.left,top:Os.top},ws=Math.max(ws,Us.height)):(Is=Us.width,Os={left:(ps={left:Os.left,top:Os.top+ws}).left,top:ps.top},ws=Us.height);break;case R.ScrollMode.Horizontal:case R.ScrollMode.Vertical:default:ps=ys[$s-1].end}var ln={left:ps.left+Us.width,top:ps.top+Us.height};ys[$s]={index:$s,start:ps,size:Us,end:ln,visibility:-1}}return ys}(We,Ss,pt,ot)},[ot,pt,Ke,Ss]),Js=Xs[We-1]?{height:Xs[We-1].end.top,width:Xs[We-1].end.left}:sl;Ns.current.measurements=Xs;var en=O.useMemo(function(){var ks=function($s,Us,ln,nn){var _n=0;switch($s){case ss.Horizontal:_n=nn.left;break;case ss.Vertical:default:_n=nn.top}var In=Us.length-1,Bs=function(sn,er,Cr,di){for(;sn<=er;){var gr=(sn+er)/2|0,Kr=di(gr);if(Kr<Cr)sn=gr+1;else{if(!(Kr>Cr))return gr;er=gr-1}}return sn>0?sn-1:0}(0,In,_n,function(sn){switch($s){case ss.Horizontal:return Us[sn].start.left;case ss.Both:case ss.Vertical:default:return Us[sn].start.top}});if($s===ss.Both)for(var Sn=Us[Bs].start.top;Bs-1>=0&&Us[Bs-1].start.top===Sn&&Us[Bs-1].start.left>=nn.left;)Bs--;for(var un=Bs;un<=In;){var hn={top:Us[un].start.top-nn.top,left:Us[un].start.left-nn.left},wn={height:ln.height-hn.top,width:ln.width-hn.left};if($s===ss.Horizontal&&wn.width<0||$s===ss.Vertical&&wn.height<0||$s===ss.Both&&(wn.width<0||wn.height<0))break;un++}return{start:Bs,end:un}}(ns,Xs,Ss,zs),Cs=ks.start,bs=ks.end,Es=Ts.slice(Gr(0,We,Cs),Gr(0,We,bs)),ys=Cs+Es.reduce(function($s,Us,ln,nn){return Us>nn[$s]?ln:$s},0),Is=ys=Gr(0,We-1,ys),Os=tt({endPage:bs,numPages:We,startPage:Cs}),ws=Os.startPage,ps=Os.endPage;switch(ws=Math.max(ws,0),ps=Math.min(ps,We-1),Ke){case R.ViewMode.DualPageWithCover:ys>0&&(Is=ys%2==1?ys:ys-1),ws=ws===0?0:ws%2==1?ws:ws-1,We-(ps=ps%2==1?ps-1:ps)<=2&&(ps=We-1);break;case R.ViewMode.DualPage:Is=ys%2==0?ys:ys-1,ws=ws%2==0?ws:ws-1,ps=ps%2==1?ps:ps-1;break;case R.ViewMode.SinglePage:default:Is=ys}return{startPage:ws,endPage:ps,maxVisbilityIndex:Is}},[Xs,Ss,zs,Ke,Ts]),vn=en.startPage,dn=en.endPage,yn=en.maxVisbilityIndex,mn=O.useMemo(function(){for(var ks=[],Cs=function(Es){var ys=Xs[Es],Is=V(V({},ys),{visibility:Ts[Es]!==void 0?Ts[Es]:-1,measureRef:function(Os){Os&&(Os.setAttribute(Ia,"".concat(Es)),Gs.observe(Os))}});ks.push(Is)},bs=vn;bs<=dn;bs++)Cs(bs);return ks},[vn,dn,Ts,Xs]),gn=O.useCallback(function(ks,Cs){var bs=Ns.current.measurements[Gr(0,We-1,ks)],Es=kt.current===R.ScrollMode.Page?Ma:Cs;return bs?Rs({left:Es.left+bs.start.left,top:Es.top+bs.start.top},Re):Promise.resolve()},[Rs,Re]),xn=O.useCallback(function(ks,Cs){var bs=Ns.current.measurements,Es=bs[ks].start,ys=bs.find(function(Os){return Os.start.top-Es.top>1e-12});if(!ys)return Promise.resolve();var Is=ys.index;switch(as.current){case R.ViewMode.DualPage:Is=Is%2==0?Is:Is+1;break;case R.ViewMode.DualPageWithCover:Is=Is%2==1?Is:Is+1}return gn(Is,Cs)},[]),fn=O.useCallback(function(ks,Cs){for(var bs=Ns.current.measurements,Es=bs[ks].start,ys=ks,Is=!1,Os=We-1;Os>=0;Os--)if(Es.top-bs[Os].start.top>1e-12){Is=!0,ys=bs[Os].index;break}if(!Is)return Promise.resolve();switch(as.current){case R.ViewMode.DualPage:ys=ys%2==0?ys:ys-1;break;case R.ViewMode.DualPageWithCover:ys=ys%2==0?ys-1:ys}return ys===ks&&(ys=ks-1),gn(ys,Cs)},[]),Cn=O.useCallback(function(ks,Cs){if(as.current===R.ViewMode.DualPageWithCover||as.current===R.ViewMode.DualPage)return xn(ks,Cs);switch(kt.current){case R.ScrollMode.Wrapped:return xn(ks,Cs);case R.ScrollMode.Horizontal:case R.ScrollMode.Vertical:default:return gn(ks+1,Cs)}},[]),qn=O.useCallback(function(ks,Cs){if(as.current===R.ViewMode.DualPageWithCover||as.current===R.ViewMode.DualPage)return fn(ks,Cs);switch(kt.current){case R.ScrollMode.Wrapped:return fn(ks,Cs);case R.ScrollMode.Horizontal:case R.ScrollMode.Vertical:default:return gn(ks-1,Cs)}},[]),Bn=O.useCallback(function(){return function(ks,Cs){switch(Cs){case R.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(ks.width,"px")};case R.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(ks.height,"px"),width:"100%"}}}(Js,kt.current)},[Js]),Rn=O.useCallback(function(ks){return function(Cs,bs,Es){return Es!==R.ScrollMode.Page?{}:{height:"".concat(bs.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Cs.start.top,"px)")}}(ks,Ss,kt.current)},[Ss]),Pn=O.useCallback(function(ks){return function(Cs,bs,Es,ys,Is){var Os,ws,ps,$s,Us,ln,nn,_n=bs?"right":"left",In=bs?-1:1,Bs=Es.length,Sn=Cs.start.left*In,un=Cs.size,hn=un.height,wn=un.width;if(ys===R.ViewMode.DualPageWithCover){var sn=Is===R.ScrollMode.Page?0:Cs.start.top;return Cs.index===0||Bs%2==0&&Cs.index===Bs-1?((Os={height:"".concat(hn,"px"),minWidth:"".concat(Qo(Es,ys),"px"),width:"100%"})[_n]=0,Os.position="absolute",Os.top=0,Os.transform="translate(".concat(Sn,"px, ").concat(sn,"px)"),Os):((ws={height:"".concat(hn,"px"),width:"".concat(wn,"px")})[_n]=0,ws.position="absolute",ws.top=0,ws.transform="translate(".concat(Sn,"px, ").concat(sn,"px)"),ws)}if(ys===R.ViewMode.DualPage)return(ps={height:"".concat(hn,"px"),width:"".concat(wn,"px")})[_n]=0,ps.position="absolute",ps.top=0,ps.transform="translate(".concat(Sn,"px, ").concat(Is===R.ScrollMode.Page?0:Cs.start.top,"px)"),ps;switch(Is){case R.ScrollMode.Horizontal:return($s={height:"100%",width:"".concat(wn,"px")})[_n]=0,$s.position="absolute",$s.top=0,$s.transform="translateX(".concat(Sn,"px)"),$s;case R.ScrollMode.Page:return(Us={height:"".concat(hn,"px"),width:"".concat(wn,"px")})[_n]=0,Us.position="absolute",Us.top=0,Us;case R.ScrollMode.Wrapped:return(ln={height:"".concat(hn,"px"),width:"".concat(wn,"px")})[_n]=0,ln.position="absolute",ln.top=0,ln.transform="translate(".concat(Sn,"px, ").concat(Cs.start.top,"px)"),ln;case R.ScrollMode.Vertical:default:return(nn={height:"".concat(hn,"px"),width:"100%"})[_n]=0,nn.position="absolute",nn.top=0,nn.transform="translateY(".concat(Cs.start.top,"px)"),nn}}(ks,Ue,pt,as.current,kt.current)},[Ue,pt]),Xn=O.useCallback(function(ks,Cs){var bs=Ns.current,Es=bs.measurements,ys=bs.scrollOffset,Is=Es[Gr(0,We-1,Cs)];if(Is){var Os=kt.current===R.ScrollMode.Page?{left:Is.start.left,top:Is.start.top}:{left:ys.left*ks,top:ys.top*ks};return Rs(Os,!1)}return Promise.resolve()},[]);return O.useEffect(function(){return function(){Gs.disconnect()}},[]),{boundingClientRect:Ss,isSmoothScrolling:dt,startPage:vn,endPage:dn,maxVisbilityIndex:yn,virtualItems:mn,getContainerStyles:Bn,getItemContainerStyles:Rn,getItemStyles:Pn,scrollToItem:gn,scrollToNextItem:Cn,scrollToPreviousItem:qn,zoom:Xn}},Pi=function(pe,Re,Ue,We,Qe,tt){var pt=Ue;switch(!0){case(Qe===R.ViewMode.DualPageWithCover&&tt>=3):case(Qe===R.ViewMode.DualPage&&tt>=3):pt=2*Ue;break;default:pt=Ue}switch(We){case R.SpecialZoomLevel.ActualSize:return 1;case R.SpecialZoomLevel.PageFit:return Math.min((pe.clientWidth-17)/pt,(pe.clientHeight-16)/Re);case R.SpecialZoomLevel.PageWidth:return(pe.clientWidth-17)/pt}},il=function(pe){var Re,Ue,We=pe.getCurrentPage,Qe=(Re=50,Ue=O.useRef([]),O.useEffect(function(){return function(){Ue.current=[]}},[]),{push:function(ht){var dt=Ue.current;dt.length+1>Re&&dt.shift(),dt.push(ht),Ue.current=dt},map:function(ht){return Ue.current.map(function(dt){return ht(dt)})},pop:function(){var ht=Ue.current;if(ht.length===0)return null;var dt=ht.pop();return Ue.current=ht,dt}}),tt=function(ht){var dt=O.useRef([]);return O.useEffect(function(){return function(){dt.current=[]}},[]),{dequeue:function(){var Mt=dt.current;if(Mt.length===0)return null;var Pt=Mt.shift();return dt.current=Mt,Pt||null},enqueue:function(Mt){var Pt=dt.current;Pt.length+1>ht&&Pt.pop(),dt.current=[Mt].concat(Pt)},map:function(Mt){return dt.current.map(function(Pt){return Mt(Pt)})}}}(50),pt=function(){var ht=tt.dequeue();return ht&&Qe.push(ht),ht&&ht.pageIndex===We()?pt():ht},ot=function(){var ht=Qe.pop();return ht&&tt.enqueue(ht),ht&&ht.pageIndex===We()?ot():ht},Ke=O.useCallback(function(ht){Qe.push(ht)},[]);return{getNextDestination:pt,getPreviousDestination:ot,markVisitedDestination:Ke}},La=function(pe){var Re=[];return pe.map(function(Ue){Re=Re.concat(Ue).concat(function(We){var Qe=[];return We.items&&We.items.length>0&&(Qe=Qe.concat(La(We.items))),Qe}(Ue))}),Re},Fa={capture:!1,passive:!0},al={height:0,width:0},Ni={height:0,width:0},ol=function(pe){var Re=pe.getCurrentPage,Ue=pe.getCurrentScrollMode,We=pe.jumpToPage,Qe=pe.targetRef,tt=O.useState(R.FullScreenMode.Normal),pt=tt[0],ot=tt[1],Ke=function(){var Ts=O.useState(al),Ks=Ts[0],Gs=Ts[1],Xs=Pe(function(){Gs({height:window.innerHeight,width:window.innerWidth})},100);return Q(function(){return window.addEventListener("resize",Xs,Fa),function(){window.removeEventListener("resize",Xs,Fa)}},[]),Ks}(),ht=O.useState(Ni),dt=ht[0],Mt=ht[1],Pt=O.useRef(Ni),kt=O.useRef(Re()),as=O.useRef(Ni),ns=O.useState(Qe.current),ts=ns[0],zs=ns[1],Rs=O.useRef();Q(function(){Qe.current!==ts&&zs(Qe.current)},[]),Q(function(){if(ts){var Ts=new ResizeObserver(function(Ks){Ks.forEach(function(Gs){var Xs=Gs.target.getBoundingClientRect(),Js=Xs.height,en=Xs.width;Mt({height:Js,width:en})})});return Ts.observe(ts),function(){Ts.unobserve(ts),Ts.disconnect()}}},[ts]);var Ss=O.useCallback(function(Ts){var Ks=Me();return Ks&&Ks!==Ts?(ot(R.FullScreenMode.Normal),we(Ks)):Promise.resolve()},[]),Ns=O.useCallback(function(Ts){Ts&&xe()&&(zs(Ts),Ss(Ts).then(function(){Rs.current=Ts,ot(R.FullScreenMode.Entering),function(Ks){be&&Ks[Ae.RequestFullScreen]()}(Ts)}))},[]),vs=O.useCallback(function(){Me()&&(ot(R.FullScreenMode.Exitting),we(document))},[]),Ms=O.useCallback(function(){ts&&Me()!==ts&&ot(R.FullScreenMode.Exitting)},[ts]);return O.useEffect(function(){switch(pt){case R.FullScreenMode.Entering:Rs.current&&(Rs.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),kt.current=Re(),Pt.current={height:window.innerHeight,width:window.innerWidth};break;case R.FullScreenMode.Entered:Ue()===R.ScrollMode.Page?We(kt.current).then(function(){ot(R.FullScreenMode.EnteredCompletely)}):ot(R.FullScreenMode.EnteredCompletely);break;case R.FullScreenMode.Exitting:Rs.current&&(Rs.current.style.backgroundColor="",Rs.current=null),kt.current=Re();break;case R.FullScreenMode.Exited:ot(R.FullScreenMode.Normal),Ue()===R.ScrollMode.Page&&We(kt.current)}},[pt]),O.useEffect(function(){if(pt!==R.FullScreenMode.Normal)return pt===R.FullScreenMode.Entering&&Ke.height===dt.height&&Ke.width===dt.width&&Ke.height>0&&Ke.width>0&&(as.current.height===0||Ke.height==as.current.height)?(as.current={height:window.innerHeight,width:window.innerWidth},void ot(R.FullScreenMode.Entered)):void(pt===R.FullScreenMode.Exitting&&Pt.current.height===Ke.height&&Pt.current.width===Ke.width&&Ke.height>0&&Ke.width>0&&ot(R.FullScreenMode.Exited))},[pt,Ke,dt]),O.useEffect(function(){var Ts;return Ts=Ms,be&&document.addEventListener(Ae.FullScreenChange,Ts),function(){(function(Ks){be&&document.removeEventListener(Ae.FullScreenChange,Ks)})(Ms)}},[ts]),{enterFullScreenMode:Ns,exitFullScreenMode:vs,fullScreenMode:pt}},ll={buildPageStyles:function(){return{}},transformSize:function(pe){return pe.size}},Sr={left:0,top:0},cl=function(pe){var Re=pe.currentFile,Ue=pe.defaultScale,We=pe.doc,Qe=pe.enableSmoothScroll,tt=pe.initialPage,pt=pe.initialRotation,ot=pe.initialScale,Ke=pe.pageLayout,ht=pe.pageSizes,dt=pe.plugins,Mt=pe.renderPage,Pt=pe.scrollMode,kt=pe.setRenderRange,as=pe.viewMode,ns=pe.viewerState,ts=pe.onDocumentLoad,zs=pe.onOpenFile,Rs=pe.onPageChange,Ss=pe.onRotate,Ns=pe.onRotatePage,vs=pe.onZoom,Ms=We.numPages,Ts=We.loadingTask.docId,Ks=O.useContext(qe).l10n,Gs=O.useContext(Y),Xs=Gs.direction===R.TextDirection.RightToLeft,Js=O.useRef(),en=O.useRef(),vn=O.useState(tt),dn=vn[0],yn=vn[1],mn=O.useRef(null),gn=il({getCurrentPage:function(){return Bs.current.pageIndex}}),xn=O.useState(pt),fn=xn[0],Cn=xn[1],qn=Le(fn),Bn=O.useState(!1),Rn=Bn[0],Pn=Bn[1],Xn=O.useState(new Map),ks=Xn[0],Cs=Xn[1],bs=O.useState(Pt),Es=bs[0],ys=bs[1],Is=Le(Es),Os=O.useState(as),ws=Os[0],ps=Os[1],$s=Le(ws),Us=function(es){var Ds=Se(),Vs=O.useState([]),tn=Vs[0],Qs=Vs[1];return O.useEffect(function(){es.getOutline().then(function(Ws){if(Ds.current&&Ws!==null){var jn=La(Ws);Qs(jn)}})},[]),tn}(We),ln=O.useState(ot),nn=ln[0],_n=ln[1],In=Le(nn),Bs=O.useRef(ns),Sn=O.useRef(typeof Ue=="string"?Ue:null),un=O.useRef(-1),hn=O.useRef(-1),wn=O.useRef(tt),sn=ol({getCurrentPage:function(){return Bs.current.pageIndex},getCurrentScrollMode:function(){return Bs.current.scrollMode},jumpToPage:function(es){return sr(es)},targetRef:en}),er=O.useState(-1),Cr=er[0],di=er[1],gr=O.useState(0),Kr=gr[0],fl=gr[1],Ln=je({doc:We});O.useEffect(function(){return function(){Bt.clear(),js.clear()}},[Ts]);var Ba=O.useMemo(function(){return Object.assign({},ll,Ke)},[]),gl=O.useMemo(function(){return Array(Ms).fill(0).map(function(es,Ds){var Vs=[ht[Ds].pageHeight,ht[Ds].pageWidth],tn=Math.abs(fn)%180==0?{height:Vs[0],width:Vs[1]}:{height:Vs[1],width:Vs[0]},Qs={height:tn.height*nn,width:tn.width*nn};return Ba.transformSize({numPages:Ms,pageIndex:Ds,size:Qs})})},[fn,nn]),an=rl({enableSmoothScroll:Qe,isRtl:Xs,numberOfItems:Ms,parentRef:en,scrollMode:Es,setRenderRange:kt,sizes:gl,viewMode:ws}),xl=Pe(function(){!Sn.current||Bs.current.fullScreenMode!==R.FullScreenMode.Normal||tt>0&&wn.current===tt||xr(Sn.current)},200);(function(es){var Ds=es.targetRef,Vs=es.onResize;Q(function(){var tn=new ResizeObserver(function(Ws){Ws.forEach(function(jn){Vs(jn.target)})}),Qs=Ds.current;if(Qs)return tn.observe(Qs),function(){tn.unobserve(Qs)}},[])})({targetRef:en,onResize:xl});var tr=function(es){var Ds=es;dt.forEach(function(Vs){Vs.onViewerStateChange&&(Ds=Vs.onViewerStateChange(Ds))}),Bs.current=Ds},vl=function(){return en.current},bl=function(){return Bs.current},yl=O.useCallback(function(es){gn.markVisitedDestination(es)},[]),Li=O.useCallback(function(es){var Ds=es.pageIndex,Vs=es.bottomOffset,tn=es.leftOffset,Qs=es.scaleTo,Ws=en.current,jn=Bs.current;return Ws&&jn?new Promise(function(nr,zi){ls(We,Ds).then(function(hi){var rr=hi.getViewport({scale:1}),pi=0,Ka=(typeof Vs=="function"?Vs(rr.width,rr.height):Vs)||0,mi=(typeof tn=="function"?tn(rr.width,rr.height):tn)||0,Ar=jn.scale;switch(Qs){case R.SpecialZoomLevel.PageFit:pi=0,mi=0,xr(R.SpecialZoomLevel.PageFit);break;case R.SpecialZoomLevel.PageWidth:Ar=Pi(Ws,ht[Ds].pageHeight,ht[Ds].pageWidth,R.SpecialZoomLevel.PageWidth,as,Ms),pi=(rr.height-Ka)*Ar,mi*=Ar,xr(Ar);break;default:pi=(rr.height-Ka)*Ar,mi*=Ar}switch(jn.scrollMode){case R.ScrollMode.Horizontal:an.scrollToItem(Ds,{left:mi,top:0}).then(function(){nr()});break;case R.ScrollMode.Vertical:default:an.scrollToItem(Ds,{left:0,top:pi}).then(function(){nr()})}})}):Promise.resolve()},[]),za=O.useCallback(function(es){return gn.markVisitedDestination(es),Li(es)},[]),El=O.useCallback(function(){var es=gn.getNextDestination();return es?Li(es):Promise.resolve()},[]),wl=O.useCallback(function(){var es=gn.getPreviousDestination();return es?Li(es):Promise.resolve()},[]),jl=O.useCallback(function(){return an.scrollToNextItem(Bs.current.pageIndex,Sr)},[]),sr=O.useCallback(function(es){return 0<=es&&es<Ms?an.scrollToItem(es,Sr):Promise.resolve()},[]),Rl=O.useCallback(function(){return an.scrollToPreviousItem(Bs.current.pageIndex,Sr)},[]),Ua=O.useCallback(function(es){var Ds,Vs;(Ds=es.name,Vs=Ds.split(/\./).pop(),Vs?Vs.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(tn){var Qs=new FileReader;Qs.readAsArrayBuffer(es),Qs.onload=function(){var Ws=new Uint8Array(Qs.result);tn(Ws)}}).then(function(tn){zs(es.name,tn)})},[zs]),Ha=O.useCallback(function(es){var Ds=es===R.RotateDirection.Backward?-90:90,Vs=Bs.current.rotation,tn=Vs===360||Vs===-360?Ds:Vs+Ds;Ln.markNotRendered(),Cn(tn),tr(V(V({},Bs.current),{rotation:tn})),Ss({direction:es,doc:We,rotation:tn})},[]),Fi=O.useCallback(function(es,Ds){var Vs=Ds===R.RotateDirection.Backward?-90:90,tn=Bs.current.pagesRotation,Qs=(tn.has(es)?tn.get(es):pt)+Vs,Ws=tn.set(es,Qs);Cs(Ws),Pn(function(jn){return!jn}),tr(V(V({},Bs.current),{pagesRotation:Ws,rotatedPage:es})),Ns({direction:Ds,doc:We,pageIndex:es,rotation:Qs}),Ln.markRendering(es),di(es)},[]),qa=O.useCallback(function(es){tr(V(V({},Bs.current),{scrollMode:es})),ys(es)},[]),Va=O.useCallback(function(es){tr(V(V({},Bs.current),{viewMode:es})),ps(es)},[]),xr=O.useCallback(function(es){var Ds=en.current,Vs=Bs.current.pageIndex;if(!(Vs<0||Vs>=Ms)){var tn=ht[Vs].pageHeight,Qs=ht[Vs].pageWidth,Ws=Ds?typeof es=="string"?Pi(Ds,tn,Qs,es,Bs.current.viewMode,Ms):es:1;Sn.current=typeof es=="string"?es:null,Ws!==Bs.current.scale&&(fl(function(jn){return jn+1}),Ln.markNotRendered(),_n(Ws),vs({doc:We,scale:Ws}),tr(V(V({},Bs.current),{scale:Ws})))}},[]),_l=O.useCallback(function(es){sn.enterFullScreenMode(es)},[]),Sl=O.useCallback(function(){sn.exitFullScreenMode()},[]);O.useEffect(function(){tr(V(V({},Bs.current),{fullScreenMode:sn.fullScreenMode}))},[sn.fullScreenMode]),O.useEffect(function(){var es={enterFullScreenMode:_l,exitFullScreenMode:Sl,getPagesContainer:vl,getViewerState:bl,jumpToDestination:za,jumpToNextDestination:El,jumpToPreviousDestination:wl,jumpToNextPage:jl,jumpToPreviousPage:Rl,jumpToPage:sr,openFile:Ua,rotate:Ha,rotatePage:Fi,setViewerState:tr,switchScrollMode:qa,switchViewMode:Va,zoom:xr};return dt.forEach(function(Ds){Ds.install&&Ds.install(es)}),function(){dt.forEach(function(Ds){Ds.uninstall&&Ds.uninstall(es)})}},[Ts]),O.useEffect(function(){ts({doc:We,file:Re}),dt.forEach(function(es){es.onDocumentLoad&&es.onDocumentLoad({doc:We,file:Re})})},[Ts]);var Oi,Di,$i,Wa=an.boundingClientRect;Oi=function(){tt&&sr(tt)},Di=Wa.height>0&&Wa.width>0,$i=O.useRef(!1),Q(function(){Di&&!$i.current&&($i.current=!0,Oi())},[Oi,Di]),Q(function(){var es=Bs.current.pageIndex;es>-1&&Is!==Es&&an.scrollToItem(es,Sr).then(function(){sn.fullScreenMode===R.FullScreenMode.EnteredCompletely&&(Qe||Ln.markNotRendered(),un.current=-1)})},[Es]),Q(function(){var es=Bs.current.pageIndex;es>-1&&qn!==fn&&an.scrollToItem(es,Sr)},[fn]),Q(function(){In!=0&&In!=Bs.current.scale&&an.zoom(Bs.current.scale/In,Bs.current.pageIndex).then(function(){sn.fullScreenMode===R.FullScreenMode.EnteredCompletely&&(hn.current=-1)})},[nn]),Q(function(){if($s!==Bs.current.viewMode){var es=an.startPage,Ds=an.endPage,Vs=an.virtualItems;Ln.markNotRendered(),Ln.setRange(es,Ds);for(var tn=function(Ws){var jn=Vs.find(function(nr){return nr.index===Ws});jn&&Ln.setVisibility(Ws,jn.visibility)},Qs=es;Qs<=Ds;Qs++)tn(Qs);Bi()}},[ws]),Q(function(){var es=Bs.current.pageIndex;es>-1&&$s!==ws&&an.scrollToItem(es,Sr)},[ws]),Q(function(){var es=Bs.current.pageIndex;es>0&&es===tt&&wn.current===tt&&Sn.current&&(wn.current=-1,xr(Sn.current))},[dn]),O.useEffect(function(){an.isSmoothScrolling||mn.current!==null&&mn.current===dn||(mn.current=dn,Rs({currentPage:dn,doc:We}))},[dn,an.isSmoothScrolling]),O.useEffect(function(){sn.fullScreenMode===R.FullScreenMode.Entering&&Bs.current.scrollMode===R.ScrollMode.Page&&(un.current=Bs.current.pageIndex),sn.fullScreenMode===R.FullScreenMode.EnteredCompletely&&Bs.current.scrollMode===R.ScrollMode.Page&&Qe&&(un.current=-1),sn.fullScreenMode===R.FullScreenMode.EnteredCompletely&&Sn.current&&(hn.current=Bs.current.pageIndex,xr(Sn.current))},[sn.fullScreenMode]),O.useEffect(function(){if(sn.fullScreenMode!==R.FullScreenMode.Entering&&sn.fullScreenMode!==R.FullScreenMode.Exitting&&!an.isSmoothScrolling){var es=an.startPage,Ds=an.endPage,Vs=an.maxVisbilityIndex,tn=an.virtualItems,Qs=Vs,Ws=sn.fullScreenMode===R.FullScreenMode.Entered||sn.fullScreenMode===R.FullScreenMode.EnteredCompletely;if(!(Ws&&Qs!==un.current&&un.current>-1||Ws&&Qs!==hn.current&&hn.current>-1)){yn(Qs),tr(V(V({},Bs.current),{pageIndex:Qs})),Ln.setRange(es,Ds);for(var jn=function(zi){var hi=tn.find(function(rr){return rr.index===zi});hi&&Ln.setVisibility(zi,hi.visibility)},nr=es;nr<=Ds;nr++)jn(nr);Bi()}}},[an.startPage,an.endPage,an.isSmoothScrolling,an.maxVisbilityIndex,sn.fullScreenMode,Rn,fn,nn]);var Cl=O.useCallback(function(es){Ln.markRendered(es),Bi()},[Kr]),Bi=function(){var es=Ln.getHighestPriorityPage();es>-1&&Ln.isInRange(es)&&(Ln.markRendering(es),di(es))},Al=function(es){var Ds=dn-1,Vs=dn+1;switch(es){case"FirstPage":sr(0);break;case"LastPage":sr(Ms-1);break;case"NextPage":Vs<Ms&&sr(Vs);break;case"PrevPage":Ds>=0&&sr(Ds)}},Tl=O.useCallback(function(){var es=an.virtualItems,Ds=[];switch(ws){case R.ViewMode.DualPage:Ds=et(es,2);break;case R.ViewMode.DualPageWithCover:es.length&&(Ds=es[0].index===0?[[es[0]]].concat(et(es.slice(1),2)):et(es,2));break;case R.ViewMode.SinglePage:default:Ds=et(es,1)}var Vs=Ks&&Ks.core?Ks.core.pageLabel:"Page {{pageIndex}}",tn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Js,style:{height:"100%"}},children:O.createElement(O.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:re({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Es===R.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Xs,"rpv-core__inner-pages--single":Es===R.ScrollMode.Page,"rpv-core__inner-pages--vertical":Es===R.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Es===R.ScrollMode.Wrapped}),ref:en,style:{height:"100%",position:"relative"}},children:O.createElement("div",{"data-testid":"core__inner-current-page-".concat(dn),style:Object.assign({"--scale-factor":nn},an.getContainerStyles())},Ds.map(function(Qs){return O.createElement("div",{className:re({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Es===R.ScrollMode.Page}),style:an.getItemContainerStyles(Qs[0]),key:"".concat(Qs[0].index,"-").concat(ws)},Qs.map(function(Ws){var jn=ws===R.ViewMode.DualPageWithCover&&(Ws.index===0||Ms%2==0&&Ws.index===Ms-1);return O.createElement("div",{"aria-label":Vs.replace("{{pageIndex}}","".concat(Ws.index+1)),className:re({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ws===R.ViewMode.DualPage&&Ws.index%2==0,"rpv-core__inner-page--dual-odd":ws===R.ViewMode.DualPage&&Ws.index%2==1,"rpv-core__inner-page--dual-cover":jn,"rpv-core__inner-page--dual-cover-even":ws===R.ViewMode.DualPageWithCover&&!jn&&Ws.index%2==0,"rpv-core__inner-page--dual-cover-odd":ws===R.ViewMode.DualPageWithCover&&!jn&&Ws.index%2==1,"rpv-core__inner-page--single":ws===R.ViewMode.SinglePage&&Es===R.ScrollMode.Page}),role:"region",key:"".concat(Ws.index,"-").concat(ws),style:Object.assign({},an.getItemStyles(Ws),Ba.buildPageStyles({numPages:Ms,pageIndex:Ws.index,scrollMode:Es,viewMode:ws}))},O.createElement(Ko,{doc:We,measureRef:Ws.measureRef,outlines:Us,pageIndex:Ws.index,pageRotation:ks.has(Ws.index)?ks.get(Ws.index):0,pageSize:ht[Ws.index],plugins:dt,renderPage:Mt,renderQueueKey:Kr,rotation:fn,scale:nn,shouldRender:Cr===Ws.index,viewMode:ws,onExecuteNamedAction:Al,onJumpFromLinkAnnotation:yl,onJumpToDest:za,onRenderCompleted:Cl,onRotatePage:Fi}))}))}))}};return dt.forEach(function(Qs){Qs.renderViewer&&(tn=Qs.renderViewer({containerRef:Js,doc:We,pagesContainerRef:en,pagesRotation:ks,pageSizes:ht,rotation:fn,slot:tn,themeContext:Gs,jumpToPage:sr,openFile:Ua,rotate:Ha,rotatePage:Fi,switchScrollMode:qa,switchViewMode:Va,zoom:xr}))}),tn},[dt,an]),Ga=O.useCallback(function(es){return O.createElement("div",V({},es.attrs,{style:es.attrs&&es.attrs.style?es.attrs.style:{}}),es.children,es.subSlot&&Ga(es.subSlot))},[]);return Ga(Tl())},Oa=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],ul=function(pe){var Re=pe.defaultScale,Ue=pe.doc,We=pe.render,Qe=pe.scrollMode,tt=pe.viewMode,pt=O.useRef(),ot=O.useState({pageSizes:[],scale:0}),Ke=ot[0],ht=ot[1];return O.useLayoutEffect(function(){var dt=Array(Ue.numPages).fill(0).map(function(Mt,Pt){return new Promise(function(kt,as){ls(Ue,Pt).then(function(ns){var ts=ns.getViewport({scale:1});kt({pageHeight:ts.height,pageWidth:ts.width,rotation:ts.rotation})})})});Promise.all(dt).then(function(Mt){var Pt=pt.current;if(Pt&&Mt.length!==0){var kt=Mt[0].pageWidth,as=Mt[0].pageHeight,ns=Pt.parentElement,ts=(ns.clientWidth-45)/kt,zs=(ns.clientHeight-45)/as,Rs=ts;switch(Qe){case R.ScrollMode.Horizontal:Rs=Math.min(ts,zs);break;case R.ScrollMode.Vertical:default:Rs=ts}var Ss,Ns,vs=Re?typeof Re=="string"?Pi(ns,as,kt,Re,tt,Ue.numPages):Re:(Ss=Rs,(Ns=Oa.findIndex(function(Ms){return Ms>=Ss}))===-1||Ns===0?Ss:Oa[Ns-1]);ht({pageSizes:Mt,scale:vs})}})},[Ue.loadingTask.docId]),Ke.pageSizes.length===0||Ke.scale===0?O.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:pt},O.createElement(Ee,null)):We(Ke.pageSizes,Ke.scale)},ui=function(){},Mi=function(pe){function Re(Ue,We){var Qe=pe.call(this)||this;return Qe.verifyPassword=Ue,Qe.passwordStatus=We,Qe}return H(Re,pe),Re}(ui),dl=function(pe){var Re=pe.passwordStatus,Ue=pe.renderProtectedView,We=pe.verifyPassword,Qe=pe.onDocumentAskPassword,tt=O.useContext(qe).l10n,pt=O.useState(""),ot=pt[0],Ke=pt[1],ht=O.useContext(Y).direction===R.TextDirection.RightToLeft,dt=function(){return We(ot)};return O.useEffect(function(){Qe&&Qe({verifyPassword:We})},[]),Ue?Ue({passwordStatus:Re,verifyPassword:We}):O.createElement("div",{className:"rpv-core__asking-password-wrapper"},O.createElement("div",{className:re({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":ht})},O.createElement("div",{className:"rpv-core__asking-password-message"},Re===R.PasswordStatus.RequiredPassword&&tt.core.askingPassword.requirePasswordToOpen,Re===R.PasswordStatus.WrongPassword&&tt.core.wrongPassword.tryAgain),O.createElement("div",{className:"rpv-core__asking-password-body"},O.createElement("div",{className:re({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!ht,"rpv-core__asking-password-input--rtl":ht})},O.createElement(ge,{testId:"core__asking-password-input",type:"password",value:ot,onChange:Ke,onKeyDown:function(Mt){Mt.key==="Enter"&&dt()}})),O.createElement(ue,{onClick:dt},tt.core.askingPassword.submit))))},Da=function(pe){function Re(Ue){var We=pe.call(this)||this;return We.doc=Ue,We}return H(Re,pe),Re}(ui),$a=function(pe){function Re(Ue){var We=pe.call(this)||this;return We.error=Ue,We}return H(Re,pe),Re}(ui),Ii=function(pe){function Re(Ue){var We=pe.call(this)||this;return We.percentages=Ue,We}return H(Re,pe),Re}(ui),hl=function(pe){var Re=pe.characterMap,Ue=pe.file,We=pe.httpHeaders,Qe=pe.render,tt=pe.renderError,pt=pe.renderLoader,ot=pe.renderProtectedView,Ke=pe.transformGetDocumentParams,ht=pe.withCredentials,dt=pe.onDocumentAskPassword,Mt=O.useContext(Y).direction===R.TextDirection.RightToLeft,Pt=O.useState(new Ii(0)),kt=Pt[0],as=Pt[1],ns=O.useRef(""),ts=Se();return O.useEffect(function(){ns.current="",as(new Ii(0));var zs=new B.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Rs=Object.assign({httpHeaders:We,withCredentials:ht,worker:zs},typeof Ue=="string"?{url:Ue}:{data:Ue},Re?{cMapUrl:Re.url,cMapPacked:Re.isCompressed}:{}),Ss=Ke?Ke(Rs):Rs,Ns=B.getDocument(Ss);return Ns.onPassword=function(vs,Ms){switch(Ms){case B.PasswordResponses.NEED_PASSWORD:ts.current&&as(new Mi(vs,R.PasswordStatus.RequiredPassword));break;case B.PasswordResponses.INCORRECT_PASSWORD:ts.current&&as(new Mi(vs,R.PasswordStatus.WrongPassword))}},Ns.onProgress=function(vs){var Ms=vs.total>0?Math.min(100,100*vs.loaded/vs.total):100;ts.current&&ns.current===""&&as(new Ii(Ms))},Ns.promise.then(function(vs){ns.current=vs.loadingTask.docId,ts.current&&as(new Da(vs))},function(vs){return ts.current&&!zs.destroyed&&as(new $a({message:vs.message||"Cannot load document",name:vs.name}))}),function(){Ns.destroy(),zs.destroy()}},[Ue]),kt instanceof Mi?O.createElement(dl,{passwordStatus:kt.passwordStatus,renderProtectedView:ot,verifyPassword:kt.verifyPassword,onDocumentAskPassword:dt}):kt instanceof Da?Qe(kt.doc):kt instanceof $a?tt?tt(kt.error):O.createElement("div",{className:re({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Mt})},O.createElement("div",{className:"rpv-core__doc-error-text"},kt.error.message)):O.createElement("div",{"data-testid":"core__doc-loading",className:re({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Mt})},pt?pt(kt.percentages):O.createElement(Ee,null))},pl=function(pe,Re){var Ue=O.useMemo(function(){return pe==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":pe},[]),We=O.useState(Ue),Qe=We[0],tt=We[1],pt=Le(Qe);return O.useEffect(function(){if(pe==="auto"){var ot=window.matchMedia("(prefers-color-scheme: dark)"),Ke=function(ht){tt(ht.matches?"dark":"light")};return ot.addEventListener("change",Ke),function(){return ot.removeEventListener("change",Ke)}}},[]),O.useEffect(function(){Qe!==pt&&Re&&Re(Qe)},[Qe]),O.useEffect(function(){pe!==Qe&&tt(pe)},[pe]),{currentTheme:Qe,setCurrentTheme:tt}},ml=function(pe){return{startPage:pe.startPage-3,endPage:pe.endPage+3}};R.Button=function(pe){var Re=pe.children,Ue=pe.testId,We=pe.onClick,Qe=O.useContext(Y).direction===R.TextDirection.RightToLeft,tt=Ue?{"data-testid":Ue}:{};return O.createElement("button",V({className:re({"rpv-core__button":!0,"rpv-core__button--rtl":Qe}),type:"button",onClick:We},tt),Re)},R.Icon=J,R.LazyRender=function(pe){var Re=pe.attrs,Ue=pe.children,We=pe.testId,Qe=O.useState(!1),tt=Qe[0],pt=Qe[1],ot=We?V(V({},Re),{"data-testid":We}):Re,Ke=ie({once:!0,onVisibilityChanged:function(ht){ht.isVisible&&pt(!0)}});return O.createElement("div",V({ref:Ke},ot),tt&&Ue)},R.LocalizationContext=qe,R.Menu=function(pe){var Re=pe.children,Ue=O.useRef(),We=O.useRef([]),Qe=O.useContext(Y).direction===R.TextDirection.RightToLeft,tt=function(ot){if(Ue.current)switch(ot.key){case"Tab":ot.preventDefault();break;case"ArrowDown":ot.preventDefault(),pt(function(Ke,ht){return ht+1});break;case"ArrowUp":ot.preventDefault(),pt(function(Ke,ht){return ht-1});break;case"End":ot.preventDefault(),pt(function(Ke,ht){return Ke.length-1});break;case"Home":ot.preventDefault(),pt(function(Ke,ht){return 0})}},pt=function(ot){if(Ue.current){var Ke=We.current,ht=Ke.findIndex(function(Mt){return Mt.getAttribute("tabindex")==="0"}),dt=Math.min(Ke.length-1,Math.max(0,ot(Ke,ht)));ht>=0&&ht<=Ke.length-1&&Ke[ht].setAttribute("tabindex","-1"),Ke[dt].setAttribute("tabindex","0"),Ke[dt].focus()}};return Q(function(){var ot=Ue.current;if(ot){var Ke=function(ht){var dt=[];return ht.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Mt){if(Mt instanceof HTMLElement){var Pt=Mt.parentElement;(Pt===ht||window.getComputedStyle(Pt).display!=="none")&&dt.push(Mt)}}),dt}(ot);We.current=Ke}},[]),Q(function(){return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[]),O.createElement("div",{ref:Ue,"aria-orientation":"vertical",className:re({"rpv-core__menu":!0,"rpv-core__menu--rtl":Qe}),role:"menu",tabIndex:0},Re)},R.MenuDivider=function(){return O.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},R.MenuItem=function(pe){var Re=pe.checked,Ue=Re!==void 0&&Re,We=pe.children,Qe=pe.icon,tt=Qe===void 0?null:Qe,pt=pe.isDisabled,ot=pt!==void 0&&pt,Ke=pe.testId,ht=pe.onClick,dt=O.useContext(Y).direction===R.TextDirection.RightToLeft,Mt=Ke?{"data-testid":Ke}:{};return O.createElement("button",V({className:re({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":ot,"rpv-core__menu-item--ltr":!dt,"rpv-core__menu-item--rtl":dt}),role:"menuitem",tabIndex:-1,type:"button",onClick:ht},Mt),O.createElement("div",{className:re({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!dt,"rpv-core__menu-item-icon--rtl":dt})},tt),O.createElement("div",{className:re({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!dt,"rpv-core__menu-item-label--rtl":dt})},We),O.createElement("div",{className:re({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!dt,"rpv-core__menu-item-check--rtl":dt})},Ue&&O.createElement(ce,null)))},R.MinimalButton=function(pe){var Re=pe.ariaLabel,Ue=Re===void 0?"":Re,We=pe.ariaKeyShortcuts,Qe=We===void 0?"":We,tt=pe.children,pt=pe.isDisabled,ot=pt!==void 0&&pt,Ke=pe.isSelected,ht=Ke!==void 0&&Ke,dt=pe.testId,Mt=pe.onClick,Pt=O.useContext(Y).direction===R.TextDirection.RightToLeft,kt=dt?{"data-testid":dt}:{};return O.createElement("button",V({"aria-label":Ue},Qe&&{"aria-keyshortcuts":Qe},ot&&{"aria-disabled":!0},{className:re({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":ot,"rpv-core__minimal-button--rtl":Pt,"rpv-core__minimal-button--selected":ht}),type:"button",onClick:Mt},kt),tt)},R.Modal=function(pe){var Re=pe.ariaControlsSuffix,Ue=pe.closeOnClickOutside,We=pe.closeOnEscape,Qe=pe.content,tt=pe.isOpened,pt=tt!==void 0&&tt,ot=pe.target,Ke=Re||"".concat(de());return O.createElement(rt,{target:ot?function(ht,dt){return O.createElement("div",{"aria-expanded":dt?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Ke)},ot(ht,dt))}:null,content:function(ht){return O.createElement(Fe,null,O.createElement(Ne,{ariaControlsSuffix:Ke,closeOnClickOutside:Ue,closeOnEscape:We,onToggle:ht},Qe(ht)))},isOpened:pt})},R.Popover=function(pe){var Re=pe.ariaHasPopup,Ue=Re===void 0?"dialog":Re,We=pe.ariaControlsSuffix,Qe=pe.closeOnClickOutside,tt=pe.closeOnEscape,pt=pe.content,ot=pe.lockScroll,Ke=ot===void 0||ot,ht=pe.offset,dt=pe.position,Mt=pe.target,Pt=Xe(!1),kt=Pt.opened,as=Pt.toggle,ns=O.useRef(),ts=O.useMemo(function(){return We||"".concat(de())},[]);return O.createElement("div",{ref:ns,"aria-expanded":kt?"true":"false","aria-haspopup":Ue,"aria-controls":"rpv-core__popver-body-".concat(ts)},Mt(as,kt),kt&&O.createElement(O.Fragment,null,Ke&&O.createElement(mt,{closeOnEscape:tt,onClose:as}),O.createElement(it,{ariaControlsSuffix:ts,closeOnClickOutside:Qe,offset:ht,position:dt,targetRef:ns,onClose:as},pt(as))))},R.PrimaryButton=ue,R.ProgressBar=function(pe){var Re=pe.progress,Ue=O.useContext(Y).direction===R.TextDirection.RightToLeft;return O.createElement("div",{className:re({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ue})},O.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Re,"%")}},Re,"%"))},R.Separator=function(){return O.createElement("div",{className:"rpv-core__separator"})},R.Spinner=Ee,R.Splitter=function(pe){var Re=pe.constrain,Ue=O.useContext(Y).direction===R.TextDirection.RightToLeft,We=O.useRef(),Qe=O.useRef(),tt=O.useRef(),pt=O.useRef(0),ot=O.useRef(0),Ke=O.useRef(0),ht=O.useRef(0),dt={capture:!0},Mt=function(kt){var as=We.current,ns=Qe.current,ts=tt.current;if(as&&ns&&ts){var zs=ht.current,Rs=kt.clientX-pt.current,Ss=Ke.current+(Ue?-Rs:Rs),Ns=as.parentElement.getBoundingClientRect().width,vs=100*Ss/Ns;if(as.classList.add("rpv-core__splitter--resizing"),Re){var Ms=Ns-Ss-zs;if(!Re({firstHalfPercentage:vs,firstHalfSize:Ss,secondHalfPercentage:100*Ms/Ns,secondHalfSize:Ms}))return}ns.style.width="".concat(vs,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ns.classList.add("rpv-core__splitter-sibling--resizing"),ts.classList.add("rpv-core__splitter-sibling--resizing")}},Pt=function(kt){var as=We.current,ns=Qe.current,ts=tt.current;as&&ns&&ts&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),as.classList.remove("rpv-core__splitter--resizing"),ns.classList.remove("rpv-core__splitter-sibling--resizing"),ts.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Mt,dt),document.removeEventListener("mouseup",Pt,dt))};return O.useEffect(function(){var kt=We.current;kt&&(ht.current=kt.getBoundingClientRect().width,Qe.current=kt.previousElementSibling,tt.current=kt.nextElementSibling)},[]),O.createElement("div",{ref:We,className:"rpv-core__splitter",onMouseDown:function(kt){var as=Qe.current;as&&(pt.current=kt.clientX,ot.current=kt.clientY,Ke.current=as.getBoundingClientRect().width,document.addEventListener("mousemove",Mt,dt),document.addEventListener("mouseup",Pt,dt))}})},R.TextBox=ge,R.ThemeContext=Y,R.Tooltip=function(pe){var Re=pe.ariaControlsSuffix,Ue=pe.content,We=pe.offset,Qe=pe.position,tt=pe.target,pt=Xe(!1),ot=pt.opened,Ke=pt.toggle,ht=O.useRef(),dt=O.useRef(),Mt=O.useMemo(function(){return Re||"".concat(de())},[]);ye(function(){ht.current&&document.activeElement&&ht.current.contains(document.activeElement)&&kt()});var Pt=function(){Ke(R.ToggleStatus.Open)},kt=function(){Ke(R.ToggleStatus.Close)};return O.createElement(O.Fragment,null,O.createElement("div",{ref:ht,"aria-describedby":"rpv-core__tooltip-body-".concat(Mt),onBlur:function(as){as.relatedTarget instanceof HTMLElement&&as.currentTarget.parentElement&&as.currentTarget.parentElement.contains(as.relatedTarget)?dt.current&&(dt.current.style.display="none"):kt()},onFocus:Pt,onMouseEnter:Pt,onMouseLeave:kt},tt),ot&&O.createElement(Rt,{ariaControlsSuffix:Mt,contentRef:dt,offset:We,position:Qe,targetRef:ht},Ue()))},R.Viewer=function(pe){var Re=pe.characterMap,Ue=pe.defaultScale,We=pe.enableSmoothScroll,Qe=We===void 0||We,tt=pe.fileUrl,pt=pe.httpHeaders,ot=pt===void 0?{}:pt,Ke=pe.initialPage,ht=Ke===void 0?0:Ke,dt=pe.pageLayout,Mt=pe.initialRotation,Pt=Mt===void 0?0:Mt,kt=pe.localization,as=pe.plugins,ns=as===void 0?[]:as,ts=pe.renderError,zs=pe.renderLoader,Rs=pe.renderPage,Ss=pe.renderProtectedView,Ns=pe.scrollMode,vs=Ns===void 0?R.ScrollMode.Vertical:Ns,Ms=pe.setRenderRange,Ts=Ms===void 0?ml:Ms,Ks=pe.transformGetDocumentParams,Gs=pe.theme,Xs=Gs===void 0?{direction:R.TextDirection.LeftToRight,theme:"light"}:Gs,Js=pe.viewMode,en=Js===void 0?R.ViewMode.SinglePage:Js,vn=pe.withCredentials,dn=vn!==void 0&&vn,yn=pe.onDocumentAskPassword,mn=pe.onDocumentLoad,gn=mn===void 0?function(){}:mn,xn=pe.onPageChange,fn=xn===void 0?function(){}:xn,Cn=pe.onRotate,qn=Cn===void 0?function(){}:Cn,Bn=pe.onRotatePage,Rn=Bn===void 0?function(){}:Bn,Pn=pe.onSwitchTheme,Xn=Pn===void 0?function(){}:Pn,ks=pe.onZoom,Cs=ks===void 0?function(){}:ks,bs=O.useState({data:tt,name:typeof tt=="string"?tt:"",shouldLoad:!1}),Es=bs[0],ys=bs[1],Is=function(un,hn){ys({data:hn,name:un,shouldLoad:!0})},Os=O.useState(!1),ws=Os[0],ps=Os[1],$s=Le(Es);O.useEffect(function(){var un,hn,wn,sn;un=$s.data,sn=typeof(hn=tt),(wn=typeof un)=="string"&&sn==="string"&&un===hn||wn==="object"&&sn==="object"&&un.length===hn.length&&un.every(function(er,Cr){return er===hn[Cr]})||ys({data:tt,name:typeof tt=="string"?tt:"",shouldLoad:ws})},[tt,ws]);var Us=ie({onVisibilityChanged:function(un){ps(un.isVisible),un.isVisible&&ys(function(hn){return Object.assign({},hn,{shouldLoad:!0})})}}),ln=typeof Xs=="string"?{direction:R.TextDirection.LeftToRight,theme:Xs}:Xs,nn=O.useState(kt||De),_n=nn[0],In=nn[1],Bs={l10n:_n,setL10n:In},Sn=Object.assign({},{direction:ln.direction},pl(ln.theme||"light",Xn));return O.useEffect(function(){kt&&In(kt)},[kt]),O.createElement(qe.Provider,{value:Bs},O.createElement(Y.Provider,{value:Sn},O.createElement("div",{ref:Us,className:"rpv-core__viewer rpv-core__viewer--".concat(Sn.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Es.shouldLoad&&O.createElement(hl,{characterMap:Re,file:Es.data,httpHeaders:ot,render:function(un){return O.createElement(ul,{defaultScale:Ue,doc:un,render:function(hn,wn){return O.createElement(cl,{currentFile:{data:Es.data,name:Es.name},defaultScale:Ue,doc:un,enableSmoothScroll:Qe,initialPage:ht,initialRotation:Pt,initialScale:wn,pageLayout:dt,pageSizes:hn,plugins:ns,renderPage:Rs,scrollMode:vs,setRenderRange:Ts,viewMode:en,viewerState:{file:Es,fullScreenMode:R.FullScreenMode.Normal,pageIndex:-1,pageHeight:hn[0].pageHeight,pageWidth:hn[0].pageWidth,pagesRotation:new Map,rotation:Pt,scale:wn,scrollMode:vs,viewMode:en},onDocumentLoad:gn,onOpenFile:Is,onPageChange:fn,onRotate:qn,onRotatePage:Rn,onZoom:Cs})},scrollMode:vs,viewMode:en})},renderError:ts,renderLoader:zs,renderProtectedView:Ss,transformGetDocumentParams:Ks,withCredentials:dn,onDocumentAskPassword:yn}))))},R.Worker=function(pe){var Re=pe.children,Ue=pe.workerUrl;return B.GlobalWorkerOptions.workerSrc=Ue,O.createElement(O.Fragment,null,Re)},R.chunk=et,R.classNames=re,R.createStore=function(pe){var Re=pe||{},Ue={},We=function(tt,pt){var ot;Re=V(V({},Re),((ot={})[tt]=pt,ot)),(Ue[tt]||[]).forEach(function(Ke){return Ke(Re[tt])})},Qe=function(tt){return Re[tt]};return{subscribe:function(tt,pt){Ue[tt]=(Ue[tt]||[]).concat(pt)},unsubscribe:function(tt,pt){Ue[tt]=(Ue[tt]||[]).filter(function(ot){return ot!==pt})},update:function(tt,pt){We(tt,pt)},updateCurrentValue:function(tt,pt){var ot=Qe(tt);ot!==void 0&&We(tt,pt(ot))},get:function(tt){return Qe(tt)}}},R.getDestination=fs,R.getPage=ls,R.isFullScreenEnabled=xe,R.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},R.useDebounceCallback=Pe,R.useIntersectionObserver=ie,R.useIsMounted=Se,R.useIsomorphicLayoutEffect=Q,R.usePrevious=Le,R.useRenderQueue=je})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=core_min;var libExports$4=lib$4.exports,lib$3={exports:{}},pageNavigation_min={},e$2=libExports$4;function t$2(R){var w=Object.create(null);return R&&Object.keys(R).forEach(function(_){if(_!=="default"){var A=Object.getOwnPropertyDescriptor(R,_);Object.defineProperty(w,_,A.get?A:{enumerable:!0,get:function(){return R[_]}})}}),w.default=R,Object.freeze(w)}var n$2=t$2(reactExports),a$2=function(){return n$2.createElement(e$2.Icon,{size:16},n$2.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$2=function(){return n$2.createElement(e$2.Icon,{size:16},n$2.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$2=function(){return o$2=Object.assign||function(R){for(var w,_=1,A=arguments.length;_<A;_++)for(var $ in w=arguments[_])Object.prototype.hasOwnProperty.call(w,$)&&(R[$]=w[$]);return R},o$2.apply(this,arguments)},i$2=function(R){var w=n$2.useState(R.get("currentPage")||0),_=w[0],A=w[1],$=function(O){A(O)};return e$2.useIsomorphicLayoutEffect(function(){return R.subscribe("currentPage",$),function(){R.unsubscribe("currentPage",$)}},[]),{currentPage:_}},u$2=function(R){var w=n$2.useState(R.get("numberOfPages")||0),_=w[0],A=w[1],$=function(O){A(O)};return n$2.useEffect(function(){return R.subscribe("numberOfPages",$),function(){R.unsubscribe("numberOfPages",$)}},[]),{numberOfPages:_}},c$2=function(R){var w=R.store,_=n$2.useContext(e$2.LocalizationContext).l10n,A=n$2.useState("1"),$=A[0],O=A[1],B=i$2(w).currentPage,q=u$2(w).numberOfPages;n$2.useEffect(function(){return O("".concat(B+1))},[B]);var H=function(V){var K=w.get("jumpToPage");K&&K(V)},W=_&&_.pageNavigation?_.pageNavigation.enterPageNumber:"Enter a page number";return n$2.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$2.createElement(e$2.TextBox,{ariaLabel:W,testId:"page-navigation__current-page-input",type:"text",value:$,onChange:O,onKeyDown:function(V){switch(V.key){case"ArrowUp":(re=B-1)>=0&&(O("".concat(re+1)),H(re));break;case"ArrowDown":(Y=B+1)<q&&(O("".concat(Y+1)),H(Y));break;case"Enter":K=parseInt($,10),$===""||K<1||K>q?O("".concat(B+1)):H(K-1)}var K,Y,re}}))},l$2=function(R){var w=R.children,_=R.doc,A=e$2.useIsMounted(),$=n$2.useState({loading:!0,labels:[]}),O=$[0],B=$[1];return n$2.useEffect(function(){_.getPageLabels().then(function(q){A.current&&B({loading:!1,labels:q||[]})})},[_.loadingTask.docId]),O.loading?n$2.createElement(n$2.Fragment,null):w(O.labels)},s$2=function(R){var w=R.children,_=R.store,A=function(q){var H=n$2.useState(q.get("doc")),W=H[0],V=H[1],K=function(Y){V(Y)};return n$2.useEffect(function(){return q.subscribe("doc",K),function(){q.unsubscribe("doc",K)}},[]),W}(_),$=i$2(_).currentPage,O=u$2(_).numberOfPages,B=w||function(q){return n$2.createElement(n$2.Fragment,null,q.currentPage+1)};return A?n$2.createElement(l$2,{doc:A},function(q){var H=q.length===O&&O>0?q[$]:"";return B({currentPage:$,numberOfPages:O,pageLabel:H})}):n$2.createElement(n$2.Fragment,null)},g$1=function(){return n$2.createElement(e$2.Icon,{size:16},n$2.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$2={left:0,top:8},m$2=function(R){var w=R.isDisabled,_=R.onClick,A=n$2.useContext(e$2.LocalizationContext).l10n,$=A&&A.pageNavigation?A.pageNavigation.goToFirstPage:"First page";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaLabel:$,isDisabled:w,testId:"page-navigation__first-button",onClick:_},n$2.createElement(g$1,null)),content:function(){return $},offset:f$2})},p$1=function(R){var w=R.children,_=R.store;return(w||function(A){return n$2.createElement(m$2,{isDisabled:A.isDisabled,onClick:A.onClick})})({isDisabled:i$2(_).currentPage===0,onClick:function(){var A=_.get("jumpToPage");A&&A(0)}})},v$1=function(R){var w=R.isDisabled,_=R.onClick,A=n$2.useContext(e$2.LocalizationContext).l10n,$=A&&A.pageNavigation?A.pageNavigation.goToFirstPage:"First page";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(g$1,null),isDisabled:w,testId:"page-navigation__first-menu",onClick:_},$)},d$2={left:0,top:8},P=function(R){var w=R.isDisabled,_=R.onClick,A=n$2.useContext(e$2.LocalizationContext).l10n,$=A&&A.pageNavigation?A.pageNavigation.goToLastPage:"Last page";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaLabel:$,isDisabled:w,testId:"page-navigation__last-button",onClick:_},n$2.createElement(a$2,null)),content:function(){return $},offset:d$2})},b$1=function(R){var w=R.children,_=R.store,A=i$2(_).currentPage,$=u$2(_).numberOfPages;return(w||function(O){return n$2.createElement(P,{isDisabled:O.isDisabled,onClick:O.onClick})})({isDisabled:A+1>=$,onClick:function(){var O=_.get("jumpToPage");O&&O($-1)}})},E$2=function(R){var w=R.isDisabled,_=R.onClick,A=n$2.useContext(e$2.LocalizationContext).l10n,$=A&&A.pageNavigation?A.pageNavigation.goToLastPage:"Last page";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(a$2,null),isDisabled:w,testId:"page-navigation__last-menu",onClick:_},$)},C$1={left:0,top:8},D=function(R){var w=R.isDisabled,_=R.onClick,A=n$2.useContext(e$2.LocalizationContext).l10n,$=A&&A.pageNavigation?A.pageNavigation.goToNextPage:"Next page";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaLabel:$,isDisabled:w,testId:"page-navigation__next-button",onClick:_},n$2.createElement(r$2,null)),content:function(){return $},offset:C$1})},k$1=function(R){var w=R.children,_=R.store;return(w||function(A){return n$2.createElement(D,{onClick:A.onClick,isDisabled:A.isDisabled})})({isDisabled:i$2(_).currentPage+1>=u$2(_).numberOfPages,onClick:function(){var A=_.get("jumpToNextPage");A&&A()}})},T=function(R){var w=R.isDisabled,_=R.onClick,A=n$2.useContext(e$2.LocalizationContext).l10n,$=A&&A.pageNavigation?A.pageNavigation.goToNextPage:"Next page";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),isDisabled:w,testId:"page-navigation__next-menu",onClick:_},$)},x=function(){return n$2.createElement(e$2.Icon,{size:16},n$2.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(R){var w=R.isDisabled,_=R.onClick,A=n$2.useContext(e$2.LocalizationContext).l10n,$=A&&A.pageNavigation?A.pageNavigation.goToPreviousPage:"Previous page";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaLabel:$,isDisabled:w,testId:"page-navigation__previous-button",onClick:_},n$2.createElement(x,null)),content:function(){return $},offset:L})},j=function(R){var w=R.store;return(R.children||function(_){return n$2.createElement(N,{isDisabled:_.isDisabled,onClick:_.onClick})})({isDisabled:i$2(w).currentPage<=0,onClick:function(){var _=w.get("jumpToPreviousPage");_&&_()}})},I$1=function(R){var w=R.isDisabled,_=R.onClick,A=n$2.useContext(e$2.LocalizationContext).l10n,$=A&&A.pageNavigation?A.pageNavigation.goToPreviousPage:"Previous page";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(x,null),isDisabled:w,testId:"page-navigation__previous-menu",onClick:_},$)},h$1=function(R){var w=R.children,_=R.store,A=u$2(_).numberOfPages;return w?w({numberOfPages:A}):n$2.createElement(n$2.Fragment,null,A)},y=function(R){var w=R.containerRef,_=R.numPages,A=R.store,$=i$2(A).currentPage,O=n$2.useRef($);O.current=$;var B=n$2.useRef(!1),q=function(){B.current=!0},H=function(){B.current=!1},W=function(V){var K=w.current,Y=B.current||document.activeElement&&K.contains(document.activeElement);if(K&&Y){var re,Q,ie=V.altKey&&V.key==="ArrowDown"||!V.shiftKey&&!V.altKey&&V.key==="PageDown",J=V.altKey&&V.key==="ArrowUp"||!V.shiftKey&&!V.altKey&&V.key==="PageUp";if(ie)return V.preventDefault(),re=A.get("jumpToPage"),Q=O.current+1,void(re&&Q<_&&re(Q));if(J)return V.preventDefault(),void function(){var ce=A.get("jumpToPage"),ue=O.current-1;ce&&ue>=0&&ce(ue)}();if(e$2.isMac()?V.metaKey&&!V.ctrlKey:V.altKey)switch(V.key){case"ArrowLeft":V.preventDefault(),function(){var ce=A.get("jumpToPreviousDestination");ce&&ce()}();break;case"ArrowRight":V.preventDefault(),function(){var ce=A.get("jumpToNextDestination");ce&&ce()}()}}};return n$2.useEffect(function(){var V=w.current;if(V)return document.addEventListener("keydown",W),V.addEventListener("mouseenter",q),V.addEventListener("mouseleave",H),function(){document.removeEventListener("keydown",W),V.removeEventListener("mouseenter",q),V.removeEventListener("mouseleave",H)}},[w.current]),n$2.createElement(n$2.Fragment,null)};pageNavigation_min.DownArrowIcon=a$2,pageNavigation_min.NextIcon=r$2,pageNavigation_min.PreviousIcon=x,pageNavigation_min.UpArrowIcon=g$1,pageNavigation_min.pageNavigationPlugin=function(R){var w=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},R)},[]),_=n$2.useMemo(function(){return e$2.createStore()},[]),A=function(q){return n$2.createElement(p$1,o$2({},q,{store:_}))},$=function(q){return n$2.createElement(b$1,o$2({},q,{store:_}))},O=function(q){return n$2.createElement(k$1,o$2({},q,{store:_}))},B=function(q){return n$2.createElement(j,o$2({},q,{store:_}))};return{install:function(q){_.update("jumpToDestination",q.jumpToDestination),_.update("jumpToNextDestination",q.jumpToNextDestination),_.update("jumpToNextPage",q.jumpToNextPage),_.update("jumpToPage",q.jumpToPage),_.update("jumpToPreviousDestination",q.jumpToPreviousDestination),_.update("jumpToPreviousPage",q.jumpToPreviousPage)},renderViewer:function(q){var H=q.slot;if(!w.enableShortcuts)return H;var W={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(y,{containerRef:q.containerRef,numPages:q.doc.numPages,store:_}),H.children)};return o$2(o$2({},H),W)},onDocumentLoad:function(q){_.update("doc",q.doc),_.update("numberOfPages",q.doc.numPages)},onViewerStateChange:function(q){return _.update("currentPage",q.pageIndex),q},jumpToNextPage:function(){var q=_.get("jumpToNextPage");q&&q()},jumpToPage:function(q){var H=_.get("jumpToPage");H&&H(q)},jumpToPreviousPage:function(){var q=_.get("jumpToPreviousPage");q&&q()},CurrentPageInput:function(){return n$2.createElement(c$2,{store:_})},CurrentPageLabel:function(q){return n$2.createElement(s$2,o$2({},q,{store:_}))},GoToFirstPage:A,GoToFirstPageButton:function(){return n$2.createElement(A,null,function(q){return n$2.createElement(m$2,o$2({},q))})},GoToFirstPageMenuItem:function(q){return n$2.createElement(A,null,function(H){return n$2.createElement(v$1,{isDisabled:H.isDisabled,onClick:function(){H.onClick(),q.onClick()}})})},GoToLastPage:$,GoToLastPageButton:function(){return n$2.createElement($,null,function(q){return n$2.createElement(P,o$2({},q))})},GoToLastPageMenuItem:function(q){return n$2.createElement($,null,function(H){return n$2.createElement(E$2,{isDisabled:H.isDisabled,onClick:function(){H.onClick(),q.onClick()}})})},GoToNextPage:O,GoToNextPageButton:function(){return n$2.createElement(O,null,function(q){return n$2.createElement(D,o$2({},q))})},GoToNextPageMenuItem:function(q){return n$2.createElement(O,null,function(H){return n$2.createElement(T,{isDisabled:H.isDisabled,onClick:function(){H.onClick(),q.onClick()}})})},GoToPreviousPage:B,GoToPreviousPageButton:function(){return n$2.createElement(B,null,function(q){return n$2.createElement(N,o$2({},q))})},GoToPreviousPageMenuItem:function(q){return n$2.createElement(B,null,function(H){return n$2.createElement(I$1,{isDisabled:H.isDisabled,onClick:function(){H.onClick(),q.onClick()}})})},NumberOfPages:function(q){return n$2.createElement(h$1,o$2({},q,{store:_}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=pageNavigation_min;var libExports$3=lib$3.exports,lib$2={exports:{}},thumbnail_min={};(function(R){var w=libExports$4;function _(ie){var J=Object.create(null);return ie&&Object.keys(ie).forEach(function(ce){if(ce!=="default"){var ue=Object.getOwnPropertyDescriptor(ie,ce);Object.defineProperty(J,ce,ue.get?ue:{enumerable:!0,get:function(){return ie[ce]}})}}),J.default=ie,Object.freeze(J)}var A,$=_(reactExports);R.ThumbnailDirection=void 0,(A=R.ThumbnailDirection||(R.ThumbnailDirection={})).Horizontal="Horizontal",A.Vertical="Vertical";var O=function(){return O=Object.assign||function(ie){for(var J,ce=1,ue=arguments.length;ce<ue;ce++)for(var Ee in J=arguments[ce])Object.prototype.hasOwnProperty.call(J,Ee)&&(ie[Ee]=J[Ee]);return ie},O.apply(this,arguments)},B=function(ie){var J=ie.doc,ce=ie.getPageIndex,ue=ie.renderSpinner,Ee=ie.store,ge=ie.width,le=J.numPages,ve=ce?ce({numPages:le}):0,he=Math.max(0,Math.min(ve,le-1)),fe=Ee.get("pagesRotation")||new Map,be=fe.has(he)?fe.get(he):0,Ae=$.useState(""),xe=Ae[0],we=Ae[1],Me=w.useIsMounted(),Pe=$.useRef(),Se=$.useState(Ee.get("rotation")||0),Le=Se[0],$e=Se[1],He=$.useState(be),je=He[0],De=He[1],qe=$.useState(!1),Ce=qe[0],de=qe[1],me=function(Fe){var Oe=Fe.has(he)?Fe.get(he):0;De(Oe)},ye=function(Fe){$e(Fe)},Ne=w.useIntersectionObserver({onVisibilityChanged:function(Fe){de(Fe.isVisible)}});return $.useEffect(function(){if(Ce){var Fe=Ne.current;Fe&&(we(""),w.getPage(J,he).then(function(Oe){var Xe=Oe.getViewport({scale:1}),rt=(Xe.rotation+Le+je)%360,gt=Math.abs(Le+je)%180==0,xt=gt?Xe.width:Xe.height,Et=gt?Xe.height:Xe.width,jt=document.createElement("canvas"),At=jt.getContext("2d",{alpha:!1}),nt=Fe.clientWidth,lt=Fe.clientHeight,_e=ge?ge/xt:Math.min(nt/xt,lt/Et),ke=_e*xt,Je=_e*Et;jt.height=Je,jt.width=ke,jt.style.opacity="0";var it=Oe.getViewport({rotation:rt,scale:_e});Pe.current=Oe.render({canvasContext:At,viewport:it}),Pe.current.promise.then(function(){Me.current&&we(jt.toDataURL()),jt.width=0,jt.height=0},function(){})}))}},[je,Ce]),$.useEffect(function(){return Ee.subscribe("pagesRotation",me),Ee.subscribe("rotation",ye),function(){Ee.unsubscribe("pagesRotation",me),Ee.unsubscribe("rotation",ye)}},[]),$.useEffect(function(){return function(){var Fe;(Fe=Pe.current)===null||Fe===void 0||Fe.cancel()}},[]),$.createElement("div",{ref:Ne,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},xe?$.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:xe}):$.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},ue?ue():$.createElement(w.Spinner,null)))},q=function(ie){var J=ie.getPageIndex,ce=ie.renderSpinner,ue=ie.store,Ee=ie.width,ge=$.useState(ue.get("doc")),le=ge[0],ve=ge[1],he=function(fe){ve(fe)};return $.useEffect(function(){return ue.subscribe("doc",he),function(){ue.unsubscribe("doc",he)}},[]),$.createElement("div",{className:"rpv-thumbnail__cover"},le?$.createElement(B,{doc:le,getPageIndex:J,renderSpinner:ce,store:ue,width:Ee}):$.createElement("div",{className:"rpv-thumbnail__cover-loader"},ce?ce():$.createElement(w.Spinner,null)))},H=function(){return $.createElement(w.Spinner,null)},W=$.createContext({renderSpinner:H}),V=function(ie){var J=ie.children,ce=ie.doc,ue=w.useIsMounted(),Ee=$.useState({loading:!0,labels:[]}),ge=Ee[0],le=Ee[1];return $.useEffect(function(){ce.getPageLabels().then(function(ve){ue.current&&le({loading:!1,labels:ve||[]})})},[ce.loadingTask.docId]),ge.loading?$.createElement($.Fragment,null):J(ge.labels)},K=function(ie){var J=ie.page,ce=ie.pageHeight,ue=ie.pageIndex,Ee=ie.pageWidth,ge=ie.rotation,le=ie.thumbnailHeight,ve=ie.thumbnailWidth,he=ie.onRenderCompleted,fe=$.useContext(w.LocalizationContext).l10n,be=$.useRef(),Ae=$.useState(""),xe=Ae[0],we=Ae[1],Me=fe&&fe.thumbnail?fe.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return $.useEffect(function(){var Pe=be.current;Pe&&Pe.cancel();var Se=document.createElement("canvas"),Le=Se.getContext("2d",{alpha:!1}),$e=ve,He=$e/(Ee/ce),je=$e/Ee;Se.height=He,Se.width=$e,Se.style.height="".concat(He,"px"),Se.style.width="".concat($e,"px");var De=J.getViewport({rotation:ge,scale:je});return be.current=J.render({canvasContext:Le,viewport:De}),be.current.promise.then(function(){we(Se.toDataURL()),he(ue)},function(){he(ue)}),function(){var qe;(qe=be.current)===null||qe===void 0||qe.cancel()}},[ge]),xe?$.createElement("img",{"aria-label":Me.replace("{{pageIndex}}","".concat(ue+1)),src:xe,height:"".concat(le,"px"),width:"".concat(ve,"px")}):$.useContext(W).renderSpinner()},Y=function(ie){var J=ie.doc,ce=ie.pageHeight,ue=ie.pageIndex,Ee=ie.pageRotation,ge=ie.pageWidth,le=ie.rotation,ve=ie.shouldRender,he=ie.thumbnailWidth,fe=ie.onRenderCompleted,be=ie.onVisibilityChanged,Ae=w.useIsMounted(),xe=$.useState({height:ce,page:null,viewportRotation:0,width:ge}),we=xe[0],Me=xe[1],Pe=we.page,Se=we.height,Le=we.width,$e=Le/Se,He=Math.abs(le+Ee)%180==0,je=He?he:he/$e,De=He?he/$e:he;$.useEffect(function(){ve&&w.getPage(J,ue).then(function(de){var me=de.getViewport({scale:1});Ae.current&&Me({height:me.height,page:de,viewportRotation:me.rotation,width:me.width})})},[ve]);var qe=(we.viewportRotation+le+Ee)%360,Ce=w.useIntersectionObserver({onVisibilityChanged:function(de){be(ue,de)}});return $.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(ue),ref:Ce,style:{height:"".concat(De,"px"),width:"".concat(je,"px")}},Pe?$.createElement(K,{page:Pe,pageHeight:He?Se:Le,pageIndex:ue,pageWidth:He?Le:Se,rotation:qe,thumbnailHeight:De,thumbnailWidth:je,onRenderCompleted:fe}):$.useContext(W).renderSpinner())},re=function(ie){var J=ie.currentPage,ce=ie.doc,ue=ie.labels,Ee=ie.pagesRotation,ge=ie.pageHeight,le=ie.pageWidth,ve=ie.renderCurrentPageLabel,he=ie.renderThumbnailItem,fe=ie.rotatedPage,be=ie.rotation,Ae=ie.thumbnailDirection,xe=ie.thumbnailWidth,we=ie.viewMode,Me=ie.onJumpToPage,Pe=ie.onRotatePage,Se=ce.numPages,Le=ce.loadingTask.docId,$e=$.useRef(null),He=$.useRef([]),je=$.useState(J),De=je[0],qe=je[1],Ce=$.useContext(w.ThemeContext).direction===w.TextDirection.RightToLeft,de=$.useState(-1),me=de[0],ye=de[1],Ne=w.useIsMounted(),Fe=w.usePrevious(we),Oe=$.useRef(!1),Xe=w.useRenderQueue({doc:ce}),rt=$.useMemo(function(){return Array(Se).fill(0).map(function(_e,ke){return ke})},[Le]),gt=$.useMemo(function(){switch(we){case w.ViewMode.DualPage:return w.chunk(rt,2);case w.ViewMode.DualPageWithCover:return[[rt[0]]].concat(w.chunk(rt.slice(1),2));case w.ViewMode.SinglePage:default:return w.chunk(rt,1)}},[Le,we]),xt=function(){if($e.current){var _e=He.current,ke=De+1;ke<_e.length&&(De>=0&&_e[De].setAttribute("tabindex","-1"),qe(ke))}},Et=function(){if($e.current){var _e=He.current,ke=De-1;ke>=0&&(De>=0&&_e[De].setAttribute("tabindex","-1"),qe(ke))}},jt=function(){De>=0&&De<Se&&Me(De)};w.useIsomorphicLayoutEffect(function(){var _e=$e.current;_e&&(He.current=Array.from(_e.querySelectorAll(".rpv-thumbnail__item")))},[we]),$.useEffect(function(){var _e=He.current;if(!(_e.length===0||De<0||De>_e.length)){var ke=_e[De];ke.setAttribute("tabindex","0"),ke.focus()}},[De]),w.useIsomorphicLayoutEffect(function(){var _e=$e.current,ke=He.current;if(!(!_e||ke.length===0||J<0||J>ke.length)){var Je=ke[J].closest(".rpv-thumbnail__items");Je&&(Ae===R.ThumbnailDirection.Vertical?function(it,mt){var Rt=it.getBoundingClientRect().top-mt.getBoundingClientRect().top,wt=it.clientHeight,et=mt.clientHeight;Rt<0?mt.scrollTop+=Rt:Rt+wt<=et||(mt.scrollTop+=Rt+wt-et)}(Je,_e):function(it,mt){var Rt=it.getBoundingClientRect().left-mt.getBoundingClientRect().left,wt=it.clientWidth,et=mt.clientWidth;Rt<0?mt.scrollLeft+=Rt:Rt+wt<=et||(mt.scrollLeft+=Rt+wt-et)}(Je,_e))}},[J,Ae]);var At=$.useCallback(function(_e){Ne.current&&(Xe.markRendered(_e),Oe.current=!1,lt())},[Le]),nt=$.useCallback(function(_e,ke){ke.isVisible?Xe.setVisibility(_e,ke.ratio):Xe.setOutOfRange(_e),lt()},[Le]),lt=$.useCallback(function(){if(!Oe.current){var _e=Xe.getHighestPriorityPage();_e>-1&&(Xe.markRendering(_e),Oe.current=!0,ye(_e))}},[Le]);return $.useEffect(function(){fe>=0&&(Xe.markRendering(fe),Oe.current=!0,ye(fe))},[Le,fe]),w.useIsomorphicLayoutEffect(function(){Fe!==we&&(Xe.markNotRendered(),lt())},[we]),$.createElement("div",{ref:$e,"data-testid":"thumbnail__list",className:w.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Ae===R.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":Ce,"rpv-thumbnail__list--vertical":Ae===R.ThumbnailDirection.Vertical}),onKeyDown:function(_e){switch(_e.key){case"ArrowDown":xt();break;case"ArrowUp":Et();break;case"Enter":jt()}}},gt.map(function(_e,ke){var Je=!1;switch(we){case w.ViewMode.DualPage:Je=J===2*ke||J===2*ke+1;break;case w.ViewMode.DualPageWithCover:Je=J===0&&ke===0||ke>0&&J===2*ke-1||ke>0&&J===2*ke;break;case w.ViewMode.SinglePage:default:Je=J===ke}return $.createElement("div",{className:w.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":we===w.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":we===w.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":we===w.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Je}),key:"".concat(ke,"___").concat(we)},_e.map(function(it){return function(mt){var Rt=we===w.ViewMode.DualPageWithCover&&(mt===0||Se%2==0&&mt===Se-1),wt="".concat(ce.loadingTask.docId,"___").concat(mt),et=ue.length===Se?ue[mt]:"".concat(mt+1),zt=ve?ve({currentPage:J,pageIndex:mt,numPages:Se,pageLabel:et}):et,Bt=Ee.has(mt)?Ee.get(mt):0,js=$.createElement(Y,{doc:ce,pageHeight:ge,pageIndex:mt,pageRotation:Bt,pageWidth:le,rotation:be,shouldRender:me===mt,thumbnailWidth:xe,onRenderCompleted:At,onVisibilityChanged:nt});return he?he({currentPage:J,key:wt,numPages:Se,pageIndex:mt,renderPageLabel:$.createElement($.Fragment,null,zt),renderPageThumbnail:js,onJumpToPage:function(){return Me(mt)},onRotatePage:function(xs){return Pe(mt,xs)}}):$.createElement("div",{key:wt},$.createElement("div",{className:w.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":we===w.ViewMode.DualPage&&mt%2==0,"rpv-thumbnail__item--dual-odd":we===w.ViewMode.DualPage&&mt%2==1,"rpv-thumbnail__item--dual-cover":Rt,"rpv-thumbnail__item--dual-cover-even":we===w.ViewMode.DualPageWithCover&&!Rt&&mt%2==0,"rpv-thumbnail__item--dual-cover-odd":we===w.ViewMode.DualPageWithCover&&!Rt&&mt%2==1,"rpv-thumbnail__item--single":we===w.ViewMode.SinglePage,"rpv-thumbnail__item--selected":J===mt}),role:"button",tabIndex:J===mt?0:-1,onClick:function(){return Me(mt)}},js),$.createElement("div",{"data-testid":"thumbnail__label-".concat(mt),className:"rpv-thumbnail__label"},zt))}(it)}))}))},Q=function(ie){var J=ie.renderCurrentPageLabel,ce=ie.renderThumbnailItem,ue=ie.store,Ee=ie.thumbnailDirection,ge=ie.thumbnailWidth,le=$.useState(ue.get("doc")),ve=le[0],he=le[1],fe=$.useState(ue.get("currentPage")||0),be=fe[0],Ae=fe[1],xe=$.useState(ue.get("pageHeight")||0),we=xe[0],Me=xe[1],Pe=$.useState(ue.get("pageWidth")||0),Se=Pe[0],Le=Pe[1],$e=$.useState(ue.get("rotation")||0),He=$e[0],je=$e[1],De=$.useState(ue.get("pagesRotation")||new Map),qe=De[0],Ce=De[1],de=$.useState(ue.get("rotatedPage")||-1),me=de[0],ye=de[1],Ne=$.useState(ue.get("viewMode")),Fe=Ne[0],Oe=Ne[1],Xe=function(ke){Ae(ke)},rt=function(ke){he(ke)},gt=function(ke){Me(ke)},xt=function(ke){Le(ke)},Et=function(ke){je(ke)},jt=function(ke){Ce(ke)},At=function(ke){ye(ke)},nt=function(ke){Oe(ke)},lt=function(ke){var Je=ue.get("jumpToPage");Je&&Je(ke)},_e=function(ke,Je){ue.get("rotatePage")(ke,Je)};return $.useEffect(function(){return ue.subscribe("doc",rt),ue.subscribe("pageHeight",gt),ue.subscribe("pageWidth",xt),ue.subscribe("rotatedPage",At),ue.subscribe("rotation",Et),ue.subscribe("pagesRotation",jt),ue.subscribe("viewMode",nt),function(){ue.unsubscribe("doc",rt),ue.unsubscribe("pageHeight",gt),ue.unsubscribe("pageWidth",xt),ue.unsubscribe("rotatedPage",At),ue.unsubscribe("rotation",Et),ue.unsubscribe("pagesRotation",jt),ue.unsubscribe("viewMode",nt)}},[]),w.useIsomorphicLayoutEffect(function(){return ue.subscribe("currentPage",Xe),function(){ue.unsubscribe("currentPage",Xe)}},[]),ve?$.createElement(w.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},$.createElement(V,{doc:ve},function(ke){return $.createElement(re,{currentPage:be,doc:ve,labels:ke,pagesRotation:qe,pageHeight:we,pageWidth:Se,renderCurrentPageLabel:J,renderThumbnailItem:ce,rotatedPage:me,rotation:He,thumbnailDirection:Ee,thumbnailWidth:ge,viewMode:Fe,onJumpToPage:lt,onRotatePage:_e})})):$.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},$.useContext(W).renderSpinner())};R.thumbnailPlugin=function(ie){var J=$.useMemo(function(){return w.createStore({rotatePage:function(){},viewMode:w.ViewMode.SinglePage})},[]),ce=$.useState(""),ue=ce[0],Ee=ce[1];return{install:function(ge){J.update("jumpToPage",ge.jumpToPage),J.update("rotatePage",ge.rotatePage)},onDocumentLoad:function(ge){Ee(ge.doc.loadingTask.docId),J.update("doc",ge.doc)},onViewerStateChange:function(ge){return J.update("currentPage",ge.pageIndex),J.update("pagesRotation",ge.pagesRotation),J.update("pageHeight",ge.pageHeight),J.update("pageWidth",ge.pageWidth),J.update("rotation",ge.rotation),J.update("rotatedPage",ge.rotatedPage),J.update("viewMode",ge.viewMode),ge},Cover:function(ge){return $.createElement(q,O({},ge,{renderSpinner:ie==null?void 0:ie.renderSpinner,store:J}))},Thumbnails:$.useCallback(function(ge){return $.createElement(W.Provider,{value:{renderSpinner:(ie==null?void 0:ie.renderSpinner)||H}},$.createElement(Q,{renderCurrentPageLabel:ie==null?void 0:ie.renderCurrentPageLabel,renderThumbnailItem:ge==null?void 0:ge.renderThumbnailItem,store:J,thumbnailDirection:(ge==null?void 0:ge.thumbnailDirection)||R.ThumbnailDirection.Vertical,thumbnailWidth:(ie==null?void 0:ie.thumbnailWidth)||100}))},[ue])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=thumbnail_min;var libExports$2=lib$2.exports,lib$1={exports:{}},fullScreen_min={},e$1=libExports$4;function t$1(R){var w=Object.create(null);return R&&Object.keys(R).forEach(function(_){if(_!=="default"){var A=Object.getOwnPropertyDescriptor(R,_);Object.defineProperty(w,_,A.get?A:{enumerable:!0,get:function(){return R[_]}})}}),w.default=R,Object.freeze(w)}var n$1=t$1(reactExports),r$1=function(){return n$1.createElement(e$1.Icon,{size:16},n$1.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$1.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$1.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$1.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$1.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$1=function(){return n$1.createElement(e$1.Icon,{size:16},n$1.createElement("path",{d:"M0.5 12L23.5 12"}),n$1.createElement("path",{d:"M11.5 1L11.5 23"}),n$1.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$1.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$1.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$1.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$1=function(){return c$1=Object.assign||function(R){for(var w,_=1,A=arguments.length;_<A;_++)for(var $ in w=arguments[_])Object.prototype.hasOwnProperty.call(w,$)&&(R[$]=w[$]);return R},c$1.apply(this,arguments)},u$1={left:0,top:8},o$1=function(R){var w=R.enableShortcuts,_=R.onClick,A=n$1.useContext(e$1.LocalizationContext).l10n,$=A&&A.fullScreen?A.fullScreen.enterFullScreen:"Full screen",O=w?e$1.isMac()?"Meta+Ctrl+F":"F11":"";return n$1.createElement(e$1.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$1.Position.BottomCenter,target:n$1.createElement(e$1.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:$,isDisabled:!e$1.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:_},n$1.createElement(l$1,null)),content:function(){return $},offset:u$1})},i$1={left:0,top:8},a$1=function(R){var w=R.onClick,_=n$1.useContext(e$1.LocalizationContext).l10n,A=_&&_.fullScreen?_.fullScreen.exitFullScreen:"Exit full screen";return n$1.createElement(e$1.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$1.Position.BottomCenter,target:n$1.createElement(e$1.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:A,testId:"full-screen__exit-button-with-tooltip",onClick:w},n$1.createElement(r$1,null)),content:function(){return A},offset:i$1})},f$1=function(R,w){var _=n$1.useState(w.get("fullScreenMode")),A=_[0],$=_[1],O=n$1.useCallback(function(B){$(B)},[]);return n$1.useEffect(function(){return w.subscribe("fullScreenMode",O),function(){w.unsubscribe("fullScreenMode",O)}},[]),{enterFullScreen:function(){var B=w.get("getPagesContainer");if(B){var q=R(B());w.get("enterFullScreenMode")(q)}},exitFullScreen:function(){w.get("exitFullScreenMode")()},isFullScreen:A===e$1.FullScreenMode.Entering||A===e$1.FullScreenMode.EnteredCompletely}},s$1=function(R){var w=R.children,_=R.enableShortcuts,A=R.getFullScreenTarget,$=R.store,O=f$1(A,$),B=O.enterFullScreen,q=O.exitFullScreen,H=O.isFullScreen;return(w||function(W){return H?n$1.createElement(a$1,{onClick:W.onClick}):n$1.createElement(o$1,{enableShortcuts:_,onClick:W.onClick})})({onClick:H?q:B})},S$1=function(R){var w=R.onClick,_=n$1.useContext(e$1.LocalizationContext).l10n,A=_&&_.fullScreen?_.fullScreen.enterFullScreen:"Full screen";return n$1.createElement(e$1.MenuItem,{icon:n$1.createElement(l$1,null),isDisabled:!e$1.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:w},A)},d$1=function(R){var w=R.onClick,_=n$1.useContext(e$1.LocalizationContext).l10n,A=n$1.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,$=_&&_.fullScreen?_.fullScreen.exitFullScreen:"Exit full screen";return n$1.createElement("div",{className:e$1.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!A,"rpv-full-screen__exit-button--rtl":A})},n$1.createElement(e$1.MinimalButton,{ariaLabel:$,testId:"full-screen__exit-button",onClick:w},n$1.createElement(r$1,null)))},m$1=function(R){var w=R.children,_=R.getFullScreenTarget,A=R.store,$=f$1(_,A),O=$.enterFullScreen,B=$.exitFullScreen,q=$.isFullScreen;return q&&(w||function(H){return n$1.createElement(d$1,{onClick:H.onClick})})({onClick:q?B:O})},E$1=function(R){var w=R.store,_=R.onEnterFullScreen,A=R.onExitFullScreen,$=n$1.useState(w.get("fullScreenMode")),O=$[0],B=$[1],q=n$1.useCallback(function(H){B(H)},[]);return n$1.useEffect(function(){switch(O){case e$1.FullScreenMode.EnteredCompletely:_(w.get("zoom"));break;case e$1.FullScreenMode.Exited:A(w.get("zoom"))}},[O]),n$1.useEffect(function(){return w.subscribe("fullScreenMode",q),function(){w.unsubscribe("fullScreenMode",q)}},[]),(O===e$1.FullScreenMode.Entering||O===e$1.FullScreenMode.Entered)&&n$1.createElement("div",{className:"rpv-full-screen__overlay"},n$1.createElement(e$1.Spinner,null))},F=function(R){var w=R.containerRef,_=R.getFullScreenTarget,A=R.store,$=f$1(_,A).enterFullScreen,O=function(B){if(!B.shiftKey&&!B.altKey&&(e$1.isMac()?B.metaKey&&B.ctrlKey&&B.key==="f":B.key==="F11")){var q=w.current;q&&document.activeElement&&q.contains(document.activeElement)&&(B.preventDefault(),$())}};return n$1.useEffect(function(){if(w.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[w.current]),n$1.createElement(n$1.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$1,fullScreen_min.FullScreenIcon=l$1,fullScreen_min.fullScreenPlugin=function(R){var w=(R==null?void 0:R.getFullScreenTarget)||function(B){return B},_=n$1.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},R)},[]),A=n$1.useMemo(function(){return e$1.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$1.FullScreenMode.Normal,zoom:function(){}})},[]),$=function(B){return n$1.createElement(s$1,c$1({},B,{enableShortcuts:_.enableShortcuts,getFullScreenTarget:w,store:A}))},O=function(){return n$1.createElement(m$1,{getFullScreenTarget:w,store:A},R==null?void 0:R.renderExitFullScreenButton)};return{install:function(B){A.update("enterFullScreenMode",B.enterFullScreenMode),A.update("exitFullScreenMode",B.exitFullScreenMode),A.update("getPagesContainer",B.getPagesContainer),A.update("zoom",B.zoom)},onViewerStateChange:function(B){return A.update("fullScreenMode",B.fullScreenMode),B},renderViewer:function(B){var q=B.slot;return q.subSlot&&(q.subSlot.children=n$1.createElement(n$1.Fragment,null,_.enableShortcuts&&n$1.createElement(F,{containerRef:B.containerRef,getFullScreenTarget:w,store:A}),n$1.createElement(E$1,{store:A,onEnterFullScreen:_.onEnterFullScreen,onExitFullScreen:_.onExitFullScreen}),n$1.createElement(O,null),q.subSlot.children)),q},EnterFullScreen:$,EnterFullScreenButton:function(){return n$1.createElement($,null,function(B){return n$1.createElement(o$1,c$1({enableShortcuts:_.enableShortcuts},B))})},EnterFullScreenMenuItem:function(B){return n$1.createElement($,null,function(q){return n$1.createElement(S$1,{onClick:function(){q.onClick(),B.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=fullScreen_min;var libExports$1=lib$1.exports,lib={exports:{}},zoom_min={},e=libExports$4;function t(R){var w=Object.create(null);return R&&Object.keys(R).forEach(function(_){if(_!=="default"){var A=Object.getOwnPropertyDescriptor(R,_);Object.defineProperty(w,_,A.get?A:{enumerable:!0,get:function(){return R[_]}})}}),w.default=R,Object.freeze(w)}var n=t(reactExports),o=function(){return n.createElement(e.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r=function(){return n.createElement(e.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c=function(){return c=Object.assign||function(R){for(var w,_=1,A=arguments.length;_<A;_++)for(var $ in w=arguments[_])Object.prototype.hasOwnProperty.call(w,$)&&(R[$]=w[$]);return R},c.apply(this,arguments)},a=function(R){var w=n.useState(R.get("scale")||0),_=w[0],A=w[1],$=function(O){A(O)};return n.useEffect(function(){return R.subscribe("scale",$),function(){R.unsubscribe("scale",$)}},[]),{scale:_}},u=function(R){var w=R.children,_=R.store;return(w||function(A){return n.createElement(n.Fragment,null,"".concat(Math.round(100*A.scale),"%"))})({scale:a(_).scale})},l={passive:!1},i=null,s=function(R){var w=R.pagesContainerRef,_=R.store,A=e.useDebounceCallback(function(O){var B=_.get("zoom");B&&B(O)},40),$=function(O){if(O.ctrlKey){O.preventDefault();var B=O.target.getBoundingClientRect(),q=1-O.deltaY/100,H=O.clientX-B.left,W=O.clientY-B.top,V=_.get("scale"),K=(i||(i=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(H,W).scale(q).translate(-H,-W).scale(V);A(K.a)}};return e.useIsomorphicLayoutEffect(function(){var O=w.current;if(O)return O.addEventListener("wheel",$,l),function(){O.removeEventListener("wheel",$)}},[]),n.createElement(n.Fragment,null)},m=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f=function(R){return m.find(function(w){return w>R})||R},v=function(R){var w=m.findIndex(function(_){return _>=R});return w===-1||w===0?R:m[w-1]},p=function(R){var w=R.containerRef,_=R.store,A=function($){if(!$.shiftKey&&!$.altKey&&(e.isMac()?$.metaKey:$.ctrlKey)){var O=w.current;if(O&&document.activeElement&&O.contains(document.activeElement)){var B=_.get("zoom");if(B){var q=_.get("scale")||1,H=1;switch($.key){case"-":H=v(q);break;case"=":H=f(q);break;case"0":H=1;break;default:H=q}H!==q&&($.preventDefault(),B(H))}}}};return n.useEffect(function(){if(w.current)return document.addEventListener("keydown",A),function(){document.removeEventListener("keydown",A)}},[w.current]),n.createElement(n.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E={left:0,top:8},d=function(R){var w=R.levels,_=w===void 0?z:w,A=R.scale,$=R.onZoom,O=n.useContext(e.LocalizationContext).l10n,B=n.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,q=O&&O.zoom?O.zoom.zoomDocument:"Zoom document";return n.createElement(e.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e.Position.BottomCenter,target:function(H){return n.createElement(e.MinimalButton,{ariaLabel:q,testId:"zoom__popover-target",onClick:function(){H()}},n.createElement("span",{className:"rpv-zoom__popover-target"},n.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!B,"rpv-zoom__popover-target-scale--rtl":B})},Math.round(100*A),"%"),n.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(H){return n.createElement(e.Menu,null,Object.keys(e.SpecialZoomLevel).map(function(W){var V=W;return n.createElement(e.MenuItem,{key:V,onClick:function(){H(),$(V)}},function(K){switch(K){case e.SpecialZoomLevel.ActualSize:return O&&O.zoom?O.zoom.actualSize:"Actual size";case e.SpecialZoomLevel.PageFit:return O&&O.zoom?O.zoom.pageFit:"Page fit";case e.SpecialZoomLevel.PageWidth:return O&&O.zoom?O.zoom.pageWidth:"Page width"}}(V))}),n.createElement(e.MenuDivider,null),_.map(function(W){return n.createElement(e.MenuItem,{key:W,onClick:function(){H(),$(W)}},"".concat(Math.round(100*W),"%"))}))},offset:E,closeOnClickOutside:!0,closeOnEscape:!0})},g=function(R){var w=R.children,_=R.levels,A=R.store;return(w||function($){return n.createElement(d,{levels:_,scale:$.scale,onZoom:$.onZoom})})({scale:a(A).scale,onZoom:function($){var O=A.get("zoom");O&&O($)}})},C={left:0,top:8},h=function(R){var w=R.enableShortcuts,_=R.onClick,A=n.useContext(e.LocalizationContext).l10n,$=A&&A.zoom?A.zoom.zoomIn:"Zoom in",O=w?e.isMac()?"Meta+=":"Ctrl+=":"";return n.createElement(e.Tooltip,{ariaControlsSuffix:"zoom-in",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:$,testId:"zoom__in-button",onClick:_},n.createElement(o,null)),content:function(){return $},offset:C})},b=function(R){var w=R.children,_=R.enableShortcuts,A=R.store,$=a(A).scale;return(w||h)({enableShortcuts:_,onClick:function(){var O=A.get("zoom");O&&O(f($))}})},k=function(R){var w=R.onClick,_=n.useContext(e.LocalizationContext).l10n,A=_&&_.zoom?_.zoom.zoomIn:"Zoom in";return n.createElement(e.MenuItem,{icon:n.createElement(o,null),testId:"zoom__in-menu",onClick:w},A)},S={left:0,top:8},M=function(R){var w=R.enableShortcuts,_=R.onClick,A=n.useContext(e.LocalizationContext).l10n,$=A&&A.zoom?A.zoom.zoomOut:"Zoom out",O=w?e.isMac()?"Meta+-":"Ctrl+-":"";return n.createElement(e.Tooltip,{ariaControlsSuffix:"zoom-out",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:$,testId:"zoom__out-button",onClick:_},n.createElement(r,null)),content:function(){return $},offset:S})},I=function(R){var w=R.children,_=R.enableShortcuts,A=R.store,$=a(A).scale;return(w||M)({enableShortcuts:_,onClick:function(){var O=A.get("zoom");O&&O(v($))}})},Z=function(R){var w=R.onClick,_=n.useContext(e.LocalizationContext).l10n,A=_&&_.zoom?_.zoom.zoomOut:"Zoom out";return n.createElement(e.MenuItem,{icon:n.createElement(r,null),testId:"zoom__out-menu",onClick:w},A)};zoom_min.ZoomInIcon=o,zoom_min.ZoomOutIcon=r,zoom_min.zoomPlugin=function(R){var w=n.useMemo(function(){return Object.assign({},{enableShortcuts:!0},R)},[]),_=n.useMemo(function(){return e.createStore({})},[]),A=function(B){return n.createElement(b,c({enableShortcuts:w.enableShortcuts},B,{store:_}))},$=function(B){return n.createElement(I,c({enableShortcuts:w.enableShortcuts},B,{store:_}))},O=function(B){return n.createElement(g,c({},B,{store:_}))};return{renderViewer:function(B){var q=B.slot;if(!w.enableShortcuts)return q;var H={children:n.createElement(n.Fragment,null,n.createElement(p,{containerRef:B.containerRef,store:_}),n.createElement(s,{pagesContainerRef:B.pagesContainerRef,store:_}),q.children)};return c(c({},q),H)},install:function(B){_.update("zoom",B.zoom)},onViewerStateChange:function(B){return _.update("scale",B.scale),B},zoomTo:function(B){var q=_.get("zoom");q&&q(B)},CurrentScale:function(B){return n.createElement(u,c({},B,{store:_}))},ZoomIn:A,ZoomInButton:function(){return n.createElement(A,null,function(B){return n.createElement(h,c({},B))})},ZoomInMenuItem:function(B){return n.createElement(A,null,function(q){return n.createElement(k,{onClick:function(){q.onClick(),B.onClick()}})})},ZoomOut:$,ZoomOutButton:function(){return n.createElement($,null,function(B){return n.createElement(M,c({},B))})},ZoomOutMenuItem:function(B){return n.createElement($,null,function(q){return n.createElement(Z,{onClick:function(){q.onClick(),B.onClick()}})})},Zoom:O,ZoomPopover:function(B){return n.createElement(O,null,function(q){return n.createElement(d,c({levels:B==null?void 0:B.levels},q))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports=lib.exports;const MagazinePDFViewer=({fileUrl:R,title:w,onDownload:_,onFullScreen:A,fullScreen:$=!1,initialPage:O})=>{const[B,q]=React.useState(null),[H,W]=React.useState(!0),[V,K]=React.useState(null);reactExports.useEffect(()=>{let Ae=null;return(async()=>{if(!R){q("No file URL provided."),W(!1);return}try{W(!0),q(null);const we=await fetch(R);if(!we.ok)throw new Error(`Failed to fetch PDF: ${we.status} ${we.statusText}`);const Me=await we.arrayBuffer(),Pe=new Blob([Me],{type:"application/pdf"});Ae=URL.createObjectURL(Pe),K(Ae)}catch(we){q(we instanceof Error?we.message:"An unknown error occurred while loading the PDF.")}finally{W(!1)}})(),()=>{Ae&&URL.revokeObjectURL(Ae)}},[R]);const Y=libExports$3.pageNavigationPlugin(),{jumpToNextPage:re,jumpToPreviousPage:Q,jumpToPage:ie}=Y,J=libExports$2.thumbnailPlugin(),{Thumbnails:ce}=J,ue=libExports.zoomPlugin(),{ZoomInButton:Ee,ZoomOutButton:ge,ZoomPopover:le}=ue,ve=libExports$1.fullScreenPlugin(),{EnterFullScreen:he}=ve,fe=()=>{q(null);try{typeof O=="number"&&O>=1&&typeof ie=="function"&&ie(Math.max(0,O-1))}catch(Ae){console.warn("Failed to jump to initial page",Ae)}};React.useEffect(()=>{const Ae=xe=>{if(xe.key==="ArrowRight")try{re()}catch{}else if(xe.key==="ArrowLeft")try{Q()}catch{}else(xe.key==="f"||xe.key==="F")&&A&&A()};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[re,Q,A]);const be="3.11.174";return!R||R.trim()===""?jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-yellow-50 rounded-lg border border-yellow-200",children:[jsxRuntimeExports.jsx(FileWarning,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-700 font-medium mb-2 text-lg",children:"No PDF Available"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-600 text-sm",children:"This magazine doesn't have a PDF file uploaded yet."})]}):jsxRuntimeExports.jsxs("div",{className:"pdf-viewer-container",children:[jsxRuntimeExports.jsx("div",{className:"pdf-viewer-toolbar",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-insightRed rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(FileWarning,{className:"h-4 w-4 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:$?"Premium Reading Mode":"Interactive Magazine Preview"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:w})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(ge,{}),jsxRuntimeExports.jsx(le,{}),jsxRuntimeExports.jsx(Ee,{}),jsxRuntimeExports.jsx(he,{children:Ae=>jsxRuntimeExports.jsxs(Button,{onClick:Ae.onClick,variant:"outline",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",children:[jsxRuntimeExports.jsx(Maximize2,{className:"h-4 w-4 mr-2"}),"Full screen"]})})]})]})}),jsxRuntimeExports.jsx("div",{className:"relative bg-gray-50 h-[calc(100vh-200px)]",children:H?jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-50/80 z-10",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-12 w-12 animate-spin text-insightRed mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading magazine content..."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"0% Complete"})]}):B||!V?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-center py-16 mx-4",children:jsxRuntimeExports.jsxs("div",{className:"premium-card p-8 max-w-md mx-auto",children:[jsxRuntimeExports.jsx(FileWarning,{className:"h-16 w-16 text-insightRed mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-insightBlack font-bold text-xl mb-2",children:"Could Not Load Magazine"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mb-6",children:B||"An unexpected error occurred."}),jsxRuntimeExports.jsxs(Button,{onClick:()=>window.location.reload(),className:"bg-insightRed hover:bg-insightBlack text-white",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):jsxRuntimeExports.jsxs("div",{className:"h-full grid grid-cols-[220px_1fr] gap-4",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block overflow-y-auto border-r bg-gray-100",children:jsxRuntimeExports.jsx(ce,{})}),jsxRuntimeExports.jsx("div",{className:"h-full",children:jsxRuntimeExports.jsx(libExports$4.Worker,{workerUrl:`https://unpkg.com/pdfjs-dist@${be}/build/pdf.worker.min.js`,children:jsxRuntimeExports.jsx(libExports$4.Viewer,{fileUrl:V,plugins:[Y,J,ue,ve],onDocumentLoad:fe,renderError:Ae=>jsxRuntimeExports.jsx("div",{className:"text-center py-16",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"Failed to render PDF."})}),theme:{theme:"dark"},viewMode:libExports$4.ViewMode.DualPage,scrollMode:libExports$4.ScrollMode.Vertical,defaultScale:libExports$4.SpecialZoomLevel.PageFit})})})]})})]})},MagazineDetail=()=>{const{slug:R}=useParams(),{data:w,isLoading:_,error:A}=useMagazineBySlug(R||""),{data:$=[],isLoading:O}=useMagazineArticles((w==null?void 0:w.id)||""),[B,q]=reactExports.useState(!1),[H,W]=reactExports.useState(void 0),V=()=>q(!B);return _?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-insightRed"}),jsxRuntimeExports.jsx("span",{className:"text-lg",children:"Loading magazine..."})]})}):A||!w?(console.log("Magazine not found, redirecting..."),jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-insightBlack mb-4",children:"Magazine Not Found"}),jsxRuntimeExports.jsx("p",{className:"mb-6 text-gray-600",children:"The magazine you're looking for doesn't exist or the URL is invalid."}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Requested slug: ",jsxRuntimeExports.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:R})]})}),jsxRuntimeExports.jsxs(Link,{to:"/magazine",className:"inline-flex items-center bg-insightRed hover:bg-insightBlack text-white px-6 py-3 rounded-md text-sm font-medium transition-colors",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"mr-2 h-4 w-4"})," Back to Magazines"]})]})})):jsxRuntimeExports.jsx("div",{className:cn("min-h-screen py-12 transition-all duration-300 bg-white",B?"fixed inset-0 z-50 p-4 overflow-auto":""),children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[!B&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-8 mb-12",children:[jsxRuntimeExports.jsx("div",{className:"md:w-1/3",children:jsxRuntimeExports.jsx("img",{src:w.cover_image_url||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800",alt:w.title,className:"w-full rounded-lg shadow-lg hover:shadow-xl transition-shadow"})}),jsxRuntimeExports.jsxs("div",{className:"md:w-2/3",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs(Link,{to:"/magazine",className:"inline-flex items-center text-insightRed hover:text-insightBlack transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"mr-1 h-4 w-4"})," Back to Magazines"]})}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-insightBlack mb-4",children:w.title}),w.issue_number&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[jsxRuntimeExports.jsxs("span",{className:"inline-block px-3 py-1 text-sm font-semibold bg-insightRed text-white rounded-md",children:["Issue ",w.issue_number]}),w.featured&&jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-1 text-sm font-semibold bg-green-100 text-green-800 rounded-md",children:"Featured"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 text-lg leading-relaxed mb-6",children:w.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["Published: ",new Date(w.publish_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:jsxRuntimeExports.jsxs(Button,{onClick:()=>{var K;return(K=document.getElementById("pdf-viewer"))==null?void 0:K.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center bg-insightRed hover:bg-insightBlack text-white px-6 py-3 rounded-md text-sm font-medium transition-colors",children:[jsxRuntimeExports.jsx(BookOpen,{className:"mr-2 h-4 w-4"})," Read Online"]})})]})]})]}),!O&&$.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-6",children:"Featured Articles in This Issue"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(K=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"aspect-video bg-gray-200 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:K.articles.image_url||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",alt:K.articles.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium text-insightRed",children:["Page ",K.page_number]}),K.featured&&jsxRuntimeExports.jsx("span",{className:"text-xs font-medium bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Featured"})]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:K.articles.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:K.articles.excerpt}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["By ",K.articles.author]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>{var re;const Y=K.page_number||1;W(Y),(re=document.getElementById("pdf-viewer"))==null||re.scrollIntoView({behavior:"smooth"}),q(!0)},className:"bg-insightBlack text-white hover:bg-black/90",children:"Preview"}),jsxRuntimeExports.jsxs(Link,{to:`/article/${K.articles.slug}`,className:"text-insightRed hover:text-insightBlack font-medium text-sm flex items-center",children:["Read Article ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-1 h-3 w-3"})]})]})]})]})]},K.id))})]})]}),jsxRuntimeExports.jsx("div",{id:"pdf-viewer",className:"mb-12",children:jsxRuntimeExports.jsx(MagazinePDFViewer,{fileUrl:w.pdf_url||"/sample-magazine.pdf",title:w.title,onFullScreen:V,fullScreen:B,initialPage:H})}),!B&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-6",children:"About This Issue"}),jsxRuntimeExports.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm border",children:jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 leading-relaxed text-lg mb-6",children:w.description||"This magazine issue contains cutting-edge insights and analysis from industry leaders and technology experts."}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("strong",{className:"text-insightBlack",children:"Issue:"})," ",w.issue_number||"Latest"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("strong",{className:"text-insightBlack",children:"Published:"})," ",new Date(w.publish_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("strong",{className:"text-insightBlack",children:"Articles:"})," ",$.length," featured articles"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Read Options"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsx(Button,{onClick:()=>window.print(),variant:"outline",className:"w-full",children:"Print Current Page"})})]})]})})]})]})})};function imgOf(R){return(R==null?void 0:R.image_url)||"/placeholder.svg"}function titleOf(R){return(R==null?void 0:R.title)||"Untitled"}function slugOf(R){return(R==null?void 0:R.slug)||""}function dateOf(R){const w=R!=null&&R.date?new Date(R.date):null;return w?w.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}function categoryOf(R){return(R==null?void 0:R.category)||"Business"}function excerptOf(R){return(R==null?void 0:R.excerpt)||""}const EditorialList=({articles:R=[],basePath:w="/article",layout:_="editorial"})=>{const A=Array.isArray(R)?[...R].sort((q,H)=>new Date((H==null?void 0:H.date)||0).getTime()-new Date((q==null?void 0:q.date)||0).getTime()):[],$=A[0],O=A.slice(1),B=[...A].slice(0,6);return _==="grid"?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map((q,H)=>jsxRuntimeExports.jsxs(Link,{to:`${w}/${slugOf(q)}`,className:"group rounded-xl border border-gray-200 bg-white overflow-hidden hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"aspect-video overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:imgOf(q),alt:titleOf(q),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-insightRed font-bold uppercase tracking-wide mb-1",children:categoryOf(q)}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-insightBlack group-hover:text-insightRed mb-1 line-clamp-2",children:titleOf(q)}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-2",children:excerptOf(q)}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3"}),dateOf(q)]})]})]},slugOf(q)+H))})}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[$&&jsxRuntimeExports.jsx(Link,{to:`${w}/${slugOf($)}`,className:"block group overflow-hidden rounded-2xl shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"relative aspect-[16/9]",children:[jsxRuntimeExports.jsx("img",{src:imgOf($),alt:titleOf($),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 p-6 text-white",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex px-3 py-1 rounded bg-insightRed text-white text-xs font-bold mb-3",children:categoryOf($)}),jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2 leading-tight",children:titleOf($)}),jsxRuntimeExports.jsx("p",{className:"text-white/80 line-clamp-2",children:excerptOf($)})]})]})}),jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200 bg-white rounded-xl border border-gray-200 overflow-hidden",children:O.map((q,H)=>jsxRuntimeExports.jsxs(Link,{to:`${w}/${slugOf(q)}`,className:"flex flex-col md:flex-row gap-5 p-5 hover:bg-gray-50 transition",children:[jsxRuntimeExports.jsx("div",{className:"md:w-60 flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:imgOf(q),alt:titleOf(q),className:"w-full h-full object-cover"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-insightRed font-bold uppercase tracking-wide mb-1",children:categoryOf(q)}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-insightBlack group-hover:text-insightRed mb-2",children:titleOf(q)}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 line-clamp-2 mb-2",children:excerptOf(q)}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3"}),dateOf(q)]})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"hidden md:block h-5 w-5 text-gray-300 self-center group-hover:text-insightRed"})]},slugOf(q)+H))})]}),jsxRuntimeExports.jsxs("aside",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-5 py-3 border-b border-gray-200 font-semibold uppercase tracking-wide text-sm text-insightBlack",children:"Trending"}),jsxRuntimeExports.jsx("ul",{className:"divide-y divide-gray-200",children:B.map((q,H)=>jsxRuntimeExports.jsx("li",{className:"p-4 hover:bg-white transition",children:jsxRuntimeExports.jsxs(Link,{to:`${w}/${slugOf(q)}`,className:"flex gap-3 group",children:[jsxRuntimeExports.jsx("img",{src:imgOf(q),alt:titleOf(q),className:"w-16 h-16 rounded object-cover flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mb-1",children:categoryOf(q)}),jsxRuntimeExports.jsx("h4",{className:"font-semibold group-hover:text-insightRed line-clamp-2",children:titleOf(q)}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:dateOf(q)})]})]})},slugOf(q)+H))})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-gray-200 p-6 bg-white text-center shadow-sm",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:"Weekly Brief"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Get the top stories in your inbox."}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"inline-flex items-center px-4 py-2 rounded-md bg-insightRed text-white font-medium hover:bg-insightRed/90",children:"Subscribe"})]})]})]})},Articles=()=>{const{data:R=[],isLoading:w,error:_}=useArticles();return w?jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12 bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-insightRed mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-lg",children:"Loading articles..."})]})})}):_?jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12 bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load articles"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"text-insightRed hover:underline",children:"Try again"})]})})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[jsxRuntimeExports.jsxs("section",{className:"relative bg-gradient-to-br from-insightBlack via-gray-900 to-insightBlack text-white py-16",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://images.unsplash.com/photo-1495020689067-958852a7765e?auto=format&fit=crop&w=1920&q=80')] bg-cover bg-center"}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl md:text-5xl font-bold",children:["Editorial ",jsxRuntimeExports.jsx("span",{className:"text-insightRed",children:"Articles"})]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-300 max-w-3xl mt-3",children:"Insights, strategies, and leadership stories for modern executives."})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[jsxRuntimeExports.jsx(EditorialList,{articles:R}),R.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-lg",children:"No articles found."})})]})]})},Leadership=()=>{const{data:R,isLoading:w}=useLeadershipProfiles(),[_,A]=reactExports.useState(""),[$,O]=reactExports.useState("all"),[B,q]=reactExports.useState(!1),[H,W]=reactExports.useState(null),V=Array.isArray(R)?R:[];reactExports.useMemo(()=>{const re=new Set;return V.forEach(Q=>{Q.industry&&re.add(Q.industry)}),["all",...Array.from(re)]},[V]);const K=reactExports.useMemo(()=>V.filter(re=>{if($!=="all"&&re.industry!==$)return!1;if(!_)return!0;const Q=_.toLowerCase();return(re.name||"").toLowerCase().includes(Q)||(re.title||"").toLowerCase().includes(Q)||(re.company||"").toLowerCase().includes(Q)}),[V,_,$]);if(K.filter(re=>re.featured).slice(0,5),K.filter(re=>!re.featured),w)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-insightRed"})});const Y=re=>{W(re),q(!0)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-12 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("section",{className:"mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-6",children:"All Leadership Profiles"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:K.map(re=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"aspect-video bg-gray-100",children:jsxRuntimeExports.jsx("img",{src:re.image_url||"/placeholder.svg",alt:re.name,className:"w-full h-full object-cover"})}),re.industry&&jsxRuntimeExports.jsx("span",{className:"absolute top-3 left-3 bg-white/90 text-insightBlack text-xs font-semibold px-2 py-1 rounded",children:re.industry})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-insightBlack mb-1",children:re.name}),jsxRuntimeExports.jsx("div",{className:"text-insightRed text-sm font-medium",children:re.title}),re.company&&jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mt-1",children:re.company}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mt-3 line-clamp-3",children:re.bio}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[re.linkedin_url&&jsxRuntimeExports.jsx("a",{href:re.linkedin_url,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-600",children:jsxRuntimeExports.jsx(Linkedin,{className:"h-4 w-4"})}),re.twitter_url&&jsxRuntimeExports.jsx("a",{href:re.twitter_url,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-400",children:jsxRuntimeExports.jsx(Twitter,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>Y(re),variant:"outline",children:"Quick View"}),jsxRuntimeExports.jsxs(Link,{to:`/leadership/${re.slug}`,className:"text-insightRed hover:text-insightBlack text-sm inline-flex items-center",children:["Read profile ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-1 h-4 w-4"})]})]})]})]})]},re.id))})]}),V.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx(Users,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Leadership Profiles Available"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Check back soon for inspiring leadership stories and profiles."})]})]}),jsxRuntimeExports.jsx(Dialog,{open:B,onOpenChange:q,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-3xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:H==null?void 0:H.name}),jsxRuntimeExports.jsxs(DialogDescription,{children:[H==null?void 0:H.title," ",H!=null&&H.company?`  ${H.company}`:""]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("img",{src:(H==null?void 0:H.image_url)||"/placeholder.svg",alt:H==null?void 0:H.name,className:"w-full h-auto rounded-lg object-cover"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-3",children:[(H==null?void 0:H.linkedin_url)&&jsxRuntimeExports.jsx("a",{href:H.linkedin_url,target:"_blank",rel:"noreferrer",className:"text-gray-600 hover:text-blue-600",children:jsxRuntimeExports.jsx(Linkedin,{className:"h-5 w-5"})}),(H==null?void 0:H.twitter_url)&&jsxRuntimeExports.jsx("a",{href:H.twitter_url,target:"_blank",rel:"noreferrer",className:"text-gray-600 hover:text-blue-400",children:jsxRuntimeExports.jsx(Twitter,{className:"h-5 w-5"})}),(H==null?void 0:H.email)&&jsxRuntimeExports.jsx("a",{href:`mailto:${H.email}`,className:"text-gray-600 hover:text-gray-900",children:jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"About"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:H==null?void 0:H.bio}),jsxRuntimeExports.jsx("h4",{className:"font-semibold",children:"Key Expertise"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-4",children:((H==null?void 0:H.expertise)||["Leadership","Strategy","Digital Transformation"]).slice(0,6).map((re,Q)=>jsxRuntimeExports.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:re},Q))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[jsxRuntimeExports.jsxs(Link,{to:`/leadership/${H==null?void 0:H.slug}`,className:"inline-flex items-center text-insightRed hover:text-insightBlack",children:["Read full profile ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 h-4 w-4"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{var re;(re=navigator.clipboard)==null||re.writeText(window.location.href)},className:"ml-2",children:"Share"})]})]})]})]})})]})},LeadershipProfile=()=>{const{slug:R}=useParams(),{data:w,isLoading:_,error:A}=useLeadershipBySlug(R||"");return _?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-insightRed"}),jsxRuntimeExports.jsx("span",{className:"text-lg",children:"Loading profile..."})]})}):A||!w?jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-insightBlack mb-4",children:"Profile Not Found"}),jsxRuntimeExports.jsx("p",{className:"mb-6",children:"The leadership profile you're looking for doesn't exist."}),jsxRuntimeExports.jsx(Link,{to:"/leadership",children:jsxRuntimeExports.jsxs(Button,{className:"bg-insightRed hover:bg-red-700",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"mr-2 h-4 w-4"})," Back to Leadership Team"]})})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[jsxRuntimeExports.jsxs("section",{className:"relative bg-gradient-to-br from-insightBlack via-gray-900 to-insightBlack text-white py-20 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gradient-to-br from-insightRed/30 to-transparent"})}),jsxRuntimeExports.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs(Link,{to:"/leadership",className:"inline-flex items-center text-white/80 hover:text-white transition-colors text-sm font-medium mb-8",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"mr-1 h-4 w-4"})," Back to Leadership Directory"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx(Badge,{className:"mb-6 bg-insightRed/20 text-insightRed border-insightRed/30 text-sm px-4 py-2",children:"EXECUTIVE PROFILE"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 leading-tight",children:w.name}),jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl text-insightRed font-semibold mb-4",children:w.title}),w.company&&jsxRuntimeExports.jsxs("p",{className:"text-xl text-gray-300 mb-6 flex items-center",children:[jsxRuntimeExports.jsx(Building2,{className:"w-5 h-5 mr-2"}),w.company]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[w.linkedin_url&&jsxRuntimeExports.jsxs("a",{href:w.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx(Linkedin,{className:"w-5 h-5 mr-2"}),"Connect on LinkedIn"]}),w.twitter_url&&jsxRuntimeExports.jsxs("a",{href:w.twitter_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-blue-400 hover:bg-blue-500 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx(Twitter,{className:"w-5 h-5 mr-2"}),"Follow on Twitter"]})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:w.image_url||"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=500",alt:w.name,className:"w-full h-96 object-cover rounded-2xl shadow-2xl"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-black/20 to-transparent"})]})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[jsxRuntimeExports.jsx("div",{className:"mb-16",children:jsxRuntimeExports.jsxs(Card,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx(Quote,{className:"h-6 w-6 text-insightRed"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"border-insightRed text-insightRed",children:"EXECUTIVE SUMMARY"})]}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl text-insightBlack",children:"Leadership Excellence"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-lg",children:"Strategic vision that drives transformation and sustainable growth"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed italic border-l-4 border-insightRed pl-6",children:['"',w.bio.split(`
`)[0],'"']})})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsxs(Card,{className:"border-0 shadow-xl h-full",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-2xl text-insightBlack flex items-center",children:[jsxRuntimeExports.jsx(Award,{className:"h-6 w-6 mr-2 text-insightRed"}),"Professional Journey"]}),jsxRuntimeExports.jsx(CardDescription,{children:"A comprehensive look at career achievements and leadership impact"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-6",children:w.bio.split(`
`).map(($,O)=>jsxRuntimeExports.jsx("div",{children:O===0?jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-800 leading-relaxed font-medium",children:$}):jsxRuntimeExports.jsx("p",{className:"text-gray-700 leading-relaxed",children:$})},O))})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-xl text-insightBlack",children:"Current Role"})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(Building2,{className:"h-5 w-5 text-insightRed mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:w.title}),w.company&&jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:w.company})]})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-xl text-insightBlack",children:"Areas of Expertise"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:["Strategic Leadership","Digital Transformation","Innovation Management","Global Operations","Sustainable Growth"].map($=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-gray-100 text-gray-700",children:$},$))})})]}),jsxRuntimeExports.jsxs(Card,{className:"border-0 shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-xl text-insightBlack",children:"Industry Impact"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Years of Experience"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"20+"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Companies Led"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"3"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Global Teams"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"5,000+"})]})]})]})]})]}),jsxRuntimeExports.jsx(Card,{className:"border-0 shadow-xl bg-gradient-to-r from-insightRed/5 to-red-50",children:jsxRuntimeExports.jsx(CardContent,{className:"p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-insightBlack mb-4",children:["Connect with ",w.name.split(" ")[0]]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:["Join thousands of business leaders who follow ",w.name.split(" ")[0],"'s insights on strategic leadership, industry trends, and business transformation."]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[w.linkedin_url&&jsxRuntimeExports.jsxs("a",{href:w.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-medium transition-all transform hover:scale-105 shadow-lg",children:[jsxRuntimeExports.jsx(Linkedin,{className:"w-5 h-5 mr-3"}),"Connect on LinkedIn"]}),w.twitter_url&&jsxRuntimeExports.jsxs("a",{href:w.twitter_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-blue-400 hover:bg-blue-500 text-white px-8 py-4 rounded-xl font-medium transition-all transform hover:scale-105 shadow-lg",children:[jsxRuntimeExports.jsx(Twitter,{className:"w-5 h-5 mr-3"}),"Follow on Twitter"]})]})]})})})]})]})},pressReleaseData=[{id:"1",title:"InsightsBW Launches Advanced Analytics Platform for Business Intelligence",excerpt:"New cloud-based solution provides enterprises with real-time market insights and predictive trend analysis.",content:`BOSTON, April 15, 2025  InsightsBW today announced the launch of InsightsBW Analytics, an advanced cloud-based platform designed to provide enterprises with real-time market intelligence and predictive trend analysis. The new offering combines proprietary data models with artificial intelligence to deliver actionable insights across industries.

The platform offers interactive dashboards, customizable alerts, and integration capabilities with major enterprise systems. Early adopters report significant improvements in strategic decision-making and market responsiveness.

"In today's fast-paced business environment, having access to timely, accurate market intelligence is not just advantageousit's essential," said Maria Rodriguez, CEO of InsightsBW. "Our new analytics platform transforms raw data into strategic insights that drive business value."

The platform is available immediately through a subscription model, with industry-specific packages for financial services, healthcare, retail, and technology sectors. InsightsBW will be hosting a virtual demonstration event on April 30 for interested organizations.`,date:"2025-04-15",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fGRhdGElMjBhbmFseXRpY3N8ZW58MHx8MHx8fDA%3D",category:"Product Launch",slug:"insightsbw-launches-advanced-analytics-platform",author:"Maria Rodriguez"},{id:"2",title:"InsightsBW Expands Leadership Advisory Services with Executive Coaching Program",excerpt:"New offering pairs C-suite executives with experienced coaches to enhance leadership effectiveness and strategic thinking.",content:`NEW YORK, April 8, 2025  InsightsBW today announced the expansion of its leadership advisory services with the launch of an executive coaching program designed specifically for C-suite leaders navigating complex business transformations.

The program pairs executives with coaches who have extensive leadership experience across diverse industries and specializations. Coaching engagements are structured around personalized development plans with measurable outcomes aligned to organizational goals.

"Effective leadership has never been more challenging or more critical to business success," said James Wilson, Director of Leadership Services at InsightsBW. "Our coaching program supports executives in developing the adaptive leadership capabilities needed to thrive in today's business environment."

The coaching methodology integrates InsightsBW's research on high-performing leadership behaviors with practical implementation strategies. Initial participants report significant improvements in strategic decision-making, team effectiveness, and change management capabilities.

The program will be available starting May 1, with both in-person and virtual coaching options to accommodate global client bases.`,date:"2025-04-08",image:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTl8fGV4ZWN1dGl2ZSUyMG1lZXRpbmd8ZW58MHx8MHx8fDA%3D",category:"Service Expansion",slug:"executive-coaching-program-launch",author:"James Wilson"},{id:"3",title:"InsightsBW Annual Technology Impact Report Identifies Emerging Trends Reshaping Industries",excerpt:"Comprehensive research highlights artificial intelligence, quantum computing, and sustainable technology as primary transformation drivers.",content:`SAN FRANCISCO, March 30, 2025  InsightsBW has released its 2025 Technology Impact Report, a comprehensive analysis of how emerging technologies are reshaping business models and market dynamics across major industries.

The extensively researched report identifies several key trends expected to drive significant business transformation over the next three to five years, including mainstream adoption of generative AI in enterprise processes, commercial applications of quantum computing, and technology-enabled sustainability solutions.

"This year's report goes beyond identifying technologies to watchit provides a detailed roadmap for how organizations can strategically implement these innovations to create competitive advantage," said Thomas Anderson, Chief Research Officer at InsightsBW.

The report features case studies from early adopters across financial services, healthcare, manufacturing, and retail sectors, along with implementation frameworks and risk assessment models.

The 2025 Technology Impact Report is available now through the InsightsBW Research Portal, with an executive summary accessible to the public. InsightsBW will host a virtual conference on April 12 to discuss the findings with industry leaders and technology experts.`,date:"2025-03-30",image:"https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dGVjaG5vbG9neXxlbnwwfHwwfHx8MA%3D%3D",category:"Research Publication",slug:"technology-impact-report-2025",author:"Thomas Anderson"},{id:"4",title:"InsightsBW Partners with Global Sustainability Alliance to Advance ESG Reporting Standards",excerpt:"Collaboration aims to develop comprehensive framework for measuring and reporting environmental and social impact.",content:`LONDON, March 22, 2025  InsightsBW announced today a strategic partnership with the Global Sustainability Alliance (GSA) to develop enhanced standards for environmental, social, and governance (ESG) measurement and reporting.

The collaboration will leverage InsightsBW's data analytics capabilities and industry expertise alongside GSA's sustainability frameworks to create practical tools for businesses implementing ESG initiatives. The partnership's first deliverable will be a comprehensive guide to ESG metrics that align with emerging regulatory requirements while providing actionable insights for business leaders.

"As ESG considerations become increasingly central to business strategy and investment decisions, organizations need robust, consistent approaches to measuring and reporting their impact," said Sarah Johnson, Sustainability Practice Leader at InsightsBW. "Our partnership with GSA addresses this critical need."

Michael Green, Executive Director of GSA, added: "Combining InsightsBW's analytical rigor with our sustainability expertise will accelerate the development of standardized approaches that work for both businesses and their stakeholders."

The initial framework is scheduled for release in June 2025, with pilot implementations planned with select organizations across multiple industries.`,date:"2025-03-22",image:"https://images.unsplash.com/photo-1505373877841-8d25f7d46678?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8c3VzdGFpbmFiaWxpdHl8ZW58MHx8MHx8fDA%3D",category:"Partnership",slug:"global-sustainability-alliance-partnership",author:"Sarah Johnson"},{id:"5",title:"InsightsBW Appoints Dr. Maya Patel as Chief Research Officer",excerpt:"Renowned technology strategist and former university professor joins leadership team to drive research innovation.",content:`CHICAGO, March 15, 2025  InsightsBW announced today the appointment of Dr. Maya Patel as Chief Research Officer, effective April 1. Dr. Patel will lead the company's research organization, overseeing market analysis, thought leadership development, and the expansion of InsightsBW's research methodologies.

Dr. Patel joins InsightsBW from Stanford University, where she served as Professor of Technology Strategy at the School of Business. Her academic research on digital transformation and emerging technologies has been widely published and recognized with multiple awards. Prior to her academic career, Dr. Patel held leadership positions at major technology companies and advised Fortune 500 organizations on innovation strategy.

"Dr. Patel brings an extraordinary combination of academic rigor, industry expertise, and strategic vision to our research function," said Maria Rodriguez, CEO of InsightsBW. "Her leadership will be instrumental as we continue to expand the depth and breadth of insights we provide to our clients."

In her new role, Dr. Patel will focus on enhancing InsightsBW's predictive analytics capabilities, developing new research methodologies, and building strategic partnerships with academic institutions and industry associations.

"I'm thrilled to join InsightsBW at this pivotal time when organizations face unprecedented complexity and opportunity," said Dr. Patel. "I look forward to working with the talented research team to deliver insights that help leaders navigate transformation successfully."`,date:"2025-03-15",image:"https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjN8fHByb2Zlc3Npb25hbCUyMGluZGlhbiUyMHdvbWFufGVufDB8fDB8fHww",category:"Leadership Appointment",slug:"dr-maya-patel-appointed-chief-research-officer",author:"Maria Rodriguez"},{id:"6",title:"InsightsBW Announces Global Expansion with New Offices in Singapore and Dubai",excerpt:"Strategic growth extends the company's presence in rapidly developing markets across Asia and the Middle East.",content:`NEW YORK, March 8, 2025  InsightsBW today announced the opening of new offices in Singapore and Dubai, extending the company's global presence to better serve clients in the Asia-Pacific and Middle East markets.

The expansion reflects InsightsBW's commitment to providing localized market intelligence and advisory services to organizations navigating these dynamic regional economies. Both offices will offer the company's full suite of research, advisory, and leadership development services, with teams comprising local market experts and global practice specialists.

"Asia-Pacific and the Middle East represent critical growth regions for our clients and for InsightsBW," said Maria Rodriguez, CEO. "Our new offices will enable us to deliver deeper insights into these markets while strengthening relationships with our expanding client base in these regions."

The Singapore office will serve as the hub for Southeast Asia operations, while the Dubai location will cover the Middle East and North Africa. Both offices are staffed with senior research analysts, industry specialists, and client advisory professionals.

"Our regional expansion strategy is driven by client demand for on-the-ground expertise combined with global perspective," said Robert Kim, Vice President of Global Markets. "These new offices significantly enhance our ability to provide timely, relevant insights to organizations operating in or expanding to these regions."

The new offices are fully operational as of March 1, with official opening events scheduled for April in both locations.`,date:"2025-03-08",image:"https://images.unsplash.com/photo-1575503802870-45de6a6217c8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8c2luZ2Fwb3JlfGVufDB8fDB8fHww",category:"Company Expansion",slug:"global-expansion-singapore-dubai",author:"Robert Kim"},{id:"7",title:"InsightsBW Foundation Launches $5 Million Initiative to Support Business Education in Underserved Communities",excerpt:"Three-year program will provide scholarships, mentoring, and resources to develop next generation of business leaders.",content:`WASHINGTON, D.C., March 1, 2025  The InsightsBW Foundation today announced a $5 million initiative to expand business education opportunities in underserved communities across the United States and select international markets.

The three-year program will provide scholarships, mentoring, educational resources, and internship opportunities to students from underrepresented backgrounds pursuing business and technology education. The initiative aims to support 500 students through direct scholarships while reaching thousands more through digital learning resources and community programs.

"Creating pathways to opportunity is central to our foundation's mission," said Elizabeth Taylor, President of the InsightsBW Foundation. "This initiative represents our commitment to developing diverse talent and ensuring that future business leadership reflects the communities these organizations serve."

The program includes partnerships with 15 universities and community colleges, along with online learning platforms to extend reach. In addition to financial support, scholarship recipients will participate in leadership development workshops and be matched with executive mentors from InsightsBW's professional network.

"By combining financial support with mentorship and practical learning experiences, we're building a comprehensive program that addresses the multiple barriers facing many talented students," said David Williams, Education Program Director at the InsightsBW Foundation.

Applications for the first cohort of scholarship recipients will open on April 15, with selections to be announced in June for the upcoming academic year.`,date:"2025-03-01",image:"https://images.unsplash.com/photo-1523580494863-6f3031224c94?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c2Nob2xhcnNoaXB8ZW58MHx8MHx8fDA%3D",category:"Corporate Responsibility",slug:"business-education-initiative-underserved-communities",author:"Elizabeth Taylor"},{id:"8",title:"InsightsBW Releases 2025 Global Business Leaders Survey Results",excerpt:"Annual research reveals shifting priorities with increased focus on technological transformation and sustainability.",content:`LONDON, February 22, 2025  InsightsBW today released the results of its 2025 Global Business Leaders Survey, providing a comprehensive view of executive priorities, challenges, and strategic focus areas across industries and regions.

The annual research, which surveyed over 3,500 C-suite executives from 45 countries, reveals significant shifts in leadership priorities compared to previous years. Technology-enabled business transformation emerged as the top strategic priority (cited by 68% of respondents), followed by sustainability and ESG initiatives (61%), and workforce transformation (57%).

"This year's survey results reflect the complex, interconnected challenges facing business leaders in a rapidly evolving global landscape," said Thomas Anderson, Chief Research Officer at InsightsBW. "We're seeing a notable convergence of technology strategy with sustainability objectives, as organizations recognize the role of digital innovation in achieving environmental and social goals."

The survey also identified significant concerns, with 72% of executives expressing worry about the pace of technological change, 65% citing cybersecurity risks, and 58% highlighting talent shortages in critical areas.

Regional variations were pronounced in some areas, with European leaders placing higher emphasis on sustainability initiatives, while North American executives prioritized technological innovation, and Asia-Pacific leaders focused more intensely on supply chain resilience.

"The insights from this year's survey provide a valuable roadmap for organizations as they navigate uncertainty and capitalize on emerging opportunities," added Anderson. "We're making the detailed findings available to help inform strategic planning and investment decisions."

The complete 2025 Global Business Leaders Survey report is available through the InsightsBW Research Portal, with an executive summary accessible to the public.`,date:"2025-02-22",image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fGZpbmFuY2V8ZW58MHx8MHx8fDA%3D",category:"Research Publication",slug:"global-business-leaders-survey-2025",author:"Thomas Anderson"}],pressReleases=pressReleaseData.map(R=>({...R,image_url:R.image})),categoriesFromData=Array.from(new Set(pressReleases.map(R=>R.category))),allCategories=["All",...categoriesFromData],PAGE_SIZE=9,PressReleases=()=>{const[R,w]=reactExports.useState(""),[_,A]=reactExports.useState("All"),[$,O]=reactExports.useState(1),B=allCategories,q=reactExports.useMemo(()=>pressReleases.filter(K=>{const Y=K.title.toLowerCase().includes(R.toLowerCase())||K.excerpt.toLowerCase().includes(R.toLowerCase()),re=_==="All"||K.category===_;return Y&&re}),[R,_]),H=Math.max(1,Math.ceil(q.length/PAGE_SIZE)),W=Math.min($,H),V=reactExports.useMemo(()=>{const K=(W-1)*PAGE_SIZE;return q.slice(K,K+PAGE_SIZE)},[q,W]);return reactExports.useEffect(()=>{O(1)},[R,_]),jsxRuntimeExports.jsx("div",{className:"min-h-screen",children:jsxRuntimeExports.jsx("section",{className:"bg-white border-b",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-xl",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{type:"text",placeholder:"Search press releases...",value:R,onChange:K=>w(K.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar py-1",children:B.map(K=>jsxRuntimeExports.jsx(Button,{variant:_===K?"default":"outline",size:"sm",onClick:()=>A(K),className:_===K?"bg-insightRed hover:bg-insightRed/90 text-white":"",children:K},K))})]}),jsxRuntimeExports.jsx(EditorialList,{articles:V,basePath:"/press-releases",layout:"grid"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-8",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>O(K=>Math.max(1,K-1)),disabled:W===1,children:"Previous"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",W," of ",H]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>O(K=>Math.min(H,K+1)),disabled:W===H,children:"Next"})]})]})})})},PressReleaseDetail=()=>{const{slug:R}=useParams(),[w,_]=reactExports.useState(),[A,$]=reactExports.useState([]),[O,B]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{if(!R){B(!1);return}try{const{data:K,error:Y}=await supabase.from("press_releases").select("*").eq("slug",R).single();if(K&&!Y){const re={id:K.id,title:K.title,excerpt:K.excerpt||"",content:K.content,date:K.date,category:"Press Release",slug:K.slug,image:K.image_url||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800",author:K.author};_(re);const{data:Q}=await supabase.from("press_releases").select("*").neq("id",K.id).limit(2);if(Q){const ie=Q.map(J=>({id:J.id,title:J.title,excerpt:J.excerpt||"",content:J.content,date:J.date,category:"Press Release",slug:J.slug,image:J.image_url||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800",author:J.author}));$(ie)}}else{const re=pressReleaseData.find(Q=>Q.slug===R);if(_(re),re){const Q=pressReleaseData.filter(ie=>ie.id!==re.id&&ie.category===re.category).slice(0,2);$(Q)}}}catch(K){console.error("Error fetching press release:",K);const Y=pressReleaseData.find(re=>re.slug===R);if(_(Y),Y){const re=pressReleaseData.filter(Q=>Q.id!==Y.id&&Q.category===Y.category).slice(0,2);$(re)}}const V=setTimeout(()=>{B(!1)},700);return()=>clearTimeout(V)})()},[R]);const q=()=>{navigator.share?navigator.share({title:w==null?void 0:w.title,text:w==null?void 0:w.excerpt,url:window.location.href}).catch(W=>console.log("Error sharing",W)):(navigator.clipboard.writeText(window.location.href),toast({title:"Link copied!",description:"Press release link copied to clipboard",duration:3e3}))};if(O)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-insightRed"})});if(!w)return jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-insightBlack mb-4",children:"Press Release Not Found"}),jsxRuntimeExports.jsx("p",{className:"mb-6",children:"The press release you're looking for doesn't exist."}),jsxRuntimeExports.jsxs(Link,{to:"/press-releases",className:"inline-flex items-center bg-insightRed hover:bg-insightBlack text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"mr-2 h-4 w-4"})," Back to Press Releases"]})]})});const H=new Date(w.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12 bg-gradient-to-b from-white to-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs(Link,{to:"/press-releases",className:"inline-flex items-center text-insightRed hover:text-insightBlack transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"mr-1 h-4 w-4"})," Back to Press Releases"]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-1 text-sm font-semibold bg-insightRed text-white rounded-full mb-4",children:w.category}),jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-insightBlack mb-4 leading-tight",children:w.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-6",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-1"}),H]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-6 leading-relaxed",children:w.excerpt}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:q,className:"flex items-center",children:[jsxRuntimeExports.jsx(Share2,{className:"h-4 w-4 mr-1.5"})," Share Press Release"]})]}),jsxRuntimeExports.jsx("div",{className:"rounded-lg overflow-hidden mb-8 shadow-md",children:jsxRuntimeExports.jsx("img",{src:w.image,alt:w.title,className:"w-full h-auto object-cover"})}),jsxRuntimeExports.jsx("div",{className:"prose max-w-none mb-12",children:w.content.split(`

`).map((W,V)=>jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:W},V))}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(Globe,{className:"h-5 w-5 mr-2 text-insightRed"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-insightBlack",children:"About InsightsBW"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"InsightsBW is a leading global research and advisory firm, providing executives with actionable insights, strategic guidance, and data-driven analysis to make informed decisions in rapidly evolving markets. With a global network of industry experts and innovative research methodologies, we help organizations navigate complexity and drive sustainable growth."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",className:"flex items-center",asChild:!0,children:jsxRuntimeExports.jsxs(Link,{to:"/about",children:["Learn More ",jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3.5 w-3.5 ml-1"})]})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",className:"flex items-center",asChild:!0,children:jsxRuntimeExports.jsxs(Link,{to:"/contact",children:["Contact Us ",jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3.5 w-3.5 ml-1"})]})})]})]}),A.length>0&&jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 pt-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-6",children:"Related Press Releases"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(W=>jsxRuntimeExports.jsxs(Link,{to:`/press-releases/${W.slug}`,className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"h-40 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:W.image,alt:W.title,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-500"})}),jsxRuntimeExports.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold bg-gray-100 text-gray-800 rounded mb-2",children:W.category}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-insightBlack hover:text-insightRed transition-colors mb-2 line-clamp-2",children:W.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:W.excerpt})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-100",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:new Date(W.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-insightRed text-sm font-medium",children:[jsxRuntimeExports.jsx(FileText,{className:"w-3.5 h-3.5 mr-1"}),"Read More"]})]})]})]},W.id))})]})]})})};function toDate(R){const w=Object.prototype.toString.call(R);return R instanceof Date||typeof R=="object"&&w==="[object Date]"?new R.constructor(+R):typeof R=="number"||w==="[object Number]"||typeof R=="string"||w==="[object String]"?new Date(R):new Date(NaN)}function constructFrom(R,w){return R instanceof Date?new R.constructor(w):new Date(w)}const minutesInMonth=43200,minutesInDay=1440;let defaultOptions={};function getDefaultOptions(){return defaultOptions}function getTimezoneOffsetInMilliseconds(R){const w=toDate(R),_=new Date(Date.UTC(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds(),w.getMilliseconds()));return _.setUTCFullYear(w.getFullYear()),+R-+_}function compareAsc(R,w){const _=toDate(R),A=toDate(w),$=_.getTime()-A.getTime();return $<0?-1:$>0?1:$}function constructNow(R){return constructFrom(R,Date.now())}function differenceInCalendarMonths(R,w){const _=toDate(R),A=toDate(w),$=_.getFullYear()-A.getFullYear(),O=_.getMonth()-A.getMonth();return $*12+O}function getRoundingMethod(R){return w=>{const A=(R?Math[R]:Math.trunc)(w);return A===0?0:A}}function differenceInMilliseconds(R,w){return+toDate(R)-+toDate(w)}function endOfDay(R){const w=toDate(R);return w.setHours(23,59,59,999),w}function endOfMonth(R){const w=toDate(R),_=w.getMonth();return w.setFullYear(w.getFullYear(),_+1,0),w.setHours(23,59,59,999),w}function isLastDayOfMonth(R){const w=toDate(R);return+endOfDay(w)==+endOfMonth(w)}function differenceInMonths(R,w){const _=toDate(R),A=toDate(w),$=compareAsc(_,A),O=Math.abs(differenceInCalendarMonths(_,A));let B;if(O<1)B=0;else{_.getMonth()===1&&_.getDate()>27&&_.setDate(30),_.setMonth(_.getMonth()-$*O);let q=compareAsc(_,A)===-$;isLastDayOfMonth(toDate(R))&&O===1&&compareAsc(R,A)===1&&(q=!1),B=$*(O-Number(q))}return B===0?0:B}function differenceInSeconds(R,w,_){const A=differenceInMilliseconds(R,w)/1e3;return getRoundingMethod(_==null?void 0:_.roundingMethod)(A)}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(R,w,_)=>{let A;const $=formatDistanceLocale[R];return typeof $=="string"?A=$:w===1?A=$.one:A=$.other.replace("{{count}}",w.toString()),_!=null&&_.addSuffix?_.comparison&&_.comparison>0?"in "+A:A+" ago":A};function buildFormatLongFn(R){return(w={})=>{const _=w.width?String(w.width):R.defaultWidth;return R.formats[_]||R.formats[R.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(R,w,_,A)=>formatRelativeLocale[R];function buildLocalizeFn(R){return(w,_)=>{const A=_!=null&&_.context?String(_.context):"standalone";let $;if(A==="formatting"&&R.formattingValues){const B=R.defaultFormattingWidth||R.defaultWidth,q=_!=null&&_.width?String(_.width):B;$=R.formattingValues[q]||R.formattingValues[B]}else{const B=R.defaultWidth,q=_!=null&&_.width?String(_.width):R.defaultWidth;$=R.values[q]||R.values[B]}const O=R.argumentCallback?R.argumentCallback(w):w;return $[O]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(R,w)=>{const _=Number(R),A=_%100;if(A>20||A<10)switch(A%10){case 1:return _+"st";case 2:return _+"nd";case 3:return _+"rd"}return _+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:R=>R-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(R){return(w,_={})=>{const A=_.width,$=A&&R.matchPatterns[A]||R.matchPatterns[R.defaultMatchWidth],O=w.match($);if(!O)return null;const B=O[0],q=A&&R.parsePatterns[A]||R.parsePatterns[R.defaultParseWidth],H=Array.isArray(q)?findIndex(q,K=>K.test(B)):findKey(q,K=>K.test(B));let W;W=R.valueCallback?R.valueCallback(H):H,W=_.valueCallback?_.valueCallback(W):W;const V=w.slice(B.length);return{value:W,rest:V}}}function findKey(R,w){for(const _ in R)if(Object.prototype.hasOwnProperty.call(R,_)&&w(R[_]))return _}function findIndex(R,w){for(let _=0;_<R.length;_++)if(w(R[_]))return _}function buildMatchPatternFn(R){return(w,_={})=>{const A=w.match(R.matchPattern);if(!A)return null;const $=A[0],O=w.match(R.parsePattern);if(!O)return null;let B=R.valueCallback?R.valueCallback(O[0]):O[0];B=_.valueCallback?_.valueCallback(B):B;const q=w.slice($.length);return{value:B,rest:q}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:R=>parseInt(R,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:R=>R+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function formatDistance(R,w,_){const A=getDefaultOptions(),$=(_==null?void 0:_.locale)??A.locale??enUS,O=2520,B=compareAsc(R,w);if(isNaN(B))throw new RangeError("Invalid time value");const q=Object.assign({},_,{addSuffix:_==null?void 0:_.addSuffix,comparison:B});let H,W;B>0?(H=toDate(w),W=toDate(R)):(H=toDate(R),W=toDate(w));const V=differenceInSeconds(W,H),K=(getTimezoneOffsetInMilliseconds(W)-getTimezoneOffsetInMilliseconds(H))/1e3,Y=Math.round((V-K)/60);let re;if(Y<2)return _!=null&&_.includeSeconds?V<5?$.formatDistance("lessThanXSeconds",5,q):V<10?$.formatDistance("lessThanXSeconds",10,q):V<20?$.formatDistance("lessThanXSeconds",20,q):V<40?$.formatDistance("halfAMinute",0,q):V<60?$.formatDistance("lessThanXMinutes",1,q):$.formatDistance("xMinutes",1,q):Y===0?$.formatDistance("lessThanXMinutes",1,q):$.formatDistance("xMinutes",Y,q);if(Y<45)return $.formatDistance("xMinutes",Y,q);if(Y<90)return $.formatDistance("aboutXHours",1,q);if(Y<minutesInDay){const Q=Math.round(Y/60);return $.formatDistance("aboutXHours",Q,q)}else{if(Y<O)return $.formatDistance("xDays",1,q);if(Y<minutesInMonth){const Q=Math.round(Y/minutesInDay);return $.formatDistance("xDays",Q,q)}else if(Y<minutesInMonth*2)return re=Math.round(Y/minutesInMonth),$.formatDistance("aboutXMonths",re,q)}if(re=differenceInMonths(W,H),re<12){const Q=Math.round(Y/minutesInMonth);return $.formatDistance("xMonths",Q,q)}else{const Q=re%12,ie=Math.trunc(re/12);return Q<3?$.formatDistance("aboutXYears",ie,q):Q<9?$.formatDistance("overXYears",ie,q):$.formatDistance("almostXYears",ie+1,q)}}function formatDistanceToNow(R,w){return formatDistance(R,constructNow(R),w)}const ArticleDetail=()=>{const{slug:R}=useParams(),w=useNavigate(),{data:_,isLoading:A,error:$}=useArticleBySlug(R||""),{data:O=[]}=useArticles(),[B,q]=reactExports.useState([]);reactExports.useEffect(()=>{if(window.scrollTo(0,0),_&&O.length>0){const K=O.filter(Y=>Y.slug!==R&&Y.category===_.category).slice(0,3);q(K)}},[_,O,R]);const H=()=>{navigator.share?navigator.share({title:_==null?void 0:_.title,text:_==null?void 0:_.excerpt,url:window.location.href}).catch(K=>console.log("Error sharing",K)):(navigator.clipboard.writeText(window.location.href),toast({title:"Link copied!",description:"Article link copied to clipboard",duration:3e3}))},W=()=>{toast({title:"Article bookmarked!",description:"This article has been saved to your bookmarks",duration:3e3})},V=K=>{w(`/article/${K}`)};return A?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-insightRed"})}):$||!_?jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-insightBlack mb-4",children:"Article Not Found"}),jsxRuntimeExports.jsx("p",{className:"mb-6",children:"The article you're looking for doesn't exist or has been removed."}),jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center bg-insightRed hover:bg-insightBlack text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"mr-2 h-4 w-4"})," Back to Home"]})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12 bg-gradient-to-b from-white to-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center text-insightRed hover:text-insightBlack transition-colors text-sm font-medium group",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"mr-1 h-4 w-4 transform group-hover:-translate-x-1 transition-transform"}),"Back to Home"]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8 animate-fade-in",children:[jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-1 text-sm font-semibold bg-insightRed text-white rounded-full mb-4",children:_.category}),jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-insightBlack mb-4 leading-tight",children:_.title}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center text-sm text-gray-600 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4 mr-1"})," ",_.author]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-1"})," ",formatDistanceToNow(new Date(_.date),{addSuffix:!0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 mr-1"})," 5 min read"]})]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:_.excerpt}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-6 space-x-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:H,children:[jsxRuntimeExports.jsx(Share2,{className:"h-4 w-4 mr-1"})," Share"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:W,children:[jsxRuntimeExports.jsx(Bookmark,{className:"h-4 w-4 mr-1"})," Save"]})]})]}),jsxRuntimeExports.jsx("div",{className:"rounded-lg overflow-hidden mb-8 shadow-md transform hover:scale-[1.02] transition-transform duration-500",children:jsxRuntimeExports.jsx("img",{src:_.image_url||"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=800",alt:_.title,className:"w-full h-auto object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"prose max-w-none text-gray-700 mb-12",children:[jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsx("div",{className:"text-gray-700 leading-relaxed animate-fade-in whitespace-pre-line",children:_.content})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-8 mb-4 animate-fade-in",children:[jsxRuntimeExports.jsx(Tag,{className:"h-4 w-4 mr-2 text-gray-600"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:["Industry Insights","Business Strategy","Market Trends"].map(K=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors cursor-pointer",children:K},K))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-12 bg-gray-50 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-5 w-5 mr-2 text-insightRed"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-insightBlack",children:"Join the Conversation"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Share your thoughts on this article and connect with other readers."}),jsxRuntimeExports.jsx(Button,{className:"bg-insightRed hover:bg-insightBlack text-white transition-colors",children:"Leave a Comment"})]})]}),B.length>0&&jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 pt-10 animate-fade-in",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-6",children:"Related Articles"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:B.map(K=>jsxRuntimeExports.jsx("div",{onClick:()=>V(K.slug),className:"cursor-pointer group",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:[jsxRuntimeExports.jsx("div",{className:"h-40 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:K.image_url||"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400",alt:K.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-insightBlack group-hover:text-insightRed transition-colors mb-2 line-clamp-2",children:K.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:K.excerpt})]})]})},K.id))})]})]})})};function slugify(R){return R.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const newsData=[{id:1,title:"The Future of Digital Banking: How Fintech is Reshaping Financial Services",author:"Sarah Johnson",date:"2025-01-20",image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=600",category:"Finance",excerpt:"Explore how digital-first banks are revolutionizing customer experience and driving innovation in the financial sector.",content:`Digital banking has transformed from a convenience to a necessity, fundamentally changing how consumers interact with financial institutions. Digital-first banks are leveraging advanced technologies like artificial intelligence, machine learning, and blockchain to create seamless, personalized banking experiences that traditional banks struggle to match.

The rise of neobanks and challenger banks has forced established financial institutions to accelerate their digital transformation initiatives. These digital natives offer features like instant account opening, real-time transaction notifications, budgeting tools, and 24/7 customer support through chatbots and mobile apps.

Key innovations driving this transformation include open banking APIs that enable third-party integrations, biometric authentication for enhanced security, and AI-powered financial advisory services. As regulatory frameworks evolve to support fintech innovation, we can expect even more disruptive changes in how financial services are delivered and consumed.`,slug:"future-digital-banking-fintech-reshaping-financial-services",isFeatured:!0},{id:2,title:"AI and Machine Learning Transforming Business Operations",author:"Sarah Johnson",date:"April 12, 2025",image:"https://images.unsplash.com/photo-1555255707-c07966088b7b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Technology",excerpt:"How artificial intelligence and machine learning are revolutionizing business processes and decision-making across industries.",content:`Artificial intelligence and machine learning technologies are fundamentally changing how businesses operate, analyze data, and make strategic decisions. From automating routine tasks to uncovering insights in vast datasets, these technologies are helping companies across sectors increase efficiency and gain competitive advantages.

In manufacturing, predictive maintenance powered by machine learning algorithms is reducing downtime and extending equipment lifespans. Retail companies are leveraging AI for personalized marketing and inventory optimization. Financial institutions are employing these technologies for fraud detection and risk assessment with unprecedented accuracy.

Perhaps most significantly, AI tools are enhancing decision-making processes at executive levels. By analyzing historical data and market trends, advanced algorithms can provide recommendations that help leaders navigate complex challenges and identify new opportunities.`,slug:"ai-machine-learning-transforming-business-operations",isFeatured:!0},{id:3,title:"Supply Chain Resilience: Lessons from Global Disruptions",author:"Michael Chen",date:"April 5, 2025",image:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Business",excerpt:"Strategies for building robust supply chains that can withstand unexpected disruptions in an interconnected global economy.",content:`Recent global events have exposed vulnerabilities in traditional supply chain models, prompting organizations to prioritize resilience alongside efficiency. Forward-thinking companies are now implementing comprehensive strategies to ensure business continuity even during major disruptions.

Diversification of suppliers and manufacturing locations has emerged as a critical tactic. By reducing dependency on single sources or regions, businesses can mitigate risks associated with localized disruptions. Additionally, investments in visibility technologies are enabling real-time tracking and monitoring of goods throughout the supply chain.

Another key approach involves strategic inventory management, with companies maintaining buffer stocks of critical components. While this represents a departure from strict just-in-time models, the added security is increasingly viewed as essential. Finally, flexible logistics networks that can quickly adapt to changing conditions are becoming standard for resilient operations.`,slug:"supply-chain-resilience-lessons-from-global-disruptions"},{id:4,title:"ESG Initiatives Driving Long-term Business Value",author:"Jennifer Martinez",date:"March 28, 2025",image:"https://images.unsplash.com/photo-1470770841072-f978cf4d019e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Business",excerpt:"How environmental, social, and governance programs are creating sustainable competitive advantages for forward-thinking companies.",content:`Environmental, Social, and Governance (ESG) initiatives have evolved from corporate social responsibility add-ons to strategic imperatives driving substantial business value. Companies implementing robust ESG programs are seeing benefits across multiple dimensions, from operational efficiency to market positioning and talent acquisition.

On the environmental front, investments in renewable energy and resource efficiency are yielding significant cost savings while reducing carbon footprints. Social initiatives focused on employee well-being, diversity, and community engagement are enhancing workforce productivity and strengthening brand reputation. Meanwhile, governance improvements are leading to better risk management and more resilient business models.

Investors are increasingly recognizing these connections between ESG performance and financial outcomes. Organizations with strong ESG metrics are attracting more capital and often enjoying lower costs of financing. As regulatory requirements around sustainability reporting continue to evolve, companies with established ESG frameworks are also better positioned to maintain compliance with minimal disruption.`,slug:"esg-initiatives-driving-long-term-business-value"},{id:5,title:"Digital Transformation in Financial Services",author:"Robert Williams",date:"March 21, 2025",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Finance",excerpt:"How banks and financial institutions are leveraging technology to enhance customer experience and streamline operations.",content:`The financial services industry is undergoing a profound transformation driven by digital technologies and changing customer expectations. Traditional institutions are reimagining their operations and service models to compete with fintech innovators and meet the demands of increasingly tech-savvy consumers.

Customer-facing innovations include sophisticated mobile banking applications, AI-powered chatbots for service inquiries, and personalized financial management tools. Behind the scenes, institutions are modernizing core systems and implementing cloud computing infrastructure to increase agility and reduce costs.

Blockchain technology is gaining traction for use cases ranging from cross-border payments to trade finance, offering greater transparency and efficiency. Meanwhile, advanced data analytics and machine learning are enhancing risk assessment capabilities and enabling more targeted product offerings. As these technologies mature, the distinction between traditional financial institutions and technology companies continues to blur, creating a dynamic competitive landscape.`,slug:"digital-transformation-in-financial-services",isFeatured:!0},{id:6,title:"Remote Work Revolution: Building Effective Virtual Teams",author:"Emily Brown",date:"March 15, 2025",image:"https://images.unsplash.com/photo-1599909355781-b4737b8b5b7d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Leadership",excerpt:"Strategies for managing distributed workforces and maintaining productivity in remote and hybrid work environments.",content:`The widespread adoption of remote and hybrid work models has fundamentally changed how teams operate and collaborate. While these arrangements offer significant benefitsincluding access to global talent and greater employee flexibilitythey also present unique leadership challenges that require deliberate strategies to address.

Effective virtual leadership starts with establishing clear communication protocols and expectations. Successful organizations are implementing structured check-ins and utilizing digital collaboration tools to maintain alignment and visibility. They're also recognizing the importance of fostering connection through virtual team-building activities and occasional in-person gatherings.

Performance management approaches are evolving as well, with greater emphasis on outcomes rather than hours worked. Forward-thinking leaders are developing new skills for virtual coaching and feedback, while also creating opportunities for spontaneous interaction that might otherwise be lost in remote settings. As these models mature, organizations that excel at managing distributed teams are gaining advantages in both talent acquisition and retention.`,slug:"remote-work-revolution-building-effective-virtual-teams",isFeatured:!0},{id:7,title:"Emerging Markets: Growth Opportunities and Strategic Considerations",author:"David Patel",date:"March 8, 2025",image:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Markets",excerpt:"Analysis of promising emerging markets and key factors for successful expansion into developing economies.",content:`Emerging markets continue to present significant growth opportunities for global businesses, with rising middle classes, digital adoption, and infrastructure development creating favorable conditions across multiple sectors. However, successful expansion into these markets requires nuanced strategies that account for local dynamics and challenges.

Markets across Southeast Asia, particularly Vietnam and Indonesia, are showing robust economic growth fueled by young populations and increasing technological adoption. Parts of Africa are experiencing rapid urbanization and financial inclusion through mobile technologies, creating new consumer bases. Meanwhile, specific regions in Latin America are benefiting from regulatory reforms that have improved business environments.

Companies achieving success in these markets are taking localized approaches rather than applying standardized global playbooks. This includes adapting product offerings to meet local preferences, forming strategic partnerships with established local entities, and investing in understanding regulatory landscapes. Cultural intelligence and relationship building are proving particularly crucial for navigating business environments that often operate differently from developed markets.`,slug:"emerging-markets-growth-opportunities-strategic-considerations",isFeatured:!0},{id:8,title:"Cybersecurity Imperatives for the Modern Enterprise",author:"Thomas Jackson",date:"March 1, 2025",image:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Technology",excerpt:"Essential strategies for protecting digital assets and maintaining operational resilience against evolving cyber threats.",content:`As digital transformation accelerates across industries, cybersecurity has become a critical business function rather than merely a technical consideration. The expanding threat landscapecharacterized by increasingly sophisticated attacks and growing regulatory requirementsdemands comprehensive approaches to security that extend beyond traditional IT departments.

Effective cybersecurity now requires a multi-layered strategy that addresses technological vulnerabilities while also focusing on people and processes. Leading organizations are implementing zero-trust architectures that verify every access request regardless of origin. They're also investing in advanced threat detection systems powered by artificial intelligence and machine learning that can identify anomalous patterns before breaches occur.

Just as important are organizational measures, including security-aware culture building and regular training for all employees. Executive leadership involvement in security governance has increased as well, reflecting the enterprise-wide implications of cyber incidents. As attacks continue to evolve, the most resilient organizations are those treating cybersecurity as an ongoing business priority with dedicated resources and board-level visibility.`,slug:"cybersecurity-imperatives-for-modern-enterprise",isFeatured:!0},{id:9,title:"Next-Generation Customer Experience Strategies",author:"Lisa Wong",date:"February 22, 2025",image:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Marketing",excerpt:"How leading companies are reimagining customer journeys and leveraging technology to create memorable brand experiences.",content:`Customer experience has emerged as a primary competitive differentiator across industries, with leading organizations taking increasingly sophisticated approaches to understanding and enhancing customer journeys. The integration of digital technologies with human-centered design is enabling more personalized, seamless interactions across multiple channels and touchpoints.

Successful companies are moving beyond traditional customer satisfaction metrics to measure emotional connections and engagement throughout the customer lifecycle. They're using advanced analytics to anticipate needs and remove friction points before customers encounter them. AI-powered personalization is becoming more nuanced, creating experiences that feel genuinely tailored rather than simply categorized.

Perhaps most notably, forward-thinking organizations are breaking down internal silos to create unified experiences regardless of where and how customers interact with the brand. This requires alignment across departmentsfrom marketing and sales to operations and customer servicearound a cohesive customer experience vision. Those achieving this integration are seeing meaningful impacts on customer loyalty, retention, and advocacy.`,slug:"next-generation-customer-experience-strategies"},{id:10,title:"Sustainable Supply Chain Management",author:"Mark Johnson",date:"February 15, 2025",image:"https://images.unsplash.com/photo-1605000797499-95a51c5269ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Sustainability",excerpt:"How companies are integrating environmental and social considerations into their supply chain strategies.",content:`Leading organizations are transforming their supply chains to minimize environmental impact while ensuring social responsibility throughout their operations. These sustainable supply chain initiatives are not only addressing growing consumer and regulatory demands but also delivering tangible business benefits.

Companies are implementing comprehensive supplier assessment programs that evaluate environmental practices, labor conditions, and ethics. Advanced tracking technologies are providing unprecedented visibility into product origins and manufacturing conditions. Many firms are also redesigning packaging and distribution networks to reduce carbon emissions and waste.

Collaboration has become essential, with industry-wide initiatives addressing shared challenges like deforestation, water usage, and fair labor practices. The most successful programs combine clear standards with practical support to help suppliers meet sustainability goals. As reporting requirements become more stringent, these integrated approaches are helping businesses satisfy stakeholders while building more resilient operations.`,slug:"sustainable-supply-chain-management",isFeatured:!0},{id:11,title:"The Future of Work: Automation, Skills, and Organizational Design",author:"Alexandra Chen",date:"February 8, 2025",image:"https://images.unsplash.com/photo-1531973576160-7125cd663d86?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Leadership",excerpt:"How technological advancement is reshaping workforce needs and organizational structures.",content:`The accelerating pace of automation and artificial intelligence is fundamentally altering the nature of work across industries, creating both challenges and opportunities for organizations and their workforces. Forward-thinking companies are developing comprehensive strategies that address technological implementation while prioritizing human capital development.

While routine tasks are increasingly automated, demand is growing for skills like critical thinking, creativity, and emotional intelligence that remain distinctly human. Leading organizations are investing in continuous learning programs that help employees develop these capabilities and transition to higher-value roles. They're also redesigning organizational structures to be more agile and collaborative, enabling faster adaptation to changing conditions.

The physical workplace is evolving as well, with hybrid models becoming standard for knowledge work. These arrangements combine the flexibility of remote work with purposeful in-person collaboration. As these trends continue, the most successful organizations will be those that effectively integrate technological capabilities with uniquely human strengths while creating inclusive cultures that support ongoing transformation.`,slug:"future-of-work-automation-skills-organizational-design"},{id:12,title:"Data-Driven Decision Making in Modern Business",author:"Jordan Smith",date:"February 1, 2025",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Technology",excerpt:"How organizations are leveraging analytics to improve strategic decision-making across functions.",content:`Data analytics capabilities have evolved dramatically, enabling organizations to make more informed decisions across every business function. From marketing and operations to finance and human resources, leading companies are using data insights to drive performance improvements and competitive advantage.

Advanced analytics platforms are making sophisticated tools more accessible to business users without technical backgrounds. These systems combine user-friendly interfaces with powerful processing capabilities, democratizing data access while maintaining governance. Meanwhile, predictive and prescriptive analytics are moving beyond reporting what happened to forecasting outcomes and recommending optimal actions.

The most effective data strategies connect analytics directly to business objectives and decision processes. This alignment ensures insights actually influence actions rather than becoming interesting but unused information. As these capabilities mature, data literacy is becoming an essential skill at all organizational levels, with executives increasingly expected to understand both the potential and limitations of data-driven approaches.`,slug:"data-driven-decision-making-modern-business"},{id:13,title:"Healthcare Innovation: Digital Transformation and Personalized Medicine",author:"Dr. Sarah Williams",date:"January 25, 2025",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Healthcare",excerpt:"How technological advances and personalized approaches are reshaping healthcare delivery and patient outcomes.",content:`Healthcare is experiencing unprecedented transformation driven by digital technologies, data analytics, and advances in personalized medicine. These developments are improving patient outcomes while creating significant opportunities for innovation across the healthcare ecosystem.

Telemedicine and virtual care have moved from supplementary services to core delivery channels, expanding access while reducing costs. Mobile health applications and wearable devices are enabling continuous monitoring and early intervention, particularly for chronic condition management. Electronic health records continue to evolve, with interoperability improvements supporting more coordinated care.

Meanwhile, personalized medicine is advancing rapidly as genomic sequencing becomes more affordable and accessible. This approach is enabling more precise diagnostics and targeted therapies based on individual patient characteristics. Artificial intelligence applications are accelerating these trends by analyzing complex medical data to identify patterns and treatment options that might otherwise be missed. As these innovations mature, they're reshaping relationships between providers, payers, patients, and technology companies throughout the healthcare sector.`,slug:"healthcare-innovation-digital-transformation-personalized-medicine"},{id:14,title:"Regulatory Compliance in an Era of Changing Standards",author:"Michael Rodriguez",date:"January 18, 2025",image:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Business",excerpt:"Strategies for maintaining compliance amid evolving regulatory environments across global markets.",content:`Businesses operating in today's complex global environment face unprecedented regulatory challenges. From data privacy and cybersecurity to environmental standards and financial reporting, the regulatory landscape continues to evolve rapidly across regions and industries.

Leading organizations are developing integrated compliance frameworks that maintain alignment with current requirements while building adaptability for future changes. These approaches combine technology solutions for monitoring and reporting with cross-functional governance structures that ensure comprehensive oversight. They're also implementing continuous education programs to keep employees informed about regulatory expectations relevant to their roles.

Perhaps most importantly, forward-thinking companies are moving beyond viewing compliance as merely a cost center or risk mitigation function. By developing capabilities that efficiently address regulatory requirements, these organizations are creating competitive advantages in speed-to-market and operational resilience. They're also finding that strong compliance practices often align with other business imperatives like data security, operational excellence, and stakeholder trust.`,slug:"regulatory-compliance-era-changing-standards"},{id:15,title:"The Rise of Sustainable Finance and ESG Investing",author:"Katherine Zhao",date:"January 12, 2025",image:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236e3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Finance",excerpt:"How environmental, social, and governance considerations are reshaping investment strategies and capital allocation.",content:`Sustainable finance has moved from a niche approach to a mainstream investment philosophy, with environmental, social, and governance (ESG) factors increasingly integrated into investment analysis and decision-making. This evolution is reshaping capital markets and corporate behavior across sectors.

Investors are developing more sophisticated methods for assessing ESG performance, moving beyond simple exclusionary screens to comprehensive frameworks that evaluate material sustainability factors. These analyses are revealing connections between ESG practices and financial outcomes like operational efficiency, risk management, and long-term growth potential.

Innovative financial instruments are also emerging, including green bonds for environmental projects, social bonds addressing community needs, and sustainability-linked loans with terms tied to ESG performance metrics. Regulatory standards are evolving as well, with reporting requirements becoming more stringent and standardized globally. As these trends continue, companies with strong sustainability strategies are gaining advantages in capital access and cost, while investors are finding opportunities to generate returns while supporting positive environmental and social impacts.`,slug:"rise-sustainable-finance-esg-investing"},{id:16,title:"Digital Marketing Evolution: Data Privacy and Personalization Balance",author:"Rachel Thompson",date:"January 5, 2025",image:"https://images.unsplash.com/photo-1432888622747-4eb9a8efeb07?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Marketing",excerpt:"How marketers are adapting strategies to balance personalization effectiveness with increasing privacy regulations.",content:`Digital marketing is navigating a fundamental transformation as privacy regulations tighten and consumer expectations around data usage evolve. Leading organizations are developing new approaches that deliver personalized experiences while respecting privacy preferences and regulatory requirements.

Marketing teams are shifting from third-party data dependence toward first-party data strategies that build direct relationships with customers. These approaches combine transparent data collection practices with clear value exchanges that incentivize information sharing. Many companies are also exploring contextual targeting methods that deliver relevance without requiring personal identifiers.

Technology solutions are evolving as well, with consent management platforms, privacy-preserving analytics, and machine learning systems that can optimize personalization with minimal data. As these capabilities mature, the most effective marketers are finding that privacy-centric approaches often align with broader business goals, building customer trust while driving engagement through genuinely helpful personalized experiences rather than intrusive targeting.`,slug:"digital-marketing-evolution-data-privacy-personalization-balance"},{id:17,title:"Blockchain Beyond Cryptocurrency: Enterprise Applications and Adoption",author:"Daniel Lee",date:"December 28, 2024",image:"https://images.unsplash.com/photo-1639322537504-6427a16b0a28?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Technology",excerpt:"How distributed ledger technology is being applied to solve business challenges across industries.",content:`While often associated primarily with cryptocurrencies, blockchain technology is finding valuable applications across diverse industries and business functions. Enterprise adoption is accelerating as the technology matures and organizations identify specific use cases where distributed ledgers provide meaningful advantages.

Supply chain traceability represents one of the most promising applications, with blockchain enabling transparent tracking of products from origin to consumer. This capability is particularly valuable in industries like food, pharmaceuticals, and luxury goods where authenticity verification is critical. Financial services firms are implementing blockchain for settlement processes, cross-border payments, and trade finance documentation, reducing costs and processing times.

Identity management systems built on blockchain architecture are emerging as well, giving individuals greater control over personal data while streamlining verification processes. Smart contracts are automating complex multi-party agreements in areas ranging from insurance claims to intellectual property licensing. As implementation barriers decrease and industry-specific solutions emerge, blockchain adoption is increasingly driven by practical business outcomes rather than technological experimentation.`,slug:"blockchain-beyond-cryptocurrency-enterprise-applications-adoption",isFeatured:!0},{id:18,title:"Digital Twins: Transforming Asset Management and Operational Excellence",author:"James Wilson",date:"December 21, 2024",image:"https://images.unsplash.com/photo-1581094798931-2c531d7a520e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Technology",excerpt:"How virtual replicas of physical assets are improving efficiency and enabling new capabilities across industries.",content:`Digital twin technologycreating virtual representations of physical objects, processes, or systemsis rapidly advancing from concept to practical implementation across industries. These detailed digital models combine real-time data from sensors with advanced analytics to transform how organizations manage assets and operations.

In manufacturing, digital twins are enabling predictive maintenance approaches that minimize downtime while extending equipment lifespan. Engineers can simulate modifications and optimizations virtually before implementing physical changes, reducing costs and risks. Urban planners are using city-scale digital twins to improve infrastructure management, traffic flow, and emergency response planning.

Healthcare applications are emerging as well, with patient-specific digital twins supporting personalized treatment planning and medical device development. As these implementations mature, organizations are finding that digital twins deliver value beyond individual use cases by creating comprehensive visibility across complex systems and enabling integrated decision-making that wasn't previously possible with siloed data and processes.`,slug:"digital-twins-transforming-asset-management-operational-excellence"},{id:19,title:"Circular Economy Business Models: Creating Value Through Sustainability",author:"Sophia Park",date:"December 15, 2024",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Sustainability",excerpt:"How companies are rethinking product design, manufacturing, and business models to eliminate waste and create sustainable growth.",content:`The circular economy represents a fundamental shift from traditional take-make-dispose models toward regenerative approaches that design out waste and pollution, keep products and materials in use, and regenerate natural systems. Forward-thinking organizations are discovering that these principles not only address environmental imperatives but also create new business opportunities and competitive advantages.

Companies are redesigning products for durability, repairability, and eventual recycling or biodegradation. They're developing reverse logistics capabilities that efficiently recover used products for refurbishment or material recovery. Innovative business models are emerging as well, including product-as-a-service offerings that maintain manufacturer ownership throughout the lifecycle, subscription models that include maintenance and upgrades, and sharing platforms that increase utilization of underused assets.

These approaches are delivering tangible business benefits beyond sustainability improvements, including reduced material costs, strengthened customer relationships through ongoing service models, and new revenue streams from previously discarded materials. As regulatory pressure increases and consumer preferences evolve, circular principles are becoming essential elements of long-term business strategy across industries.`,slug:"circular-economy-business-models-creating-value-through-sustainability"},{id:20,title:"Agile Transformation Beyond Software Development",author:"Nathan Chen",date:"December 8, 2024",image:"https://images.unsplash.com/photo-1531403009284-440f080d1e12?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Leadership",excerpt:"How agile principles are being applied to transform organizational structures and processes across functions.",content:`While agile methodologies originated in software development, their principles of iterative delivery, customer focus, and self-organizing teams are now being successfully applied across diverse business functions and industries. Organizations are discovering that agile approaches can improve responsiveness and efficiency throughout their operations.

Marketing teams are adopting agile practices to develop campaigns through rapid testing and refinement rather than extended planning cycles. Product development processes are becoming more customer-centric, with continuous feedback informing evolution rather than rigid specifications. Even traditionally structured areas like finance and human resources are implementing agile elements that enable faster adaptation to changing business needs.

Successful agile transformations require more than simply adopting ceremonies and terminology. They involve fundamental shifts in leadership approaches, organizational structures, and performance management systems. The most effective implementations align agile practices with specific business objectives while thoughtfully adapting principles to different functional contexts rather than applying software development frameworks without modification.`,slug:"agile-transformation-beyond-software-development"},{id:21,title:"Quantum Computing: Business Implications and Preparation Strategies",author:"Dr. Alan Richardson",date:"December 1, 2024",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"Technology",excerpt:"How quantum computing developments may impact industries and how organizations can prepare for this emerging technology.",content:`Quantum computing represents a fundamental shift in computational capabilities that could eventually transform industries from pharmaceuticals and materials science to logistics and cybersecurity. While widespread practical applications remain years away, forward-thinking organizations are beginning to assess potential impacts and develop preparation strategies.

The most immediate business implications involve complex optimization problems where quantum algorithms could potentially deliver exponential speedups. These include supply chain optimization, financial portfolio management, and transportation routing. Drug discovery and materials development could accelerate dramatically through quantum simulations of molecular interactions that are computationally infeasible with classical systems.

Organizations can prepare by identifying specific business problems where quantum approaches might deliver advantages, building quantum literacy among technical teams, and exploring hybrid approaches that combine classical and quantum methods. Industry-academic partnerships provide access to expertise and early-stage technology without requiring substantial direct investment. By developing awareness and capabilities now, companies can position themselves to leverage quantum advantages as the technology matures while managing risks like potential impacts on current cryptographic security systems.`,slug:"quantum-computing-business-implications-preparation-strategies",isFeatured:!0},{id:22,title:"AI Transformation Drives 40% Revenue Growth in Fortune 500 Companies",author:"Tech Business Weekly",date:"2025-01-15",image:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400",category:"Technology",excerpt:"New research reveals how artificial intelligence implementations are reshaping business operations and driving unprecedented revenue growth across major corporations.",content:`A comprehensive study of Fortune 500 companies reveals that organizations implementing comprehensive AI strategies are experiencing an average revenue growth of 40% compared to their traditional counterparts. This remarkable transformation is being driven by AI applications across multiple business functions, from customer service automation to predictive analytics and supply chain optimization.

The research, conducted over 18 months, found that companies achieving the highest growth rates shared several common characteristics: they invested heavily in data infrastructure, prioritized employee AI literacy training, and implemented AI solutions systematically rather than in isolated pilots. Customer experience improvements were particularly significant, with AI-powered personalization increasing customer satisfaction scores by an average of 35%.

Experts predict this trend will accelerate as AI technologies become more accessible and cost-effective. However, successful implementation requires strategic planning, substantial investment in change management, and a commitment to ongoing learning and adaptation as the technology continues to evolve.`,slug:"ai-transformation-revenue-growth-fortune-500"},{id:23,title:"Sustainable Finance Reaches $35 Trillion Globally as ESG Investing Accelerates",author:"Financial Leadership Today",date:"2025-01-14",image:"https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400",category:"Finance",excerpt:"Environmental, Social, and Governance (ESG) investing continues its explosive growth, with institutional investors leading the charge toward sustainable financial practices.",content:`The global sustainable finance market has reached a milestone of $35 trillion in assets under management, representing nearly 40% of all professionally managed investments worldwide. This growth reflects a fundamental shift in how investors evaluate opportunities, with ESG criteria becoming central to investment decision-making processes across both institutional and retail markets.

Institutional investors, including pension funds, insurance companies, and sovereign wealth funds, are driving much of this growth as they recognize the long-term financial benefits of sustainable investing. Many are finding that ESG-focused portfolios often outperform traditional investments while reducing risk exposure to environmental and social factors that could impact future returns.

The acceleration in ESG adoption is being supported by improved data availability, standardized reporting frameworks, and regulatory requirements in major markets. As climate change concerns intensify and social responsibility becomes increasingly important to stakeholders, experts predict sustainable finance will continue its rapid expansion, potentially reaching $50 trillion within the next three years.`,slug:"sustainable-finance-esg-investing-growth"},{id:24,title:"Healthcare Innovation: Telehealth Market Projected to Hit $659 Billion by 2030",author:"Healthcare Business Review",date:"2025-01-13",image:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=400",category:"Healthcare",excerpt:"Digital health solutions and remote care technologies are revolutionizing patient care delivery, creating massive market opportunities for healthcare innovators.",content:`The telehealth market is experiencing unprecedented growth, with projections indicating it will reach $659 billion by 2030, up from $83 billion in 2022. This explosive growth is being driven by technological advances, changing patient expectations, and healthcare providers' need to improve efficiency while expanding access to care.

Key growth drivers include the widespread adoption of wearable health devices, AI-powered diagnostic tools, and integrated electronic health records that enable seamless virtual consultations. Patient acceptance has increased dramatically, with satisfaction rates for telehealth services now matching or exceeding traditional in-person visits for many types of care.

The market expansion is creating opportunities across multiple segments, including virtual primary care, mental health services, chronic disease management, and specialized consultations. Major healthcare systems are investing heavily in digital infrastructure, while technology companies are partnering with medical providers to develop innovative solutions that improve patient outcomes while reducing costs.`,slug:"telehealth-market-growth-digital-health"},{id:25,title:"Supply Chain Resilience: Companies Invest $2.4 Trillion in Diversification Strategies",author:"Supply Chain Executive",date:"2025-01-12",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400",category:"Manufacturing",excerpt:"Global supply chain disruptions drive unprecedented investment in resilience strategies, with companies restructuring operations for greater flexibility and security.",content:`In response to recent global supply chain disruptions, companies worldwide have committed $2.4 trillion to supply chain diversification and resilience initiatives over the next five years. This massive investment represents a fundamental shift from efficiency-focused, just-in-time models toward more robust, flexible supply networks capable of withstanding various types of disruptions.

The investment is being allocated across multiple strategies, including geographic diversification of suppliers, development of alternative transportation routes, increased inventory buffers for critical components, and advanced supply chain visibility technologies. Many companies are also investing in local and regional suppliers to reduce dependence on distant sources, even if this means higher short-term costs.

Technology plays a crucial role in these resilience strategies, with companies implementing AI-powered supply chain monitoring systems, blockchain-based traceability solutions, and predictive analytics platforms that can identify potential disruptions before they occur. Early adopters of these comprehensive resilience strategies are already seeing benefits in terms of reduced risk exposure and improved ability to respond quickly to market changes.`,slug:"supply-chain-resilience-diversification-investment"}],CategoryPage=()=>{const{categoryName:R}=useParams(),[w,_]=reactExports.useState(newsData),[A,$]=reactExports.useState(!0);return reactExports.useEffect(()=>{const O=newsData.filter(B=>B.category.toLowerCase()===(R==null?void 0:R.toLowerCase()));_(O),$(!1)},[R]),A?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-insightRed"})}):w.length===0?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-insightBlack mb-4",children:"No Articles Found"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-600 mb-8",children:["We couldn't find any articles in the ",R," category."]}),jsxRuntimeExports.jsx(Link,{to:"/",className:"inline-flex items-center px-6 py-3 bg-insightRed text-white rounded-md font-medium hover:bg-red-700 transition-colors",children:"Back to Home"})]})})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl font-bold text-insightBlack mb-4 capitalize",children:[R," Articles"]}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-600",children:["Explore our collection of ",w.length," articles in the ",R," category"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:w.map(O=>jsxRuntimeExports.jsxs(Card,{className:"group overflow-hidden hover:shadow-xl transition-all duration-300 border-0 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden aspect-video",children:[jsxRuntimeExports.jsx("img",{src:O.image,alt:O.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 m-4",children:jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-3 py-1.5 bg-white/90 backdrop-blur-sm text-insightBlack text-sm font-semibold rounded-full",children:O.category})})]}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-3 group-hover:text-insightRed transition-colors line-clamp-2",children:O.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:O.excerpt}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:O.date}),jsxRuntimeExports.jsxs(Link,{to:`/article/${O.slug}`,className:"inline-flex items-center text-insightRed hover:text-insightBlack text-sm font-medium transition-colors",children:["Read Full Article ",jsxRuntimeExports.jsx(ChevronRight,{className:"ml-1 h-4 w-4"})]})]})]})]},O.id))})]})})},About=()=>{reactExports.useState(null);const[R,w]=reactExports.useState({mission:!1,vision:!1,values:!1,team:!1,history:!1}),_=[{year:2015,title:"Company Founded",description:"CIO VISION was founded with a vision to transform business intelligence."},{year:2017,title:"Global Expansion",description:"Opened offices in Europe and Asia, expanding our international presence."},{year:2019,title:"Technology Innovation",description:"Launched our proprietary analytics platform revolutionizing data insights."},{year:2021,title:"Industry Recognition",description:"Received multiple awards for thought leadership and innovation."},{year:2023,title:"Strategic Partnerships",description:"Formed key partnerships with Fortune 500 companies."},{year:2025,title:"Sustainability Initiative",description:"Committed to carbon neutrality and sustainable business practices."}],A=[{icon:jsxRuntimeExports.jsx(Target,{className:"h-6 w-6 text-insightRed"}),title:"Innovation",description:"We challenge conventions and embrace change to drive progress."},{icon:jsxRuntimeExports.jsx(Award,{className:"h-6 w-6 text-insightRed"}),title:"Excellence",description:"We are committed to the highest standards in all our work."},{icon:jsxRuntimeExports.jsx(TrendingUp,{className:"h-6 w-6 text-insightRed"}),title:"Growth",description:"We foster continuous learning and development."},{icon:jsxRuntimeExports.jsx(Globe,{className:"h-6 w-6 text-insightRed"}),title:"Integrity",description:"We operate with honesty, transparency, and ethical conduct."}],$=useCompanyName();return reactExports.useEffect(()=>{const O=new IntersectionObserver(B=>{B.forEach(q=>{if(q.isIntersecting){const H=q.target.id;w(W=>({...W,[H]:!0}))}})},{threshold:.2});return document.querySelectorAll("section[id]").forEach(B=>{O.observe(B)}),()=>O.disconnect()},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-r from-gray-900 to-insightBlack text-white py-20",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1487958449943-2429e8be8625?auto=format&fit=crop&w=1920&q=80')] bg-cover bg-center"}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["About ",$]}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto text-lg text-gray-200 mb-8",children:"Transforming complex business data into actionable intelligence for forward-thinking leaders."}),jsxRuntimeExports.jsx(Button,{className:"bg-insightRed hover:bg-red-700 text-white",children:jsxRuntimeExports.jsx(Link,{to:"/contact",children:"Connect With Us"})})]})})]}),jsxRuntimeExports.jsx("section",{id:"mission",className:"py-16 bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:`grid md:grid-cols-2 gap-12 ${R.mission?"animate-fade-in":"opacity-0"}`,style:{transitionDelay:"200ms"},children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 transform hover:-translate-y-1 transition-transform duration-300",children:[jsxRuntimeExports.jsx("div",{className:"inline-block p-3 bg-red-100 rounded-lg mb-4",children:jsxRuntimeExports.jsx(Target,{className:"h-8 w-8 text-insightRed"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-4",children:"Our Mission"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"At CIO VISION, we are dedicated to providing cutting-edge insights and thought leadership in the technology and business landscape. Our mission is to empower leaders with actionable intelligence, innovative perspectives, and in-depth analysis that drives strategic decision-making."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 transform hover:-translate-y-1 transition-transform duration-300",children:[jsxRuntimeExports.jsx("div",{className:"inline-block p-3 bg-red-100 rounded-lg mb-4",children:jsxRuntimeExports.jsx(TrendingUp,{className:"h-8 w-8 text-insightRed"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-4",children:"Our Vision"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"We envision a world where business leaders are equipped with transformative knowledge that enables them to navigate complexity, foster innovation, and create sustainable growth. Through our comprehensive research, interviews, and expert insights, we aim to be the premier platform for forward-thinking leaders."})]})]})})}),jsxRuntimeExports.jsx("section",{id:"values",className:"py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-insight CIO VISION Black mb-4",children:"Our Core Values"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:"These principles guide everything we do at ."})]}),jsxRuntimeExports.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ${R.values?"animate-fade-in":"opacity-0"}`,style:{transitionDelay:"400ms"},children:A.map((O,B)=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center hover:shadow-lg transition-shadow",style:{animationDelay:`${B*100}ms`},children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center h-14 w-14 rounded-full bg-red-50 mb-4",children:O.icon}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-insightBlack mb-2",children:O.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:O.description})]},B))})]})}),jsxRuntimeExports.jsx("section",{id:"history",className:"py-16 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-insightBlack mb-4",children:"Our Journey"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto text-gray-600",children:"Tracing our path from startup to industry leader."})]}),jsxRuntimeExports.jsxs("div",{className:`relative ${R.history?"animate-fade-in":"opacity-0"}`,style:{transitionDelay:"600ms"},children:[jsxRuntimeExports.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gray-200"}),jsxRuntimeExports.jsx("div",{className:"space-y-12",children:_.map((O,B)=>jsxRuntimeExports.jsxs("div",{className:`relative flex ${B%2===0?"md:flex-row-reverse":"md:flex-row"}`,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-full md:w-1/2",children:jsxRuntimeExports.jsxs("div",{className:"w-full md:w-3/4 lg:w-2/3 p-6 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold bg-red-100 text-insightRed rounded-md mb-2",children:O.year}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-insightBlack mb-2",children:O.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:O.description})]})}),jsxRuntimeExports.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"h-6 w-6 rounded-full bg-insightRed z-10"})}),jsxRuntimeExports.jsx("div",{className:"md:w-1/2"})]},B))})]})]})}),jsxRuntimeExports.jsx("section",{className:"py-16 bg-insightBlack text-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to Transform Your Business?"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto text-gray-300 mb-8",children:"Discover how CIO VISION can help your organization navigate complexity and drive innovation."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[jsxRuntimeExports.jsx(Button,{className:"bg-insightRed hover:bg-red-700 text-white",children:jsxRuntimeExports.jsx(Link,{to:"/contact",children:"Contact Us"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-insightBlack",children:jsxRuntimeExports.jsx(Link,{to:"/magazine",children:"Explore Our Magazine"})})]})]})})]})},Textarea=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",R),ref:_,...w}));Textarea.displayName="Textarea";const Contact=()=>{const[R,w]=reactExports.useState({name:"",email:"",phone:"",subject:"",message:""}),[_,A]=reactExports.useState("idle"),[$,O]=reactExports.useState(null),[B,q]=reactExports.useState({form:!1,info:!1,map:!1,faq:!1}),H=useCompanyName(),W=[{question:`What services does ${H} offer?`,answer:`${H} provides business intelligence consulting, market research, data analytics, strategic advisory services, and thought leadership content through our magazine and research publications.`},{question:"How quickly can I expect a response to my inquiry?",answer:"We aim to respond to all inquiries within 24-48 business hours. For urgent matters, please indicate this in your message or contact us directly by phone."},{question:"Do you offer services internationally?",answer:`Yes, ${H} works with clients globally. Our team has experience across various markets and can provide localized insights for different regions.`},{question:"How can I subscribe to your magazine or newsletters?",answer:"You can subscribe to our publications through the Magazine section of our website. We offer both free and premium subscription options."}],V=re=>{const{name:Q,value:ie}=re.target;w(J=>({...J,[Q]:ie}))},K=re=>{if(re.preventDefault(),!R.name||!R.email||!R.message){toast({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}A("submitting"),setTimeout(()=>{A("success"),toast({title:"Message sent!",description:"Thank you for your message. We will get back to you soon."}),w({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>A("idle"),3e3)},1500)},Y=re=>{O($===`faq-${re}`?null:`faq-${re}`)};return reactExports.useEffect(()=>{const re=new IntersectionObserver(Q=>{Q.forEach(ie=>{if(ie.isIntersecting){const J=ie.target.id;q(ce=>({...ce,[J]:!0}))}})},{threshold:.2});return document.querySelectorAll("section[id]").forEach(Q=>{re.observe(Q)}),()=>re.disconnect()},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-r from-gray-900 to-insightBlack text-white py-20",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1551038247-3d9af20df552?auto=format&fit=crop&w=1920&q=80')] bg-cover bg-center"}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Get in Touch"}),jsxRuntimeExports.jsx("p",{className:"max-w-3xl mx-auto text-lg text-gray-200",children:"Have a question or want to work with us? We'd love to hear from you."})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[jsxRuntimeExports.jsx("section",{id:"form",className:`${B.form?"animate-fade-in":"opacity-0"}`,style:{transitionDelay:"200ms"},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-insightBlack mb-6 flex items-center",children:[jsxRuntimeExports.jsx(Send,{className:"h-5 w-5 text-insightRed mr-2"})," Send Us a Message"]}),jsxRuntimeExports.jsxs("form",{onSubmit:K,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",jsxRuntimeExports.jsx("span",{className:"text-insightRed",children:"*"})]}),jsxRuntimeExports.jsx(Input,{type:"text",id:"name",name:"name",value:R.name,onChange:V,placeholder:"Your Name",className:"w-full bg-gray-50 focus:bg-white transition-colors",required:!0,disabled:_==="submitting"||_==="success"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",jsxRuntimeExports.jsx("span",{className:"text-insightRed",children:"*"})]}),jsxRuntimeExports.jsx(Input,{type:"email",id:"email",name:"email",value:R.email,onChange:V,placeholder:"your.email@example.com",className:"w-full bg-gray-50 focus:bg-white transition-colors",required:!0,disabled:_==="submitting"||_==="success"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone (Optional)"}),jsxRuntimeExports.jsx(Input,{type:"tel",id:"phone",name:"phone",value:R.phone,onChange:V,placeholder:"(123) 456-7890",className:"w-full bg-gray-50 focus:bg-white transition-colors",disabled:_==="submitting"||_==="success"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),jsxRuntimeExports.jsxs("select",{id:"subject",name:"subject",value:R.subject,onChange:V,className:"w-full bg-gray-50 focus:bg-white border border-gray-200 rounded-md h-10 px-3",disabled:_==="submitting"||_==="success",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a subject"}),jsxRuntimeExports.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),jsxRuntimeExports.jsx("option",{value:"Partnership",children:"Partnership Opportunity"}),jsxRuntimeExports.jsx("option",{value:"Magazine",children:"Magazine Subscription"}),jsxRuntimeExports.jsx("option",{value:"Services",children:"Professional Services"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",jsxRuntimeExports.jsx("span",{className:"text-insightRed",children:"*"})]}),jsxRuntimeExports.jsx(Textarea,{id:"message",name:"message",value:R.message,onChange:V,placeholder:"How can we help you?",className:"w-full bg-gray-50 focus:bg-white transition-colors",required:!0,rows:5,disabled:_==="submitting"||_==="success"})]}),jsxRuntimeExports.jsxs(Button,{type:"submit",className:`w-full transition-all ${_==="success"?"bg-green-600 hover:bg-green-700":"bg-insightRed hover:bg-insightBlack"}`,disabled:_==="submitting"||_==="success",children:[_==="idle"&&"Send Message",_==="submitting"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Sending..."]}),_==="success"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"mr-2 h-4 w-4"})," Message Sent"]})]})]})]})}),jsxRuntimeExports.jsx("section",{id:"info",className:`${B.info?"animate-fade-in":"opacity-0"}`,style:{transitionDelay:"400ms"},children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg shadow-md mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-6",children:"Contact Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start hover:bg-gray-100 p-3 rounded-md transition-colors",children:[jsxRuntimeExports.jsx(Mail,{className:"text-insightRed h-6 w-6 mt-1 mr-4 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-insightBlack",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-1",children:"For general inquiries:"}),jsxRuntimeExports.jsxs("a",{href:`mailto:info@${H.toLowerCase().replace(/\s+/g,"")}.com`,className:"text-insightRed hover:underline",children:["info@",H.toLowerCase().replace(/\s+/g,""),".com"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2 mb-1",children:"For media relations:"}),jsxRuntimeExports.jsxs("a",{href:`mailto:media@${H.toLowerCase().replace(/\s+/g,"")}.com`,className:"text-insightRed hover:underline",children:["media@",H.toLowerCase().replace(/\s+/g,""),".com"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start hover:bg-gray-100 p-3 rounded-md transition-colors",children:[jsxRuntimeExports.jsx(Phone,{className:"text-insightRed h-6 w-6 mt-1 mr-4 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-insightBlack",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-1",children:"Main Office:"}),jsxRuntimeExports.jsx("p",{className:"text-insightBlack font-medium",children:"(555) 123-4567"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2 mb-1",children:"Customer Support:"}),jsxRuntimeExports.jsx("p",{className:"text-insightBlack font-medium",children:"(555) 765-4321"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start hover:bg-gray-100 p-3 rounded-md transition-colors",children:[jsxRuntimeExports.jsx(MapPin,{className:"text-insightRed h-6 w-6 mt-1 mr-4 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-insightBlack",children:"Address"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-1",children:"Global Headquarters:"}),jsxRuntimeExports.jsx("p",{className:"text-insightBlack",children:"123 Innovation Drive"}),jsxRuntimeExports.jsx("p",{className:"text-insightBlack",children:"Tech City, ST 12345"}),jsxRuntimeExports.jsx("p",{className:"text-insightBlack",children:"United States"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start hover:bg-gray-100 p-3 rounded-md transition-colors",children:[jsxRuntimeExports.jsx(Clock,{className:"text-insightRed h-6 w-6 mt-1 mr-4 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-insightBlack",children:"Business Hours"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-1",children:"Monday - Friday:"}),jsxRuntimeExports.jsx("p",{className:"text-insightBlack",children:"9:00 AM - 6:00 PM EST"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Closed on weekends and major holidays"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start hover:bg-gray-100 p-3 rounded-md transition-colors",children:[jsxRuntimeExports.jsx(Globe,{className:"text-insightRed h-6 w-6 mt-1 mr-4 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-insightBlack",children:"Social Media"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 mt-2",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-600 hover:text-insightRed transition-colors",children:jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-600 hover:text-insightRed transition-colors",children:jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-600 hover:text-insightRed transition-colors",children:jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-600 hover:text-insightRed transition-colors",children:jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.746 22 12 22 12s0 3.255-.418 4.814a2.504 2.504 0 0 1-1.768 1.768c-1.56.419-7.814.419-7.814.419s-6.255 0-7.814-.419a2.505 2.505 0 0 1-1.768-1.768C2 15.255 2 12 2 12s0-3.255.417-4.814a2.507 2.507 0 0 1 1.768-1.768C5.744 5 11.998 5 11.998 5s6.255 0 7.814.418ZM15.194 12 10 15V9l5.194 3Z",clipRule:"evenodd"})})})]})]})]})]})]})})]}),jsxRuntimeExports.jsxs("section",{id:"map",className:`py-12 ${B.map?"animate-fade-in":"opacity-0"}`,style:{transitionDelay:"600ms"},children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-6 text-center",children:"Find Us"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden h-96",children:jsxRuntimeExports.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.9663095912456!2d-74.0066351842904!3d40.71275807933106!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c25a1635a483dd%3A0x8e454c34e23e297!2sOne%20World%20Trade%20Center!5e0!3m2!1sen!2sus!4v1617745309772!5m2!1sen!2sus",width:"100%",height:"100%",style:{border:0},loading:"lazy",title:"InsightsBW Location"})})]}),jsxRuntimeExports.jsx("section",{id:"faq",className:`py-12 ${B.faq?"animate-fade-in":"opacity-0"}`,style:{transitionDelay:"800ms"},children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-insightBlack mb-6 text-center",children:"Frequently Asked Questions"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:W.map((re,Q)=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{className:"w-full text-left px-6 py-4 flex justify-between items-center focus:outline-none",onClick:()=>Y(Q),children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-insightBlack",children:re.question}),jsxRuntimeExports.jsx(ChevronDown,{className:`h-5 w-5 text-insightRed transition-transform ${$===`faq-${Q}`?"transform rotate-180":""}`})]}),jsxRuntimeExports.jsx("div",{className:`px-6 pb-4 transition-all duration-300 ease-in-out ${$===`faq-${Q}`?"max-h-40 opacity-100":"max-h-0 opacity-0 overflow-hidden"}`,children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:re.answer})})]},Q))})]})})]})]})},NotFound=()=>{const R=useLocation();return reactExports.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",R.pathname)},[R.pathname]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),jsxRuntimeExports.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext,createCollapsibleScope]=createContextScope$1(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible=reactExports.forwardRef((R,w)=>{const{__scopeCollapsible:_,open:A,defaultOpen:$,disabled:O,onOpenChange:B,...q}=R,[H=!1,W]=useControllableState({prop:A,defaultProp:$,onChange:B});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:_,disabled:O,contentId:useId(),open:H,onOpenToggle:reactExports.useCallback(()=>W(V=>!V),[W]),children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$1(H),"data-disabled":O?"":void 0,...q,ref:w})})});Collapsible.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$2="CollapsibleTrigger",CollapsibleTrigger=reactExports.forwardRef((R,w)=>{const{__scopeCollapsible:_,...A}=R,$=useCollapsibleContext(TRIGGER_NAME$2,_);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-controls":$.contentId,"aria-expanded":$.open||!1,"data-state":getState$1($.open),"data-disabled":$.disabled?"":void 0,disabled:$.disabled,...A,ref:w,onClick:composeEventHandlers(R.onClick,$.onOpenToggle)})});CollapsibleTrigger.displayName=TRIGGER_NAME$2;var CONTENT_NAME$2="CollapsibleContent",CollapsibleContent=reactExports.forwardRef((R,w)=>{const{forceMount:_,...A}=R,$=useCollapsibleContext(CONTENT_NAME$2,R.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:_||$.open,children:({present:O})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...A,ref:w,present:O})})});CollapsibleContent.displayName=CONTENT_NAME$2;var CollapsibleContentImpl=reactExports.forwardRef((R,w)=>{const{__scopeCollapsible:_,present:A,children:$,...O}=R,B=useCollapsibleContext(CONTENT_NAME$2,_),[q,H]=reactExports.useState(A),W=reactExports.useRef(null),V=useComposedRefs(w,W),K=reactExports.useRef(0),Y=K.current,re=reactExports.useRef(0),Q=re.current,ie=B.open||q,J=reactExports.useRef(ie),ce=reactExports.useRef();return reactExports.useEffect(()=>{const ue=requestAnimationFrame(()=>J.current=!1);return()=>cancelAnimationFrame(ue)},[]),useLayoutEffect2(()=>{const ue=W.current;if(ue){ce.current=ce.current||{transitionDuration:ue.style.transitionDuration,animationName:ue.style.animationName},ue.style.transitionDuration="0s",ue.style.animationName="none";const Ee=ue.getBoundingClientRect();K.current=Ee.height,re.current=Ee.width,J.current||(ue.style.transitionDuration=ce.current.transitionDuration,ue.style.animationName=ce.current.animationName),H(A)}},[B.open,A]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$1(B.open),"data-disabled":B.disabled?"":void 0,id:B.contentId,hidden:!ie,...O,ref:V,style:{"--radix-collapsible-content-height":Y?`${Y}px`:void 0,"--radix-collapsible-content-width":Q?`${Q}px`:void 0,...R.style},children:ie&&$})});function getState$1(R){return R?"open":"closed"}var Root$3=Collapsible,Trigger$1=CollapsibleTrigger,Content$1=CollapsibleContent,ACCORDION_NAME="Accordion",ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(ACCORDION_NAME),[createAccordionContext,createAccordionScope]=createContextScope$1(ACCORDION_NAME,[createCollectionScope$1,createCollapsibleScope]),useCollapsibleScope=createCollapsibleScope(),Accordion$1=React.forwardRef((R,w)=>{const{type:_,...A}=R,$=A,O=A;return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:R.__scopeAccordion,children:_==="multiple"?jsxRuntimeExports.jsx(AccordionImplMultiple,{...O,ref:w}):jsxRuntimeExports.jsx(AccordionImplSingle,{...$,ref:w})})});Accordion$1.displayName=ACCORDION_NAME;var[AccordionValueProvider,useAccordionValueContext]=createAccordionContext(ACCORDION_NAME),[AccordionCollapsibleProvider,useAccordionCollapsibleContext]=createAccordionContext(ACCORDION_NAME,{collapsible:!1}),AccordionImplSingle=React.forwardRef((R,w)=>{const{value:_,defaultValue:A,onValueChange:$=()=>{},collapsible:O=!1,...B}=R,[q,H]=useControllableState({prop:_,defaultProp:A,onChange:$});return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:R.__scopeAccordion,value:q?[q]:[],onItemOpen:H,onItemClose:React.useCallback(()=>O&&H(""),[O,H]),children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:R.__scopeAccordion,collapsible:O,children:jsxRuntimeExports.jsx(AccordionImpl,{...B,ref:w})})})}),AccordionImplMultiple=React.forwardRef((R,w)=>{const{value:_,defaultValue:A,onValueChange:$=()=>{},...O}=R,[B=[],q]=useControllableState({prop:_,defaultProp:A,onChange:$}),H=React.useCallback(V=>q((K=[])=>[...K,V]),[q]),W=React.useCallback(V=>q((K=[])=>K.filter(Y=>Y!==V)),[q]);return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:R.__scopeAccordion,value:B,onItemOpen:H,onItemClose:W,children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:R.__scopeAccordion,collapsible:!0,children:jsxRuntimeExports.jsx(AccordionImpl,{...O,ref:w})})})}),[AccordionImplProvider,useAccordionContext]=createAccordionContext(ACCORDION_NAME),AccordionImpl=React.forwardRef((R,w)=>{const{__scopeAccordion:_,disabled:A,dir:$,orientation:O="vertical",...B}=R,q=React.useRef(null),H=useComposedRefs(q,w),W=useCollection$1(_),K=useDirection($)==="ltr",Y=composeEventHandlers(R.onKeyDown,re=>{var fe;if(!ACCORDION_KEYS.includes(re.key))return;const Q=re.target,ie=W().filter(be=>{var Ae;return!((Ae=be.ref.current)!=null&&Ae.disabled)}),J=ie.findIndex(be=>be.ref.current===Q),ce=ie.length;if(J===-1)return;re.preventDefault();let ue=J;const Ee=0,ge=ce-1,le=()=>{ue=J+1,ue>ge&&(ue=Ee)},ve=()=>{ue=J-1,ue<Ee&&(ue=ge)};switch(re.key){case"Home":ue=Ee;break;case"End":ue=ge;break;case"ArrowRight":O==="horizontal"&&(K?le():ve());break;case"ArrowDown":O==="vertical"&&le();break;case"ArrowLeft":O==="horizontal"&&(K?ve():le());break;case"ArrowUp":O==="vertical"&&ve();break}const he=ue%ce;(fe=ie[he].ref.current)==null||fe.focus()});return jsxRuntimeExports.jsx(AccordionImplProvider,{scope:_,disabled:A,direction:$,orientation:O,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:_,children:jsxRuntimeExports.jsx(Primitive.div,{...B,"data-orientation":O,ref:H,onKeyDown:A?void 0:Y})})})}),ITEM_NAME$1="AccordionItem",[AccordionItemProvider,useAccordionItemContext]=createAccordionContext(ITEM_NAME$1),AccordionItem$1=React.forwardRef((R,w)=>{const{__scopeAccordion:_,value:A,...$}=R,O=useAccordionContext(ITEM_NAME$1,_),B=useAccordionValueContext(ITEM_NAME$1,_),q=useCollapsibleScope(_),H=useId(),W=A&&B.value.includes(A)||!1,V=O.disabled||R.disabled;return jsxRuntimeExports.jsx(AccordionItemProvider,{scope:_,open:W,disabled:V,triggerId:H,children:jsxRuntimeExports.jsx(Root$3,{"data-orientation":O.orientation,"data-state":getState(W),...q,...$,ref:w,disabled:V,open:W,onOpenChange:K=>{K?B.onItemOpen(A):B.onItemClose(A)}})})});AccordionItem$1.displayName=ITEM_NAME$1;var HEADER_NAME="AccordionHeader",AccordionHeader=React.forwardRef((R,w)=>{const{__scopeAccordion:_,...A}=R,$=useAccordionContext(ACCORDION_NAME,_),O=useAccordionItemContext(HEADER_NAME,_);return jsxRuntimeExports.jsx(Primitive.h3,{"data-orientation":$.orientation,"data-state":getState(O.open),"data-disabled":O.disabled?"":void 0,...A,ref:w})});AccordionHeader.displayName=HEADER_NAME;var TRIGGER_NAME$1="AccordionTrigger",AccordionTrigger$1=React.forwardRef((R,w)=>{const{__scopeAccordion:_,...A}=R,$=useAccordionContext(ACCORDION_NAME,_),O=useAccordionItemContext(TRIGGER_NAME$1,_),B=useAccordionCollapsibleContext(TRIGGER_NAME$1,_),q=useCollapsibleScope(_);return jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:_,children:jsxRuntimeExports.jsx(Trigger$1,{"aria-disabled":O.open&&!B.collapsible||void 0,"data-orientation":$.orientation,id:O.triggerId,...q,...A,ref:w})})});AccordionTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="AccordionContent",AccordionContent$1=React.forwardRef((R,w)=>{const{__scopeAccordion:_,...A}=R,$=useAccordionContext(ACCORDION_NAME,_),O=useAccordionItemContext(CONTENT_NAME$1,_),B=useCollapsibleScope(_);return jsxRuntimeExports.jsx(Content$1,{role:"region","aria-labelledby":O.triggerId,"data-orientation":$.orientation,...B,...A,ref:w,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...R.style}})});AccordionContent$1.displayName=CONTENT_NAME$1;function getState(R){return R?"open":"closed"}var Root2$1=Accordion$1,Item$1=AccordionItem$1,Header=AccordionHeader,Trigger2=AccordionTrigger$1,Content2=AccordionContent$1;const Accordion=Root2$1,AccordionItem=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Item$1,{ref:_,className:cn("border-b",R),...w}));AccordionItem.displayName="AccordionItem";const AccordionTrigger=reactExports.forwardRef(({className:R,children:w,..._},A)=>jsxRuntimeExports.jsx(Header,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{ref:A,className:cn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",R),..._,children:[w,jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));AccordionTrigger.displayName=Trigger2.displayName;const AccordionContent=reactExports.forwardRef(({className:R,children:w,..._},A)=>jsxRuntimeExports.jsx(Content2,{ref:A,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",..._,children:jsxRuntimeExports.jsx("div",{className:cn("pb-4 pt-0",R),children:w})}));AccordionContent.displayName=Content2.displayName;function createContextScope(R,w=[]){let _=[];function A(O,B){const q=reactExports.createContext(B),H=_.length;_=[..._,B];function W(K){const{scope:Y,children:re,...Q}=K,ie=(Y==null?void 0:Y[R][H])||q,J=reactExports.useMemo(()=>Q,Object.values(Q));return jsxRuntimeExports.jsx(ie.Provider,{value:J,children:re})}function V(K,Y){const re=(Y==null?void 0:Y[R][H])||q,Q=reactExports.useContext(re);if(Q)return Q;if(B!==void 0)return B;throw new Error(`\`${K}\` must be used within \`${O}\``)}return W.displayName=O+"Provider",[W,V]}const $=()=>{const O=_.map(B=>reactExports.createContext(B));return function(q){const H=(q==null?void 0:q[R])||O;return reactExports.useMemo(()=>({[`__scope${R}`]:{...q,[R]:H}}),[q,H])}};return $.scopeName=R,[A,composeContextScopes($,...w)]}function composeContextScopes(...R){const w=R[0];if(R.length===1)return w;const _=()=>{const A=R.map($=>({useScope:$(),scopeName:$.scopeName}));return function(O){const B=A.reduce((q,{useScope:H,scopeName:W})=>{const K=H(O)[`__scope${W}`];return{...q,...K}},{});return reactExports.useMemo(()=>({[`__scope${w.scopeName}`]:B}),[B])}};return _.scopeName=w.scopeName,_}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection,useCollection,createCollectionScope]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME,[createCollectionScope]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((R,w)=>jsxRuntimeExports.jsx(Collection.Provider,{scope:R.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:R.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...R,ref:w})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((R,w)=>{const{__scopeRovingFocusGroup:_,orientation:A,loop:$=!1,dir:O,currentTabStopId:B,defaultCurrentTabStopId:q,onCurrentTabStopIdChange:H,onEntryFocus:W,preventScrollOnEntryFocus:V=!1,...K}=R,Y=reactExports.useRef(null),re=useComposedRefs(w,Y),Q=useDirection(O),[ie=null,J]=useControllableState({prop:B,defaultProp:q,onChange:H}),[ce,ue]=reactExports.useState(!1),Ee=useCallbackRef(W),ge=useCollection(_),le=reactExports.useRef(!1),[ve,he]=reactExports.useState(0);return reactExports.useEffect(()=>{const fe=Y.current;if(fe)return fe.addEventListener(ENTRY_FOCUS,Ee),()=>fe.removeEventListener(ENTRY_FOCUS,Ee)},[Ee]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:_,orientation:A,dir:Q,loop:$,currentTabStopId:ie,onItemFocus:reactExports.useCallback(fe=>J(fe),[J]),onItemShiftTab:reactExports.useCallback(()=>ue(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>he(fe=>fe+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>he(fe=>fe-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:ce||ve===0?-1:0,"data-orientation":A,...K,ref:re,style:{outline:"none",...R.style},onMouseDown:composeEventHandlers(R.onMouseDown,()=>{le.current=!0}),onFocus:composeEventHandlers(R.onFocus,fe=>{const be=!le.current;if(fe.target===fe.currentTarget&&be&&!ce){const Ae=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(fe.currentTarget.dispatchEvent(Ae),!Ae.defaultPrevented){const xe=ge().filter(Le=>Le.focusable),we=xe.find(Le=>Le.active),Me=xe.find(Le=>Le.id===ie),Se=[we,Me,...xe].filter(Boolean).map(Le=>Le.ref.current);focusFirst(Se,V)}}le.current=!1}),onBlur:composeEventHandlers(R.onBlur,()=>ue(!1))})})}),ITEM_NAME="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((R,w)=>{const{__scopeRovingFocusGroup:_,focusable:A=!0,active:$=!1,tabStopId:O,...B}=R,q=useId(),H=O||q,W=useRovingFocusContext(ITEM_NAME,_),V=W.currentTabStopId===H,K=useCollection(_),{onFocusableItemAdd:Y,onFocusableItemRemove:re}=W;return reactExports.useEffect(()=>{if(A)return Y(),()=>re()},[A,Y,re]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:_,id:H,focusable:A,active:$,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:V?0:-1,"data-orientation":W.orientation,...B,ref:w,onMouseDown:composeEventHandlers(R.onMouseDown,Q=>{A?W.onItemFocus(H):Q.preventDefault()}),onFocus:composeEventHandlers(R.onFocus,()=>W.onItemFocus(H)),onKeyDown:composeEventHandlers(R.onKeyDown,Q=>{if(Q.key==="Tab"&&Q.shiftKey){W.onItemShiftTab();return}if(Q.target!==Q.currentTarget)return;const ie=getFocusIntent(Q,W.orientation,W.dir);if(ie!==void 0){if(Q.metaKey||Q.ctrlKey||Q.altKey||Q.shiftKey)return;Q.preventDefault();let ce=K().filter(ue=>ue.focusable).map(ue=>ue.ref.current);if(ie==="last")ce.reverse();else if(ie==="prev"||ie==="next"){ie==="prev"&&ce.reverse();const ue=ce.indexOf(Q.currentTarget);ce=W.loop?wrapArray(ce,ue+1):ce.slice(ue+1)}setTimeout(()=>focusFirst(ce))}})})})});RovingFocusGroupItem.displayName=ITEM_NAME;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(R,w){return w!=="rtl"?R:R==="ArrowLeft"?"ArrowRight":R==="ArrowRight"?"ArrowLeft":R}function getFocusIntent(R,w,_){const A=getDirectionAwareKey(R.key,_);if(!(w==="vertical"&&["ArrowLeft","ArrowRight"].includes(A))&&!(w==="horizontal"&&["ArrowUp","ArrowDown"].includes(A)))return MAP_KEY_TO_FOCUS_INTENT[A]}function focusFirst(R,w=!1){const _=document.activeElement;for(const A of R)if(A===_||(A.focus({preventScroll:w}),document.activeElement!==_))return}function wrapArray(R,w){return R.map((_,A)=>R[(w+A)%R.length])}var Root$2=RovingFocusGroup,Item=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext,createTabsScope]=createContextScope$1(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((R,w)=>{const{__scopeTabs:_,value:A,onValueChange:$,defaultValue:O,orientation:B="horizontal",dir:q,activationMode:H="automatic",...W}=R,V=useDirection(q),[K,Y]=useControllableState({prop:A,onChange:$,defaultProp:O});return jsxRuntimeExports.jsx(TabsProvider,{scope:_,baseId:useId(),value:K,onValueChange:Y,orientation:B,dir:V,activationMode:H,children:jsxRuntimeExports.jsx(Primitive.div,{dir:V,"data-orientation":B,...W,ref:w})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((R,w)=>{const{__scopeTabs:_,loop:A=!0,...$}=R,O=useTabsContext(TAB_LIST_NAME,_),B=useRovingFocusGroupScope(_);return jsxRuntimeExports.jsx(Root$2,{asChild:!0,...B,orientation:O.orientation,dir:O.dir,loop:A,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":O.orientation,...$,ref:w})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((R,w)=>{const{__scopeTabs:_,value:A,disabled:$=!1,...O}=R,B=useTabsContext(TRIGGER_NAME,_),q=useRovingFocusGroupScope(_),H=makeTriggerId(B.baseId,A),W=makeContentId(B.baseId,A),V=A===B.value;return jsxRuntimeExports.jsx(Item,{asChild:!0,...q,focusable:!$,active:V,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":V,"aria-controls":W,"data-state":V?"active":"inactive","data-disabled":$?"":void 0,disabled:$,id:H,...O,ref:w,onMouseDown:composeEventHandlers(R.onMouseDown,K=>{!$&&K.button===0&&K.ctrlKey===!1?B.onValueChange(A):K.preventDefault()}),onKeyDown:composeEventHandlers(R.onKeyDown,K=>{[" ","Enter"].includes(K.key)&&B.onValueChange(A)}),onFocus:composeEventHandlers(R.onFocus,()=>{const K=B.activationMode!=="manual";!V&&!$&&K&&B.onValueChange(A)})})})});TabsTrigger$1.displayName=TRIGGER_NAME;var CONTENT_NAME="TabsContent",TabsContent$1=reactExports.forwardRef((R,w)=>{const{__scopeTabs:_,value:A,forceMount:$,children:O,...B}=R,q=useTabsContext(CONTENT_NAME,_),H=makeTriggerId(q.baseId,A),W=makeContentId(q.baseId,A),V=A===q.value,K=reactExports.useRef(V);return reactExports.useEffect(()=>{const Y=requestAnimationFrame(()=>K.current=!1);return()=>cancelAnimationFrame(Y)},[]),jsxRuntimeExports.jsx(Presence,{present:$||V,children:({present:Y})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":V?"active":"inactive","data-orientation":q.orientation,role:"tabpanel","aria-labelledby":H,hidden:!Y,id:W,tabIndex:0,...B,ref:w,style:{...R.style,animationDuration:K.current?"0s":void 0},children:Y&&O})})});TabsContent$1.displayName=CONTENT_NAME;function makeTriggerId(R,w){return`${R}-trigger-${w}`}function makeContentId(R,w){return`${R}-content-${w}`}var Root2=Tabs$1,List=TabsList$1,Trigger=TabsTrigger$1,Content=TabsContent$1;const Tabs=Root2,TabsList=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(List,{ref:_,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",R),...w}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Trigger,{ref:_,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",R),...w}));TabsTrigger.displayName=Trigger.displayName;const TabsContent=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Content,{ref:_,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",R),...w}));TabsContent.displayName=Content.displayName;const Documentation=()=>{const[R,w]=reactExports.useState(null),_=(O,B)=>{navigator.clipboard.writeText(O),w(B),setTimeout(()=>w(null),2e3)},A=window.location.origin,$=[{id:"magazines",name:"Magazines",description:"Access magazine data including covers, articles, and publication details",routes:[{path:"/magazine",method:"GET",description:"Get all magazines",response:`[
  {
    "id": 1,
    "title": "Business Transformation Leaders",
    "coverImage": "https://example.com/cover1.jpg",
    "publicationDate": "April 2025",
    "slug": "business-transformation-leaders",
    "description": "Featuring executives driving digital innovation"
  },
  ...
]`},{path:"/magazine/:slug",method:"GET",description:"Get a specific magazine by slug",parameters:[{name:"slug",description:"Magazine slug (e.g., business-transformation-leaders)",type:"string",required:!0}],response:`{
  "id": 1,
  "title": "Business Transformation Leaders",
  "coverImage": "https://example.com/cover1.jpg",
  "publicationDate": "April 2025", 
  "description": "Featuring executives driving digital innovation",
  "articles": [...]
}`}]},{id:"articles",name:"Articles",description:"Browse, search and retrieve magazine articles",routes:[{path:"/article/:slug",method:"GET",description:"Get a specific article by slug",parameters:[{name:"slug",description:"Article slug (e.g., ai-machine-learning-transforming-business-operations)",type:"string",required:!0}],response:`{
  "id": 1,
  "title": "AI and Machine Learning Transforming Business Operations",
  "author": "Sarah Johnson",
  "date": "April 12, 2025",
  "image": "https://example.com/article1.jpg",
  "category": "Technology",
  "excerpt": "How artificial intelligence and machine learning...",
  "content": "Artificial intelligence and machine learning technologies...",
  "slug": "ai-machine-learning-transforming-business-operations"
}`},{path:"/category/:categoryName",method:"GET",description:"Get articles by category",parameters:[{name:"categoryName",description:"Category name (e.g., technology)",type:"string",required:!0}],response:`[
  {
    "id": 1,
    "title": "AI and Machine Learning Transforming Business Operations",
    "author": "Sarah Johnson",
    "date": "April 12, 2025",
    "image": "https://example.com/article1.jpg",
    "category": "Technology",
    "excerpt": "How artificial intelligence and machine learning...",
    "slug": "ai-machine-learning-transforming-business-operations"
  },
  ...
]`}]},{id:"leadership",name:"Leadership Profiles",description:"Access profiles and articles about executive leaders",routes:[{path:"/leadership",method:"GET",description:"Get all leadership profiles",response:`[
  {
    "id": 1,
    "name": "Jennifer Miller",
    "title": "Chief Executive Officer",
    "company": "GreenTech Innovations",
    "avatar": "https://example.com/avatar1.jpg",
    "slug": "jennifer-miller",
    "bio": "Jennifer Miller is a visionary leader..."
  },
  ...
]`},{path:"/leadership/:slug",method:"GET",description:"Get a specific leader profile by slug",parameters:[{name:"slug",description:"Leader slug (e.g., jennifer-miller)",type:"string",required:!0}],response:`{
  "id": 1,
  "name": "Jennifer Miller",
  "title": "Chief Executive Officer",
  "company": "GreenTech Innovations",
  "avatar": "https://example.com/avatar1.jpg",
  "slug": "jennifer-miller",
  "bio": "Jennifer Miller is a visionary leader...",
  "articles": [...]
}`}]},{id:"press",name:"Press Releases",description:"Access company press releases and announcements",routes:[{path:"/press-releases",method:"GET",description:"Get all press releases",response:`[
  {
    "id": 1,
    "title": "BW Digital Insights Launches New Executive Magazine",
    "date": "April 15, 2025",
    "category": "Company News",
    "excerpt": "BW Digital Insights announces the launch of...",
    "slug": "bw-digital-insights-launches-new-executive-magazine"
  },
  ...
]`},{path:"/press-releases/:slug",method:"GET",description:"Get a specific press release by slug",parameters:[{name:"slug",description:"Press release slug (e.g., bw-digital-insights-launches-new-executive-magazine)",type:"string",required:!0}],response:`{
  "id": 1,
  "title": "BW Digital Insights Launches New Executive Magazine",
  "date": "April 15, 2025",
  "category": "Company News",
  "content": "BW Digital Insights, a leading business media company...",
  "slug": "bw-digital-insights-launches-new-executive-magazine"
}`}]}];return jsxRuntimeExports.jsx("div",{className:"min-h-screen py-16 bg-gradient-to-b from-gray-50 to-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto mb-12 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-insightBlack mb-4",children:"API Documentation"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:"Complete reference for BW Digital Insights content API"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-12 p-6 bg-insightBlack text-white rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Getting Started"}),jsxRuntimeExports.jsx("p",{className:"mb-4",children:"BW Digital Insights provides a RESTful API to access our magazine content, articles, leadership profiles, and press releases. All endpoints use slug-based URLs for consistent, SEO-friendly resource identification."}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-4 rounded-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-300 text-sm",children:"Base URL"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-8 text-gray-300 hover:text-white",onClick:()=>_(A,"base-url"),children:R==="base-url"?jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx("code",{className:"text-green-400",children:A})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"endpoints",className:"mb-12",children:[jsxRuntimeExports.jsxs(TabsList,{className:"w-full max-w-md mx-auto grid grid-cols-2",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"endpoints",children:"API Endpoints"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"schemas",children:"Data Models"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"endpoints",className:"mt-8",children:jsxRuntimeExports.jsx(Accordion,{type:"single",collapsible:!0,className:"w-full",children:$.map(O=>jsxRuntimeExports.jsxs(AccordionItem,{value:O.id,children:[jsxRuntimeExports.jsx(AccordionTrigger,{className:"text-xl font-semibold",children:O.name}),jsxRuntimeExports.jsxs(AccordionContent,{children:[jsxRuntimeExports.jsx("div",{className:"pl-2 mb-4 text-gray-600",children:O.description}),O.routes.map((B,q)=>jsxRuntimeExports.jsx(Card,{className:"mb-6 border border-gray-200",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-md font-mono text-sm mr-3",children:B.method}),jsxRuntimeExports.jsx("code",{className:"text-gray-700 font-mono",children:B.path})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>_(`${A}${B.path.replace(/:[^/]+/g,H=>`{${H.substring(1)}}`)}`,`${O.id}-${q}`),children:R===`${O.id}-${q}`?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-1"})," Copied"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4 mr-1"})," Copy URL"]})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:B.description}),B.parameters&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Parameters"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 rounded-md p-4",children:B.parameters.map((H,W)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-2 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"font-mono text-blue-600",children:H.name}),jsxRuntimeExports.jsx("div",{className:"text-gray-500",children:H.type}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:H.description}),jsxRuntimeExports.jsx("div",{children:H.required?jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"Required"}):jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Optional"})})]},W))})]}),jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-2",children:"Example Response"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-md overflow-x-auto",children:jsxRuntimeExports.jsx("pre",{className:"text-xs",children:B.response})})]})},q))]})]},O.id))})}),jsxRuntimeExports.jsx(TabsContent,{value:"schemas",className:"mt-8",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4",children:"Magazine"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-2",children:jsxRuntimeExports.jsx("pre",{className:"text-sm",children:`{
  id: number;
  title: string;
  coverImage: string;
  publicationDate: string;
  slug: string;
  description: string;
  articles?: Article[];
}`})}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"The Magazine object represents individual magazine issues with publication details."})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4",children:"Article"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-2",children:jsxRuntimeExports.jsx("pre",{className:"text-sm",children:`{
  id: number;
  title: string;
  author: string;
  date: string;
  image: string;
  category: string;
  excerpt: string;
  content: string;
  slug: string;
  isFeatured?: boolean;
}`})}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Articles represent individual content pieces that may appear in magazines or as standalone content."})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4",children:"Leader Profile"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-2",children:jsxRuntimeExports.jsx("pre",{className:"text-sm",children:`{
  id: number;
  name: string;
  title: string;
  company: string;
  avatar: string;
  slug: string;
  bio: string;
  articles?: Article[];
}`})}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Leader profiles represent executive business leaders featured in articles or interviews."})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4",children:"Press Release"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-2",children:jsxRuntimeExports.jsx("pre",{className:"text-sm",children:`{
  id: number;
  title: string;
  date: string;
  category: string;
  excerpt: string;
  content: string;
  slug: string;
}`})}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Press releases contain company announcements and news items."})]})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Need Help?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"If you need additional support or have questions about our API, please don't hesitate to reach out."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/contact",children:jsxRuntimeExports.jsx(Button,{children:"Contact Support"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",children:"Request API Access"})]})]})]})})},useIndustryNews=()=>useQuery({queryKey:["industry-news"],queryFn:async()=>(await new Promise(w=>setTimeout(w,1e3)),newsData.filter(w=>w.id>=22&&w.id<=25).map(w=>({id:w.id.toString(),title:w.title,excerpt:w.excerpt,industry:w.category,date:w.date,source:w.author,image_url:w.image,slug:w.slug}))),staleTime:5*60*1e3}),IndustryNews=()=>{const[R,w]=reactExports.useState(""),[_,A]=reactExports.useState("all"),{data:$=[],isLoading:O}=useIndustryNews(),B=["all",...Array.from(new Set($.map(H=>H.industry)))],q=$.filter(H=>{const W=R===""||H.title.toLowerCase().includes(R.toLowerCase())||H.excerpt.toLowerCase().includes(R.toLowerCase()),V=_==="all"||H.industry===_;return W&&V});return O?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-insightRed"}),jsxRuntimeExports.jsx("span",{className:"text-lg",children:"Loading industry news..."})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-insightBlack to-gray-900 text-white py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Industry News & Analysis"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Stay informed with the latest developments and insights across key business sectors"})]})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[jsxRuntimeExports.jsx(Card,{className:"p-6 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search news articles...",value:R,onChange:H=>w(H.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsx("div",{className:"md:w-48",children:jsxRuntimeExports.jsxs(Select,{value:_,onValueChange:A,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filter by industry"})}),jsxRuntimeExports.jsx(SelectContent,{children:B.map(H=>jsxRuntimeExports.jsx(SelectItem,{value:H,children:H==="all"?"All Industries":H},H))})]})})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:q.map(H=>jsxRuntimeExports.jsxs(Card,{className:"group hover:shadow-lg transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[jsxRuntimeExports.jsx("img",{src:H.image_url,alt:H.title,className:"w-full h-48 object-cover transition-transform group-hover:scale-105"}),jsxRuntimeExports.jsx(Badge,{className:"absolute top-3 right-3 bg-blue-600 hover:bg-blue-700",children:H.industry})]}),jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg group-hover:text-insightRed transition-colors line-clamp-2",children:H.title}),jsxRuntimeExports.jsx(CardDescription,{className:"line-clamp-3",children:H.excerpt})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[jsxRuntimeExports.jsx("span",{children:H.source}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-1"}),H.date]})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",className:"w-full group-hover:bg-insightRed group-hover:text-white group-hover:border-insightRed",asChild:!0,children:jsxRuntimeExports.jsxs(Link,{to:`/article/${H.slug}`,children:["Read Full Analysis",jsxRuntimeExports.jsx(ExternalLink,{className:"ml-2 h-4 w-4"})]})})]})]},H.id))}),q.length===0&&jsxRuntimeExports.jsxs(Card,{className:"p-12 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No news found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search criteria or browse all news."}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{w(""),A("all")},children:"Clear Filters"})]}),jsxRuntimeExports.jsx("div",{className:"text-center mt-12",children:jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsxs(Button,{size:"lg",variant:"outline",className:"px-8 py-3",children:["Back to Home",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 h-5 w-5"})]})})})]})]})},useDashboardStats=()=>useQuery({queryKey:["dashboard-stats"],queryFn:async()=>{const{count:R}=await supabase.from("articles").select("*",{count:"exact",head:!0}),{count:w}=await supabase.from("magazines").select("*",{count:"exact",head:!0}),{count:_}=await supabase.from("leadership_profiles").select("*",{count:"exact",head:!0}),{count:A}=await supabase.from("press_releases").select("*",{count:"exact",head:!0});return{articles:R||0,magazines:w||0,leadership:_||0,pressReleases:A||0}}}),useImageUpload=()=>{const[R,w]=reactExports.useState(!1);return{uploadImage:async(B,q="general")=>{var H;w(!0);try{if(!B.type.startsWith("image/"))throw new Error("Only image files are allowed");if(B.size>10*1024*1024)throw new Error("Image size must be less than 10MB");const W=(H=B.name.split(".").pop())==null?void 0:H.toLowerCase(),V=`${q}/${Date.now()}-${Math.random().toString(36).substring(2)}.${W}`;console.log("Uploading image to:",V),console.log("File size:",B.size,"bytes"),console.log("File type:",B.type);const{data:K,error:Y}=await supabase.storage.from("website-images").upload(V,B,{cacheControl:"3600",upsert:!1,contentType:B.type});if(Y)throw console.error("Upload error:",Y),Y;const{data:{publicUrl:re}}=supabase.storage.from("website-images").getPublicUrl(V);return console.log("Image uploaded successfully:",re),Jt.success("Image uploaded successfully"),re}catch(W){throw console.error("Upload failed:",W),Jt.error(`Failed to upload image: ${W.message}`),W}finally{w(!1)}},uploadPdf:async(B,q="magazine-pdfs")=>{var H;w(!0);try{if(B.type!=="application/pdf")throw new Error("Only PDF files are allowed");if(B.size>50*1024*1024)throw new Error("File size must be less than 50MB");const W=(H=B.name.split(".").pop())==null?void 0:H.toLowerCase(),V=`${q}/${Date.now()}-${Math.random().toString(36).substring(2)}.${W}`;console.log("Uploading PDF to:",V),console.log("File size:",B.size,"bytes"),console.log("File type:",B.type);const{data:K,error:Y}=await supabase.storage.from("magazine-pdfs").upload(V,B,{cacheControl:"3600",upsert:!1,contentType:"application/pdf"});if(Y)throw console.error("PDF upload error:",Y),Y;const{data:{publicUrl:re}}=supabase.storage.from("magazine-pdfs").getPublicUrl(V);console.log("PDF uploaded successfully:",re);try{const Q=await fetch(re,{method:"HEAD"});if(!Q.ok)throw new Error(`Uploaded file verification failed: ${Q.status}`);console.log("PDF verification successful, file is accessible")}catch(Q){console.warn("PDF verification warning:",Q)}return Jt.success("PDF uploaded successfully"),re}catch(W){throw console.error("PDF upload failed:",W),Jt.error(`Failed to upload PDF: ${W.message}`),W}finally{w(!1)}},deleteImage:async B=>{try{const q=B.split("/"),H=q[q.length-1],W=B.split("website-images/")[1];if(!W)throw new Error("Invalid file URL");const{error:V}=await supabase.storage.from("website-images").remove([W]);if(V)throw V;Jt.success("Image deleted successfully")}catch(q){throw Jt.error("Failed to delete image"),console.error(q),q}},deletePdf:async B=>{try{const q=B.split("/"),H=q[q.length-1],W=B.split("magazine-pdfs/")[1];if(!W)throw new Error("Invalid PDF URL");const{error:V}=await supabase.storage.from("magazine-pdfs").remove([W]);if(V)throw V;Jt.success("PDF deleted successfully")}catch(q){throw Jt.error("Failed to delete PDF"),console.error(q),q}},uploading:R}};var NAME$1="Label",Label$1=reactExports.forwardRef((R,w)=>jsxRuntimeExports.jsx(Primitive.label,{...R,ref:w,onMouseDown:_=>{var $;_.target.closest("button, input, select, textarea")||(($=R.onMouseDown)==null||$.call(R,_),!_.defaultPrevented&&_.detail>1&&_.preventDefault())}}));Label$1.displayName=NAME$1;var Root$1=Label$1;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Root$1,{ref:_,className:cn(labelVariants(),R),...w}));Label.displayName=Root$1.displayName;const Switch=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx(Root$7,{className:cn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",R),...w,ref:_,children:jsxRuntimeExports.jsx(Thumb,{className:cn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Switch.displayName=Root$7.displayName;const CreateArticleForm=({open:R,onOpenChange:w})=>{const{mutate:_,isPending:A}=useCreateArticle(),{uploadImage:$,uploading:O}=useImageUpload(),[B,q]=reactExports.useState(""),[H,W]=reactExports.useState(""),[V,K]=reactExports.useState(""),[Y,re]=reactExports.useState(""),[Q,ie]=reactExports.useState(""),[J,ce]=reactExports.useState(""),[ue,Ee]=reactExports.useState(""),[ge,le]=reactExports.useState(!1),[ve,he]=reactExports.useState(null),fe=["Technology","Business","Leadership","Innovation","Strategy","Finance","Marketing"],be=async Se=>{try{console.log("Starting image upload...",Se.name,Se.type),he(Se);const Le=await $(Se,"articles");console.log("Image uploaded successfully:",Le),Ee(Le)}catch(Le){console.error("Error uploading image:",Le),he(null)}},Ae=()=>{Ee(""),he(null)},xe=Se=>{var $e;const Le=($e=Se.target.files)==null?void 0:$e[0];Le&&(console.log("File selected:",Le.name,Le.type,Le.size),be(Le))},we=()=>{const Se=document.getElementById("article-image-input");Se&&Se.click()},Me=async Se=>{if(Se.preventDefault(),!B||!V||!Y||!Q||!J){Jt.error("Please fill in all required fields");return}const Le={title:B,slug:H||slugify(B),excerpt:V,content:Y,author:Q,category:J,image_url:ue,featured:ge,date:new Date().toISOString()};console.log("Creating article with data:",Le),_(Le,{onSuccess:()=>{Jt.success("Article created successfully"),w(!1),Pe()},onError:$e=>{console.error("Failed to create article:",$e),Jt.error("Failed to create article")}})},Pe=()=>{q(""),W(""),K(""),re(""),ie(""),ce(""),Ee(""),le(!1),he(null)};return jsxRuntimeExports.jsx(Dialog,{open:R,onOpenChange:w,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Create New Article"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Add a new article to your website."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"title",children:"Title *"}),jsxRuntimeExports.jsx(Input,{id:"title",value:B,onChange:Se=>q(Se.target.value),placeholder:"Enter article title",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"slug",children:"Slug"}),jsxRuntimeExports.jsx(Input,{id:"slug",value:H,onChange:Se=>W(Se.target.value),placeholder:"Auto-generated from title"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"excerpt",children:"Excerpt *"}),jsxRuntimeExports.jsx(Textarea,{id:"excerpt",value:V,onChange:Se=>K(Se.target.value),rows:3,placeholder:"Brief description of the article",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"content",children:"Content *"}),jsxRuntimeExports.jsx(Textarea,{id:"content",value:Y,onChange:Se=>re(Se.target.value),rows:8,placeholder:"Write your article content here",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"author",children:"Author *"}),jsxRuntimeExports.jsx(Input,{id:"author",value:Q,onChange:Se=>ie(Se.target.value),placeholder:"Author name",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"category",children:"Category *"}),jsxRuntimeExports.jsxs(Select,{value:J,onValueChange:ce,required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select category"})}),jsxRuntimeExports.jsx(SelectContent,{children:fe.map(Se=>jsxRuntimeExports.jsx(SelectItem,{value:Se,children:Se},Se))})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"image",children:"Featured Image"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:ue?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Upload,{className:"h-6 w-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-800",children:"Image uploaded successfully"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600",children:(ve==null?void 0:ve.name)||"Image ready"})]})]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"sm",onClick:Ae,className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),ue&&jsxRuntimeExports.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:ue,alt:"Preview",className:"w-full h-full object-cover"})})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Input,{type:"file",id:"article-image-input",accept:"image/*",onChange:xe,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",disabled:O,className:"w-full",onClick:we,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),O?"Uploading...":"Upload Image"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{id:"featured",checked:ge,onCheckedChange:le}),jsxRuntimeExports.jsx(Label,{htmlFor:"featured",children:"Featured Article"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"submit",className:"flex-1",disabled:A||O,children:A?"Creating...":"Create Article"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:A,children:"Cancel"})]})]})]})})},EditArticleForm=({article:R,open:w,onOpenChange:_})=>{const A=useUpdateArticle(),{uploadImage:$,uploading:O}=useImageUpload(),[B,q]=reactExports.useState(null),[H,W]=reactExports.useState({title:(R==null?void 0:R.title)||"",excerpt:(R==null?void 0:R.excerpt)||"",content:(R==null?void 0:R.content)||"",author:(R==null?void 0:R.author)||"",category:(R==null?void 0:R.category)||"",featured:(R==null?void 0:R.featured)||!1,image_url:(R==null?void 0:R.image_url)||""}),V=async J=>{try{console.log("Starting image upload for article edit...",J.name,J.type),q(J);const ce=await $(J,"articles");console.log("Article image uploaded successfully:",ce),W(ue=>({...ue,image_url:ce}))}catch(ce){console.error("Error uploading article image:",ce),q(null)}},K=()=>{W(J=>({...J,image_url:""})),q(null)},Y=J=>{var ue;const ce=(ue=J.target.files)==null?void 0:ue[0];ce&&(console.log("Article edit image file selected:",ce.name,ce.type,ce.size),V(ce))},re=()=>{const J=document.getElementById("edit-article-image-input");J&&J.click()},Q=async J=>{J.preventDefault();try{await A.mutateAsync({id:R.id,...H}),_(!1)}catch(ce){console.error("Failed to update article:",ce)}},ie=["Technology","Finance","Leadership","Healthcare","Manufacturing","Energy","Other"];return jsxRuntimeExports.jsx(Dialog,{open:w,onOpenChange:_,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Article"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update the article information below."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"title",children:"Title"}),jsxRuntimeExports.jsx(Input,{id:"title",value:H.title,onChange:J=>W({...H,title:J.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"excerpt",children:"Excerpt"}),jsxRuntimeExports.jsx(Textarea,{id:"excerpt",value:H.excerpt,onChange:J=>W({...H,excerpt:J.target.value}),rows:3})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"content",children:"Content"}),jsxRuntimeExports.jsx(Textarea,{id:"content",value:H.content,onChange:J=>W({...H,content:J.target.value}),rows:10,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"author",children:"Author"}),jsxRuntimeExports.jsx(Input,{id:"author",value:H.author,onChange:J=>W({...H,author:J.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"category",children:"Category"}),jsxRuntimeExports.jsxs(Select,{value:H.category,onValueChange:J=>W({...H,category:J}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select category"})}),jsxRuntimeExports.jsx(SelectContent,{children:ie.map(J=>jsxRuntimeExports.jsx(SelectItem,{value:J,children:J},J))})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"image_url",children:"Image"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:H.image_url?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Upload,{className:"h-6 w-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-800",children:B?"New image uploaded":"Current image"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600",children:(B==null?void 0:B.name)||"Image ready"})]})]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"sm",onClick:K,className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),H.image_url&&jsxRuntimeExports.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:H.image_url,alt:"Preview",className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",size:"sm",onClick:re,disabled:O,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),O?"Uploading...":"Change Image"]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Input,{type:"file",id:"edit-article-image-input",accept:"image/*",onChange:Y,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",disabled:O,className:"w-full",onClick:re,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),O?"Uploading...":"Upload New Image"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{id:"featured",checked:H.featured,onCheckedChange:J=>W({...H,featured:J})}),jsxRuntimeExports.jsx(Label,{htmlFor:"featured",children:"Featured Article"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:A.isPending||O,children:A.isPending||O?"Updating...":"Update Article"})]})]})]})})},ArticleManager=()=>{const{data:R=[],isLoading:w,error:_}=useArticles(),A=useDeleteArticle(),[$,O]=reactExports.useState(null),[B,q]=reactExports.useState(!1),[H,W]=reactExports.useState(!1),[V,K]=reactExports.useState(null),Y=async Q=>{if(window.confirm("Are you sure you want to delete this article?")){O(Q);try{await A.mutateAsync(Q)}catch(ie){console.error("Failed to delete article:",ie)}finally{O(null)}}},re=Q=>{K(Q),W(!0)};return w?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-insightRed"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Loading articles..."})]}):_?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load articles"}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>window.location.reload(),children:"Retry"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Articles Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Create and manage your articles"})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>q(!0),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"New Article"]})]}),R.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"No articles found"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>q(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Create First Article"]})]})}):jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:R.map(Q=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg mb-2",children:Q.title}),jsxRuntimeExports.jsx(CardDescription,{className:"mb-3",children:Q.excerpt}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["By ",Q.author]}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:formatDistanceToNow(new Date(Q.date),{addSuffix:!0})}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx(Badge,{variant:Q.featured?"default":"secondary",children:Q.featured?"Featured":"Regular"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:Q.category})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>re(Q),children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Y(Q.id),disabled:$===Q.id,children:$===Q.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})})},Q.id))}),jsxRuntimeExports.jsx(CreateArticleForm,{open:B,onOpenChange:q}),V&&jsxRuntimeExports.jsx(EditArticleForm,{article:V,open:H,onOpenChange:Q=>{W(Q),Q||K(null)}})]})},MagazineManager=()=>{const{data:R,isLoading:w}=useMagazines(),{data:_}=useArticles(),{mutate:A}=useCreateMagazine(),{mutate:$}=useUpdateMagazine(),{mutate:O}=useDeleteMagazine(),{uploadImage:B,uploadPdf:q}=useImageUpload(),{mutate:H}=useCreateMagazineArticle(),[W,V]=reactExports.useState(!1),[K,Y]=reactExports.useState(!1),[re,Q]=reactExports.useState(null),[ie,J]=reactExports.useState(""),[ce,ue]=reactExports.useState(""),[Ee,ge]=reactExports.useState(""),[le,ve]=reactExports.useState(""),[he,fe]=reactExports.useState(""),[be,Ae]=reactExports.useState(""),[xe,we]=reactExports.useState(""),[Me,Pe]=reactExports.useState(!1),[Se,Le]=reactExports.useState(null),[$e,He]=reactExports.useState(null);reactExports.useEffect(()=>{var ye;re?(Y(!0),J(re.title),ue(re.slug),ge(re.description),ve(re.cover_image_url),fe(re.pdf_url),Ae(new Date(re.publish_date).toISOString().split("T")[0]),we(((ye=re.issue_number)==null?void 0:ye.toString())??""),Pe(re.featured),Le(re.featured_article_id),V(!0)):je()},[re]);const je=()=>{Y(!1),Q(null),J(""),ue(""),ge(""),ve(""),fe(""),Ae(""),we(""),Pe(!1),Le(null),He(null)},De=()=>{V(!1),je()},qe=()=>{if(!ie||!Ee||!be){Jt.error("Please fill in all required fields (title, description, publish date).");return}const ye={title:ie,slug:ce||slugify(ie),description:Ee,cover_image_url:le,pdf_url:he,publish_date:be,issue_number:xe?parseInt(xe,10):null,featured:Me,featured_article_id:Se},Ne=Fe=>{Se&&(Fe!=null&&Fe.id)&&H({magazine_id:Fe.id,article_id:Se,featured:!0,page_number:1}),De()};K&&re?$({id:re.id,...ye},{onSuccess:Ne}):A(ye,{onSuccess:Ne})},Ce=ye=>{window.confirm("Are you sure you want to delete this magazine? This action cannot be undone.")&&O(ye)},de=async ye=>{try{He("image");const Ne=await B(ye,"magazines");ve(Ne)}finally{He(null)}},me=async ye=>{try{He("pdf");const Ne=await q(ye,"magazine-pdfs");fe(Ne)}finally{He(null)}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Magazines"}),jsxRuntimeExports.jsxs(Dialog,{open:W,onOpenChange:ye=>{ye?V(!0):De()},children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{je(),V(!0)},children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Create Magazine"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:K?"Edit Magazine":"Create New Magazine"}),jsxRuntimeExports.jsx(DialogDescription,{children:K?"Edit the magazine details.":"Add a new magazine to the website."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"title",className:"text-right",children:"Title *"}),jsxRuntimeExports.jsx(Input,{id:"title",value:ie,onChange:ye=>J(ye.target.value),className:"col-span-3"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"slug",className:"text-right",children:"Slug"}),jsxRuntimeExports.jsx(Input,{id:"slug",value:ce,onChange:ye=>ue(ye.target.value),placeholder:"Auto-generated from title",className:"col-span-3"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"description",className:"text-right mt-2",children:"Description *"}),jsxRuntimeExports.jsx(Textarea,{id:"description",value:Ee,onChange:ye=>ge(ye.target.value),className:"col-span-3"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"coverImage",className:"text-right",children:"Cover Image"}),jsxRuntimeExports.jsxs("div",{className:"col-span-3 space-y-2",children:[jsxRuntimeExports.jsx(Input,{type:"file",id:"coverImage",accept:"image/*",onChange:ye=>{ye.target.files&&ye.target.files.length>0&&de(ye.target.files[0])},className:"hidden",disabled:$e==="image"}),jsxRuntimeExports.jsx(Label,{htmlFor:"coverImage",className:"bg-secondary hover:bg-secondary/80 text-secondary-foreground rounded-md px-3 py-2 text-sm cursor-pointer inline-block",children:$e==="image"?"Uploading...":"Upload Cover Image"}),le&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("a",{href:le,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm",children:"View Current Image"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"pdf",className:"text-right",children:"PDF File"}),jsxRuntimeExports.jsxs("div",{className:"col-span-3 space-y-2",children:[jsxRuntimeExports.jsx(Input,{type:"file",id:"pdf",accept:".pdf",onChange:ye=>{ye.target.files&&ye.target.files.length>0&&me(ye.target.files[0])},className:"hidden",disabled:$e==="pdf"}),jsxRuntimeExports.jsx(Label,{htmlFor:"pdf",className:"bg-secondary hover:bg-secondary/80 text-secondary-foreground rounded-md px-3 py-2 text-sm cursor-pointer inline-block",children:$e==="pdf"?"Uploading...":"Upload PDF"}),he&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("a",{href:he,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm",children:"View Current PDF"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"publishDate",className:"text-right",children:"Publish Date *"}),jsxRuntimeExports.jsx(Input,{type:"date",id:"publishDate",value:be,onChange:ye=>Ae(ye.target.value),className:"col-span-3"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"issueNumber",className:"text-right",children:"Issue Number"}),jsxRuntimeExports.jsx(Input,{type:"number",id:"issueNumber",value:xe,onChange:ye=>we(ye.target.value.replace(/[^0-9]/g,"")),className:"col-span-3"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"featuredArticle",className:"text-right",children:"Featured Article"}),jsxRuntimeExports.jsxs(Select,{value:Se||"none",onValueChange:ye=>Le(ye==="none"?null:ye),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"col-span-3",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select featured article (optional)"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"No featured article"}),_==null?void 0:_.map(ye=>jsxRuntimeExports.jsx(SelectItem,{value:ye.id,children:ye.title},ye.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"featured",className:"text-right",children:"Featured"}),jsxRuntimeExports.jsx("div",{className:"col-span-3 flex items-center",children:jsxRuntimeExports.jsx(Switch,{id:"featured",checked:Me,onCheckedChange:ye=>Pe(ye)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{onClick:qe,className:"flex-1",children:K?"Update Magazine":"Create Magazine"}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:De,children:"Cancel"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:w?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Loading magazines..."})]}):(R==null?void 0:R.length)===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Magazines Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't created any magazines yet."}),jsxRuntimeExports.jsxs(Button,{onClick:()=>V(!0),variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-1"})," Create Your First Magazine"]})]}):R==null?void 0:R.map(ye=>{const Ne=_==null?void 0:_.find(Fe=>Fe.id===ye.featured_article_id);return jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[ye.title,ye.featured&&jsxRuntimeExports.jsx(Star,{className:"h-5 w-5 text-yellow-500 fill-current"})]}),jsxRuntimeExports.jsx(CardDescription,{children:ye.description})]}),jsxRuntimeExports.jsxs(CardContent,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Published: ",new Date(ye.publish_date).toLocaleDateString()]}),ye.issue_number&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Issue: ",ye.issue_number]}),Ne&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Featured Article: ",Ne.title]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-2",children:[ye.cover_image_url&&jsxRuntimeExports.jsxs("a",{href:ye.cover_image_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline flex items-center gap-1",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"}),"Cover Image"]}),ye.pdf_url&&jsxRuntimeExports.jsxs("a",{href:ye.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"PDF"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"icon",onClick:()=>Q(ye),children:jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"destructive",size:"icon",onClick:()=>Ce(ye.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})]},ye.id)})})]})},CreateLeaderForm=({open:R,onOpenChange:w})=>{const{mutate:_,isPending:A}=useCreateLeadership(),{uploadImage:$,uploading:O}=useImageUpload(),[B,q]=reactExports.useState(""),[H,W]=reactExports.useState(""),[V,K]=reactExports.useState(""),[Y,re]=reactExports.useState(""),[Q,ie]=reactExports.useState(""),[J,ce]=reactExports.useState(""),[ue,Ee]=reactExports.useState(""),[ge,le]=reactExports.useState(""),[ve,he]=reactExports.useState(""),[fe,be]=reactExports.useState(""),[Ae,xe]=reactExports.useState(!1),[we,Me]=reactExports.useState(null),Pe=async De=>{try{console.log("Starting image upload for leader...",De.name,De.type),Me(De);const qe=await $(De,"leadership");console.log("Leader image uploaded successfully:",qe),ce(qe)}catch(qe){console.error("Error uploading leader image:",qe),Me(null)}},Se=()=>{ce(""),Me(null)},Le=De=>{var Ce;const qe=(Ce=De.target.files)==null?void 0:Ce[0];qe&&(console.log("Leader image file selected:",qe.name,qe.type,qe.size),Pe(qe))},$e=()=>{const De=document.getElementById("leader-image-input");De&&De.click()},He=async De=>{if(De.preventDefault(),!B||!V||!Q){Jt.error("Please fill in all required fields");return}const qe={name:B,slug:H||slugify(B),title:V,company:Y,bio:Q,image_url:J,linkedin_url:ue,twitter_url:ge,areas_of_expertise:ve,industry_impact:fe,featured:Ae};console.log("Creating leader with data:",qe),_(qe,{onSuccess:()=>{Jt.success("Leadership profile created successfully"),w(!1),je()},onError:Ce=>{console.error("Failed to create leadership profile:",Ce),Jt.error("Failed to create leadership profile")}})},je=()=>{q(""),W(""),K(""),re(""),ie(""),ce(""),Ee(""),le(""),he(""),be(""),xe(!1),Me(null)};return jsxRuntimeExports.jsx(Dialog,{open:R,onOpenChange:w,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Create Leadership Profile"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Add a new leadership profile to your website."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:He,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:"Name *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:B,onChange:De=>q(De.target.value),placeholder:"Full name",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"slug",children:"Slug"}),jsxRuntimeExports.jsx(Input,{id:"slug",value:H,onChange:De=>W(De.target.value),placeholder:"Auto-generated from name"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"title",children:"Title *"}),jsxRuntimeExports.jsx(Input,{id:"title",value:V,onChange:De=>K(De.target.value),placeholder:"e.g., CEO, CTO, Founder",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"company",children:"Company"}),jsxRuntimeExports.jsx(Input,{id:"company",value:Y,onChange:De=>re(De.target.value),placeholder:"Company name"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"bio",children:"Biography *"}),jsxRuntimeExports.jsx(Textarea,{id:"bio",value:Q,onChange:De=>ie(De.target.value),rows:6,placeholder:"Professional biography and achievements",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"areas_of_expertise",children:"Areas of Expertise"}),jsxRuntimeExports.jsx(Textarea,{id:"areas_of_expertise",value:ve,onChange:De=>he(De.target.value),rows:3,placeholder:"Key areas of expertise and specialization"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"industry_impact",children:"Industry Impact"}),jsxRuntimeExports.jsx(Textarea,{id:"industry_impact",value:fe,onChange:De=>be(De.target.value),rows:3,placeholder:"Impact and contributions to the industry"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"image",children:"Profile Image"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:J?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Upload,{className:"h-6 w-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-800",children:"Image uploaded successfully"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600",children:(we==null?void 0:we.name)||"Image ready"})]})]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"sm",onClick:Se,className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),J&&jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:J,alt:"Profile preview",className:"w-full h-full object-cover"})})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Input,{type:"file",id:"leader-image-input",accept:"image/*",onChange:Le,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",disabled:O,className:"w-full",onClick:$e,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),O?"Uploading...":"Upload Profile Image"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"linkedin",children:"LinkedIn URL"}),jsxRuntimeExports.jsx(Input,{id:"linkedin",value:ue,onChange:De=>Ee(De.target.value),placeholder:"https://linkedin.com/in/username"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"twitter",children:"Twitter URL"}),jsxRuntimeExports.jsx(Input,{id:"twitter",value:ge,onChange:De=>le(De.target.value),placeholder:"https://twitter.com/username"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{id:"featured",checked:Ae,onCheckedChange:xe}),jsxRuntimeExports.jsx(Label,{htmlFor:"featured",children:"Featured Leader"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"submit",className:"flex-1",disabled:A||O,children:A?"Creating...":"Create Profile"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:A,children:"Cancel"})]})]})]})})},EditLeaderForm=({leader:R,open:w,onOpenChange:_})=>{const A=useUpdateLeadership(),{uploadImage:$,uploading:O}=useImageUpload(),[B,q]=reactExports.useState(null),[H,W]=reactExports.useState({name:(R==null?void 0:R.name)||"",title:(R==null?void 0:R.title)||"",company:(R==null?void 0:R.company)||"",bio:(R==null?void 0:R.bio)||"",image_url:(R==null?void 0:R.image_url)||"",linkedin_url:(R==null?void 0:R.linkedin_url)||"",twitter_url:(R==null?void 0:R.twitter_url)||"",areas_of_expertise:(R==null?void 0:R.areas_of_expertise)||"",industry_impact:(R==null?void 0:R.industry_impact)||"",featured:(R==null?void 0:R.featured)||!1}),V=async ie=>{try{console.log("Starting image upload for leader edit...",ie.name,ie.type),q(ie);const J=await $(ie,"leadership");console.log("Leader image uploaded successfully:",J),W(ce=>({...ce,image_url:J}))}catch(J){console.error("Error uploading leader image:",J),q(null)}},K=()=>{W(ie=>({...ie,image_url:""})),q(null)},Y=ie=>{var ce;const J=(ce=ie.target.files)==null?void 0:ce[0];J&&(console.log("Leader edit image file selected:",J.name,J.type,J.size),V(J))},re=()=>{const ie=document.getElementById("edit-leader-image-input");ie&&ie.click()},Q=async ie=>{ie.preventDefault();try{await A.mutateAsync({id:R.id,...H}),_(!1)}catch(J){console.error("Failed to update leader:",J)}};return jsxRuntimeExports.jsx(Dialog,{open:w,onOpenChange:_,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Leadership Profile"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update the leadership profile information below."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:"Name"}),jsxRuntimeExports.jsx(Input,{id:"name",value:H.name,onChange:ie=>W({...H,name:ie.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"title",children:"Title"}),jsxRuntimeExports.jsx(Input,{id:"title",value:H.title,onChange:ie=>W({...H,title:ie.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"company",children:"Company"}),jsxRuntimeExports.jsx(Input,{id:"company",value:H.company,onChange:ie=>W({...H,company:ie.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"bio",children:"Biography"}),jsxRuntimeExports.jsx(Textarea,{id:"bio",value:H.bio,onChange:ie=>W({...H,bio:ie.target.value}),rows:6,required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"areas_of_expertise",children:"Areas of Expertise"}),jsxRuntimeExports.jsx(Textarea,{id:"areas_of_expertise",value:H.areas_of_expertise,onChange:ie=>W({...H,areas_of_expertise:ie.target.value}),rows:3,placeholder:"Key areas of expertise and specialization"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"industry_impact",children:"Industry Impact"}),jsxRuntimeExports.jsx(Textarea,{id:"industry_impact",value:H.industry_impact,onChange:ie=>W({...H,industry_impact:ie.target.value}),rows:3,placeholder:"Impact and contributions to the industry"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"image_url",children:"Profile Image"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:H.image_url?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Upload,{className:"h-6 w-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-800",children:B?"New image uploaded":"Current image"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600",children:(B==null?void 0:B.name)||"Image ready"})]})]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"sm",onClick:K,className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),H.image_url&&jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:H.image_url,alt:"Profile preview",className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",size:"sm",onClick:re,disabled:O,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),O?"Uploading...":"Change Image"]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Input,{type:"file",id:"edit-leader-image-input",accept:"image/*",onChange:Y,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",disabled:O,className:"w-full",onClick:re,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),O?"Uploading...":"Upload Profile Image"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),jsxRuntimeExports.jsx(Input,{id:"linkedin_url",value:H.linkedin_url,onChange:ie=>W({...H,linkedin_url:ie.target.value}),placeholder:"https://linkedin.com/in/username"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"twitter_url",children:"Twitter URL"}),jsxRuntimeExports.jsx(Input,{id:"twitter_url",value:H.twitter_url,onChange:ie=>W({...H,twitter_url:ie.target.value}),placeholder:"https://twitter.com/username"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{id:"featured",checked:H.featured,onCheckedChange:ie=>W({...H,featured:ie})}),jsxRuntimeExports.jsx(Label,{htmlFor:"featured",children:"Featured Leader"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:A.isPending||O,children:A.isPending||O?"Updating...":"Update Profile"})]})]})]})})},LeaderManager=()=>{const{data:R=[],isLoading:w,error:_}=useLeadershipProfiles(),A=useDeleteLeadership(),[$,O]=reactExports.useState(null),[B,q]=reactExports.useState(!1),[H,W]=reactExports.useState(!1),[V,K]=reactExports.useState(null),Y=async Q=>{if(window.confirm("Are you sure you want to delete this leadership profile?")){O(Q);try{await A.mutateAsync(Q)}catch(ie){console.error("Failed to delete leader:",ie)}finally{O(null)}}},re=Q=>{K(Q),W(!0)};return w?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-insightRed"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Loading leadership profiles..."})]}):_?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load leadership profiles"}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>window.location.reload(),children:"Retry"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Leadership Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage leadership profiles"})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>q(!0),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"New Profile"]})]}),R.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"No leadership profiles found"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>q(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Create First Profile"]})]})}):jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:R.map(Q=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[jsxRuntimeExports.jsx("img",{src:Q.image_url||"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100",alt:Q.name,className:"w-16 h-16 rounded-full object-cover"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg mb-1",children:Q.name}),jsxRuntimeExports.jsx(CardDescription,{className:"mb-2",children:Q.title}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:[Q.bio.substring(0,150),"..."]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx(Badge,{variant:Q.featured?"default":"secondary",children:Q.featured?"Featured":"Regular"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>re(Q),children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Y(Q.id),disabled:$===Q.id,children:$===Q.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})})},Q.id))}),jsxRuntimeExports.jsx(CreateLeaderForm,{open:B,onOpenChange:q}),V&&jsxRuntimeExports.jsx(EditLeaderForm,{leader:V,open:H,onOpenChange:Q=>{W(Q),Q||K(null)}})]})},DocumentationManager=()=>{const[R,w]=reactExports.useState(!1),[_,A]=reactExports.useState(null),$=[{id:"1",title:"API Documentation",description:"Complete API reference and usage examples",category:"Technical",lastUpdated:"2024-01-15"},{id:"2",title:"User Guide",description:"Step-by-step guide for platform users",category:"User",lastUpdated:"2024-01-10"},{id:"3",title:"Admin Manual",description:"Administrative functions and procedures",category:"Admin",lastUpdated:"2024-01-05"}],O=q=>{A(q),w(!0)},B=q=>{window.confirm("Are you sure you want to delete this document?")&&console.log("Delete document:",q)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Documentation Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage your documentation and guides"})]}),jsxRuntimeExports.jsxs(Button,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"New Document"]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:$.map(q=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[jsxRuntimeExports.jsx(FileText,{className:"h-8 w-8 text-insightRed mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg mb-1",children:q.title}),jsxRuntimeExports.jsx(CardDescription,{className:"mb-2",children:q.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Category: ",q.category]}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:["Updated: ",new Date(q.lastUpdated).toLocaleDateString()]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>O(q),children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>B(q.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})})},q.id))}),jsxRuntimeExports.jsx(Dialog,{open:R,onOpenChange:w,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Document"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update the document information below."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"doc-title",children:"Title"}),jsxRuntimeExports.jsx(Input,{id:"doc-title",defaultValue:_==null?void 0:_.title})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"doc-description",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{id:"doc-description",defaultValue:_==null?void 0:_.description})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"doc-category",children:"Category"}),jsxRuntimeExports.jsx(Input,{id:"doc-category",defaultValue:_==null?void 0:_.category})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:()=>w(!1),children:"Save Changes"})]})]})})]})};var NAME="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((R,w)=>{const{decorative:_,orientation:A=DEFAULT_ORIENTATION,...$}=R,O=isValidOrientation(A)?A:DEFAULT_ORIENTATION,q=_?{role:"none"}:{"aria-orientation":O==="vertical"?O:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":O,...q,...$,ref:w})});Separator$1.displayName=NAME;function isValidOrientation(R){return ORIENTATIONS.includes(R)}var Root=Separator$1;const Separator=reactExports.forwardRef(({className:R,orientation:w="horizontal",decorative:_=!0,...A},$)=>jsxRuntimeExports.jsx(Root,{ref:$,decorative:_,orientation:w,className:cn("shrink-0 bg-border",w==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",R),...A}));Separator.displayName=Root.displayName;const useUpdateDatabaseSettings=()=>{const R=useQueryClient();return useMutation({mutationFn:async({key:w,value:_})=>{const{data:A,error:$}=await supabase.from("settings").upsert({key:w,value:_},{onConflict:"key"}).select().single();if($)throw console.error("Error updating setting:",$),$;return A},onSuccess:()=>{R.invalidateQueries({queryKey:["database-settings"]}),Jt.success("Settings updated successfully")},onError:w=>{Jt.error("Failed to update settings"),console.error("Update settings error:",w)}})},SettingsManager=()=>{const{settings:R,loading:w,saveSettings:_,updateHomepageSection:A,resetSettings:$}=useSettings(),{data:O}=useDatabaseSettings(),{mutate:B,isPending:q}=useUpdateDatabaseSettings(),{uploadImage:H,uploading:W}=useImageUpload(),[V,K]=reactExports.useState(null),[Y,re]=reactExports.useState(null),[Q,ie]=reactExports.useState(""),[J,ce]=reactExports.useState(!1),[ue,Ee]=reactExports.useState(""),[ge,le]=reactExports.useState(!1);React.useEffect(()=>{O!=null&&O.company_name&&!J&&ie(O.company_name)},[O==null?void 0:O.company_name,J]),React.useEffect(()=>{R.analyticsCode&&!ge&&Ee(R.analyticsCode)},[R.analyticsCode,ge]);const ve=async Se=>{var He;const Le=(He=Se.target.files)==null?void 0:He[0];if(!Le)return;K(Le);const $e=new FileReader;$e.onload=je=>{var De;re((De=je.target)==null?void 0:De.result)},$e.readAsDataURL(Le)},he=async()=>{let Se=R.siteLogo;if(V)try{Se=await H(V,"logos")}catch($e){console.error("Failed to upload logo:",$e);return}await _({siteLogo:Se})&&(K(null),re(null))},fe=()=>{K(null),re(null),_({siteLogo:null})},be=Se=>{_({siteTitle:Se})},Ae=Se=>{ie(Se),ce(!0)},xe=()=>{B({key:"company_name",value:Q},{onSuccess:()=>{ce(!1),Jt.success("Company name updated successfully")},onError:()=>{ie((O==null?void 0:O.company_name)||""),ce(!1)}})},we=Se=>{_({primaryColor:Se})},Me=Se=>{Ee(Se),le(!0)},Pe=async()=>{await _({analyticsCode:ue})&&le(!1)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Site Identity"}),jsxRuntimeExports.jsx(CardDescription,{children:"Configure your site's basic information and branding"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"site-title",children:"Site Title"}),jsxRuntimeExports.jsx(Input,{id:"site-title",value:R.siteTitle,onChange:Se=>be(Se.target.value),placeholder:"Enter site title"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"company-name",children:"Company Name"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{id:"company-name",value:Q,onChange:Se=>Ae(Se.target.value),placeholder:"Enter company name",disabled:q}),jsxRuntimeExports.jsx(Button,{onClick:xe,disabled:q||!J,size:"sm",children:q?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"})})]}),q&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Updating..."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"site-logo",children:"Site Logo"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[(Y||R.siteLogo)&&jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:Y||R.siteLogo||"",alt:"Site logo",className:"h-16 w-16 object-contain border rounded"}),jsxRuntimeExports.jsx(Button,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:fe,children:jsxRuntimeExports.jsx(X,{className:"h-3 w-3"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Input,{id:"site-logo",type:"file",accept:"image/*",onChange:ve,className:"file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"primary-color",children:"Primary Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Input,{id:"primary-color",type:"color",value:R.primaryColor,onChange:Se=>we(Se.target.value),className:"w-16 h-10"}),jsxRuntimeExports.jsx(Input,{value:R.primaryColor,onChange:Se=>we(Se.target.value),placeholder:"#000000"})]})]}),(V||Y)&&jsxRuntimeExports.jsx(Button,{onClick:he,disabled:W||w,className:"w-full",children:W||w?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Upload,{className:"mr-2 h-4 w-4"}),"Save Settings"]})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Homepage Sections"}),jsxRuntimeExports.jsx(CardDescription,{children:"Control which sections appear on your homepage"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"featured-articles",children:"Featured Articles"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Show featured articles section on homepage"})]}),jsxRuntimeExports.jsx(Switch,{id:"featured-articles",checked:R.homepageSections.featuredArticles,onCheckedChange:Se=>A("featuredArticles",Se)})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"latest-magazine",children:"Latest Magazine"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Show latest magazine section on homepage"})]}),jsxRuntimeExports.jsx(Switch,{id:"latest-magazine",checked:R.homepageSections.latestMagazine,onCheckedChange:Se=>A("latestMagazine",Se)})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"leadership-profiles",children:"Leadership Profiles"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Show leadership profiles section on homepage"})]}),jsxRuntimeExports.jsx(Switch,{id:"leadership-profiles",checked:R.homepageSections.leadershipProfiles,onCheckedChange:Se=>A("leadershipProfiles",Se)})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"press-releases",children:"Press Releases"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Show press releases section on homepage"})]}),jsxRuntimeExports.jsx(Switch,{id:"press-releases",checked:R.homepageSections.pressReleases,onCheckedChange:Se=>A("pressReleases",Se)})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Analytics"}),jsxRuntimeExports.jsx(CardDescription,{children:"Add tracking codes for analytics and other services"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"analytics-code",children:"Google Analytics Code"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{id:"analytics-code",value:ue,onChange:Se=>Me(Se.target.value),placeholder:"GA-XXXXXXXXX-X",disabled:w}),jsxRuntimeExports.jsx(Button,{onClick:Pe,disabled:w||!ge,size:"sm",children:w?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"})})]})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"border-destructive",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-destructive",children:"Danger Zone"}),jsxRuntimeExports.jsx(CardDescription,{children:"Irreversible and destructive actions"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Button,{variant:"destructive",onClick:$,children:"Reset All Settings"})})]})]})},PressReleaseManager=()=>{const{data:R,isLoading:w}=usePressReleases(),{mutate:_}=useCreatePressRelease(),{mutate:A}=useUpdatePressRelease(),{mutate:$}=useDeletePressRelease(),{uploadImage:O}=useImageUpload(),[B,q]=reactExports.useState(!1),[H,W]=reactExports.useState(!1),[V,K]=reactExports.useState(null),[Y,re]=reactExports.useState(""),[Q,ie]=reactExports.useState(""),[J,ce]=reactExports.useState(""),[ue,Ee]=reactExports.useState(""),[ge,le]=reactExports.useState(""),[ve,he]=reactExports.useState(null),[fe,be]=reactExports.useState(""),[Ae,xe]=reactExports.useState(!1),[we,Me]=reactExports.useState(!1);reactExports.useEffect(()=>{V?(W(!0),re(V.title),ie(V.slug),ce(V.excerpt??""),Ee(V.content),le(new Date(V.date).toISOString().split("T")[0]),he(V.image_url),be(V.author),xe(V.featured),q(!0)):Pe()},[V]);const Pe=()=>{W(!1),K(null),re(""),ie(""),ce(""),Ee(""),le(""),he(null),be(""),xe(!1)},Se=()=>{q(!1),Pe()},Le=()=>{if(!Y||!ue||!ge||!fe){Jt.error("Please fill in all required fields (title, content, date, author).");return}const je={title:Y,slug:Q||slugify(Y),excerpt:J,content:ue,date:ge,image_url:ve,author:fe,featured:Ae};H&&V?A({id:V.id,...je},{onSuccess:Se}):_(je,{onSuccess:Se})},$e=je=>{window.confirm("Are you sure you want to delete this press release? This action cannot be undone.")&&$(je)},He=async je=>{try{Me(!0);const De=await O(je,"press-releases");he(De)}finally{Me(!1)}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Press Releases"}),jsxRuntimeExports.jsxs(Dialog,{open:B,onOpenChange:je=>!je&&Se(),children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{Pe(),q(!0)},children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Create Press Release"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:H?"Edit Press Release":"Create New Press Release"})}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 py-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Title *",value:Y,onChange:je=>re(je.target.value)}),jsxRuntimeExports.jsx(Input,{placeholder:"Slug (auto-generated from title)",value:Q,onChange:je=>ie(je.target.value)}),jsxRuntimeExports.jsx(Input,{placeholder:"Author *",value:fe,onChange:je=>be(je.target.value)}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Excerpt",value:J,onChange:je=>ce(je.target.value)}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Content *",value:ue,onChange:je=>Ee(je.target.value),rows:6}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"date",children:"Publish Date *"}),jsxRuntimeExports.jsx(Input,{type:"date",id:"date",value:ge,onChange:je=>le(je.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{children:"Cover Image"}),jsxRuntimeExports.jsx(Input,{type:"file",id:"imageUpload",accept:"image/*",className:"hidden",onChange:je=>je.target.files&&He(je.target.files[0]),disabled:we}),jsxRuntimeExports.jsx(Label,{htmlFor:"imageUpload",className:"bg-secondary hover:bg-secondary/80 text-secondary-foreground rounded-md px-3 py-2 text-sm cursor-pointer inline-block w-full text-center",children:we?"Uploading...":"Upload Image"}),ve&&jsxRuntimeExports.jsx("a",{href:ve,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm mt-2 block",children:"View Image"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Switch,{id:"featured",checked:Ae,onCheckedChange:xe}),jsxRuntimeExports.jsx(Label,{htmlFor:"featured",children:"Feature this press release?"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{onClick:Le,className:"flex-1",children:H?"Update":"Create"}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:Se,children:"Cancel"})]})]})]})]}),w?jsxRuntimeExports.jsx("p",{children:"Loading press releases..."}):(R==null?void 0:R.length)===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium",children:"No Press Releases Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't created any press releases yet."})]}):jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:R==null?void 0:R.map(je=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:je.title}),jsxRuntimeExports.jsxs(CardDescription,{children:["By ",je.author," on ",new Date(je.date).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:je.excerpt}),je.image_url&&jsxRuntimeExports.jsxs("a",{href:je.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline flex items-center gap-1 mt-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"}),"Cover Image"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"icon",onClick:()=>K(je),children:jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"destructive",size:"icon",onClick:()=>$e(je.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})]},je.id))})]})},useTestimonials=()=>useQuery({queryKey:["testimonials"],queryFn:async()=>{const{data:R,error:w}=await supabase.from("testimonials").select("*").order("created_at",{ascending:!1});if(w)throw w;return R||[]},initialData:[]}),Table=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("div",{className:"relative w-full overflow-auto",children:jsxRuntimeExports.jsx("table",{ref:_,className:cn("w-full caption-bottom text-sm",R),...w})}));Table.displayName="Table";const TableHeader=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("thead",{ref:_,className:cn("[&_tr]:border-b",R),...w}));TableHeader.displayName="TableHeader";const TableBody=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("tbody",{ref:_,className:cn("[&_tr:last-child]:border-0",R),...w}));TableBody.displayName="TableBody";const TableFooter=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("tfoot",{ref:_,className:cn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",R),...w}));TableFooter.displayName="TableFooter";const TableRow=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("tr",{ref:_,className:cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",R),...w}));TableRow.displayName="TableRow";const TableHead=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("th",{ref:_,className:cn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",R),...w}));TableHead.displayName="TableHead";const TableCell=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("td",{ref:_,className:cn("p-4 align-middle [&:has([role=checkbox])]:pr-0",R),...w}));TableCell.displayName="TableCell";const TableCaption=reactExports.forwardRef(({className:R,...w},_)=>jsxRuntimeExports.jsx("caption",{ref:_,className:cn("mt-4 text-sm text-muted-foreground",R),...w}));TableCaption.displayName="TableCaption";const emptyForm={quote:"",name:"",title:"",company:"",avatar_url:""},TestimonialManager=()=>{const{data:R=[],refetch:w,isLoading:_}=useTestimonials(),[A,$]=reactExports.useState(emptyForm),[O,B]=reactExports.useState(null),[q,H]=reactExports.useState(!1),[W,V]=reactExports.useState(!1),[K,Y]=reactExports.useState(null),re=ge=>typeof ge=="string"?ge:ge==null?"":String(ge),Q=ge=>{$({...A,[ge.target.name]:ge.target.value})},ie=ge=>{$({id:ge.id,quote:re(ge.quote),name:re(ge.name),title:re(ge.title),company:re(ge.company),avatar_url:re(ge.avatar_url)}),B(ge.id),H(!0)},J=()=>{$(emptyForm),B(null),H(!0)},ce=()=>{$(emptyForm),B(null),H(!1)},ue=async ge=>{if(ge.preventDefault(),V(!0),!A.quote.trim()||!A.name.trim()){Jt.error("Quote and Name are required."),V(!1);return}try{if(O){const{error:le}=await supabase.from("testimonials").update({quote:A.quote,name:A.name,title:A.title,company:A.company,avatar_url:A.avatar_url}).eq("id",O);if(le)throw le;Jt.success("Testimonial updated!")}else{const{error:le}=await supabase.from("testimonials").insert([{quote:A.quote,name:A.name,title:A.title,company:A.company,avatar_url:A.avatar_url}]);if(le)throw le;Jt.success("Testimonial created!")}w(),$(emptyForm),B(null),H(!1)}catch(le){Jt.error(le.message||"Error saving testimonial.")}V(!1)},Ee=async ge=>{if(window.confirm("Delete this testimonial?")){Y(ge);try{const{error:le}=await supabase.from("testimonials").delete().eq("id",ge);if(le)throw le;Jt.success("Testimonial deleted!"),w()}catch(le){Jt.error(le.message||"Error deleting testimonial.")}Y(null)}};return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Testimonials"}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage testimonials shown on the main site."})]}),jsxRuntimeExports.jsxs(Button,{variant:"default",size:"sm",onClick:J,children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"})," Add Testimonial"]})]}),jsxRuntimeExports.jsxs(CardContent,{children:[q&&jsxRuntimeExports.jsxs("form",{className:"mb-8 space-y-4 bg-muted p-4 rounded",onSubmit:ue,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"quote",children:"Quote*"}),jsxRuntimeExports.jsx("textarea",{id:"quote",name:"quote",value:A.quote,onChange:Q,className:"w-full border rounded px-3 py-2 min-h-[80px] bg-white",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"name",children:"Name*"}),jsxRuntimeExports.jsx(Input,{id:"name",name:"name",value:A.name,onChange:Q,required:!0}),jsxRuntimeExports.jsx(Label,{htmlFor:"title",className:"mt-2 block",children:"Title"}),jsxRuntimeExports.jsx(Input,{id:"title",name:"title",value:A.title,onChange:Q}),jsxRuntimeExports.jsx(Label,{htmlFor:"company",className:"mt-2 block",children:"Company"}),jsxRuntimeExports.jsx(Input,{id:"company",name:"company",value:A.company,onChange:Q}),jsxRuntimeExports.jsx(Label,{htmlFor:"avatar_url",className:"mt-2 block",children:"Avatar Image URL"}),jsxRuntimeExports.jsx(Input,{id:"avatar_url",name:"avatar_url",value:A.avatar_url,onChange:Q})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:W,children:[W?jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),O?"Update Testimonial":"Add Testimonial"]}),jsxRuntimeExports.jsxs(Button,{type:"button",variant:"secondary",onClick:ce,disabled:W,children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Quote"}),jsxRuntimeExports.jsx(TableHead,{children:"Name"}),jsxRuntimeExports.jsx(TableHead,{children:"Title"}),jsxRuntimeExports.jsx(TableHead,{children:"Company"}),jsxRuntimeExports.jsx(TableHead,{children:"Avatar"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:_?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:6,children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin h-6 w-6 mx-auto"})})}):R.length===0?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:6,className:"text-center",children:"No testimonials found."})}):R.map(ge=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"max-w-xs truncate",children:re(ge.quote)}),jsxRuntimeExports.jsx(TableCell,{children:re(ge.name)}),jsxRuntimeExports.jsx(TableCell,{children:re(ge.title)}),jsxRuntimeExports.jsx(TableCell,{children:re(ge.company)}),jsxRuntimeExports.jsx(TableCell,{children:ge.avatar_url?jsxRuntimeExports.jsx("img",{src:re(ge.avatar_url),alt:"Avatar",className:"w-10 h-10 object-cover rounded-full"}):jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:""})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",title:"Edit",onClick:()=>ie(ge),children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"destructive",size:"icon",title:"Delete",disabled:K===ge.id,onClick:()=>Ee(ge.id),children:K===ge.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},ge.id??Math.random()))})]})})]})]})})},headingKey="client_logos_heading",fetchClientLogos=async()=>{const{data:R,error:w}=await supabase.from("client_logos").select("*").order("created_at",{ascending:!1});if(w)throw w;return R||[]},fetchHeading=async()=>{const{data:R,error:w}=await supabase.from("settings").select("value").eq("key",headingKey).single();if(w&&w.code!=="PGRST116")throw w;return(R==null?void 0:R.value)??"You'll be in good company"},setHeading=async R=>{const{error:w}=await supabase.from("settings").upsert([{key:headingKey,value:R,description:"Client logos section heading"}],{onConflict:"key"});if(w)throw w},createLogo=async({name:R,logo_url:w,website_url:_})=>{const{error:A}=await supabase.from("client_logos").insert([{name:R,logo_url:w,website_url:_}]);if(A)throw A},updateLogo=async({id:R,name:w,logo_url:_,website_url:A})=>{const{error:$}=await supabase.from("client_logos").update({name:w,logo_url:_,website_url:A}).eq("id",R);if($)throw $},deleteLogo=async R=>{const{error:w}=await supabase.from("client_logos").delete().eq("id",R);if(w)throw w},ClientLogosManager=()=>{const{toast:R}=useToast(),w=useQueryClient(),{data:_,refetch:A}=useQuery({queryKey:["client_logos_heading"],queryFn:fetchHeading}),[$,O]=reactExports.useState(""),[B,q]=reactExports.useState(!1),{data:H,isLoading:W}=useQuery({queryKey:["client_logos"],queryFn:fetchClientLogos}),[V,K]=reactExports.useState({id:"",name:"",logo_url:"",website_url:""}),[Y,re]=reactExports.useState(null),Q=useMutation({mutationFn:createLogo,onSuccess:()=>{w.invalidateQueries({queryKey:["client_logos"]}),K({id:"",name:"",logo_url:"",website_url:""}),R({title:"Logo added!"})}}),ie=useMutation({mutationFn:updateLogo,onSuccess:()=>{w.invalidateQueries({queryKey:["client_logos"]}),K({id:"",name:"",logo_url:"",website_url:""}),re(null),R({title:"Logo updated!"})}}),J=useMutation({mutationFn:deleteLogo,onSuccess:()=>{w.invalidateQueries({queryKey:["client_logos"]}),R({title:"Logo deleted!"})}}),ce=useMutation({mutationFn:setHeading,onSuccess:()=>{A(),q(!1),R({title:"Section heading updated!"})}}),ue=le=>{K({id:le.id,name:le.name,logo_url:le.logo_url,website_url:le.website_url||""}),re(le.id)},Ee=()=>{K({id:"",name:"",logo_url:"",website_url:""}),re(null)},ge=le=>{le.preventDefault(),Y?ie.mutate({id:Y,name:V.name,logo_url:V.logo_url,website_url:V.website_url}):Q.mutate({name:V.name,logo_url:V.logo_url,website_url:V.website_url})};return React.useEffect(()=>{O(_??"")},[_]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Client Logos Section"}),jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Section Heading"})}),jsxRuntimeExports.jsx(CardContent,{children:B?jsxRuntimeExports.jsxs("form",{onSubmit:le=>{le.preventDefault(),ce.mutate($)},className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:$,onChange:le=>O(le.target.value),className:"max-w-md",required:!0}),jsxRuntimeExports.jsx(Button,{type:"submit",children:"Save"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>{q(!1),O(_??"")},children:"Cancel"})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:_??"You'll be in good company"}),jsxRuntimeExports.jsx(Button,{variant:"link",onClick:()=>q(!0),children:"Edit"})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:Y?"Edit Logo":"Add New Logo"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:ge,className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),jsxRuntimeExports.jsx(Input,{value:V.name,onChange:le=>K({...V,name:le.target.value}),required:!0,placeholder:"Client name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Logo URL"}),jsxRuntimeExports.jsx(Input,{value:V.logo_url,onChange:le=>K({...V,logo_url:le.target.value}),required:!0,placeholder:"https://..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Website URL (optional)"}),jsxRuntimeExports.jsx(Input,{value:V.website_url,onChange:le=>K({...V,website_url:le.target.value}),placeholder:"https://..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-4",children:[jsxRuntimeExports.jsx(Button,{type:"submit",children:Y?"Update":"Add"}),Y&&jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:Ee,children:"Cancel"})]})]})})]}),jsxRuntimeExports.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"All Logos"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto rounded-md bg-white shadow mb-8",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableCaption,{children:W?"Loading client logos...":H&&H.length===0?"No client logos found.":null}),jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{className:"w-[60px]",children:"Logo"}),jsxRuntimeExports.jsx(TableHead,{children:"Name"}),jsxRuntimeExports.jsx(TableHead,{children:"Website"}),jsxRuntimeExports.jsx(TableHead,{className:"w-[140px] text-right",children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:W?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:4,className:"text-center",children:"Loading..."})}):H&&H.length>0?H.map(le=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("img",{src:le.logo_url,alt:le.name,className:"h-10 w-auto max-w-[64px] rounded bg-gray-100 border"})}),jsxRuntimeExports.jsx(TableCell,{className:"text-base font-semibold",children:le.name}),jsxRuntimeExports.jsx(TableCell,{children:le.website_url?jsxRuntimeExports.jsx("a",{href:le.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-insightRed underline break-all",children:le.website_url}):jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-sm",children:""})}),jsxRuntimeExports.jsxs(TableCell,{className:"flex gap-2 items-center justify-end",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>ue(le),children:"Edit"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"destructive",onClick:()=>J.mutate(le.id),children:"Delete"})]})]},le.id)):jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:4,className:"text-center text-gray-500",children:"No client logos found."})})})]})})]})},AdminDashboard=()=>{const{data:R,isLoading:w}=useDashboardStats();return jsxRuntimeExports.jsx("div",{className:"min-h-screen py-12 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-insightBlack",children:"Admin Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your content and website settings"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Articles"}),jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:(R==null?void 0:R.articles)||0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Published articles"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Magazines"}),jsxRuntimeExports.jsx(BookOpen,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:(R==null?void 0:R.magazines)||0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Published magazines"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Leadership Profiles"}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:(R==null?void 0:R.leadership)||0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Featured leaders"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Press Releases"}),jsxRuntimeExports.jsx(Megaphone,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:(R==null?void 0:R.pressReleases)||0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Published releases"})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"articles",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-8",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"articles",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),"Articles"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"magazines",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-4 w-4"}),"Magazines"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"leadership",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),"Leadership"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"press-releases",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Megaphone,{className:"h-4 w-4"}),"Press Releases"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"testimonials",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),"Testimonials"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"client-logos",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4"}),"Client Logos"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"documentation",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),"Docs"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"settings",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4"}),"Settings"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"articles",className:"space-y-6",children:jsxRuntimeExports.jsx(ArticleManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"magazines",className:"space-y-6",children:jsxRuntimeExports.jsx(MagazineManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"leadership",className:"space-y-6",children:jsxRuntimeExports.jsx(LeaderManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"press-releases",className:"space-y-6",children:jsxRuntimeExports.jsx(PressReleaseManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"testimonials",className:"space-y-6",children:jsxRuntimeExports.jsx(TestimonialManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"client-logos",className:"space-y-6",children:jsxRuntimeExports.jsx(ClientLogosManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"documentation",className:"space-y-6",children:jsxRuntimeExports.jsx(DocumentationManager,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"settings",className:"space-y-6",children:jsxRuntimeExports.jsx(SettingsManager,{})})]})]})})},AnalyticsInjector=()=>{const{settings:R}=useSettings(),w=R.analyticsCode;return reactExports.useEffect(()=>{if(typeof window>"u"||!w)return;const _=document.getElementById("ga-script-1");_&&_.remove();const A=document.getElementById("ga-script-2");if(A&&A.remove(),w){const $=document.createElement("script");$.id="ga-script-1",$.src=`https://www.googletagmanager.com/gtag/js?id=${w}`,$.async=!0,document.head.appendChild($);const O=document.createElement("script");O.id="ga-script-2",O.innerHTML=`
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '${w}');
      `,document.head.appendChild(O)}return()=>{const $=document.getElementById("ga-script-1");$&&$.remove();const O=document.getElementById("ga-script-2");O&&O.remove()}},[w]),null},queryClient=new QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),App=()=>jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster$1,{}),jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(AnalyticsInjector,{}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/admin/*",element:jsxRuntimeExports.jsx(AdminDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/magazine",element:jsxRuntimeExports.jsx(Magazine,{})}),jsxRuntimeExports.jsx(Route,{path:"/magazine/:slug",element:jsxRuntimeExports.jsx(MagazineDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/articles",element:jsxRuntimeExports.jsx(Articles,{})}),jsxRuntimeExports.jsx(Route,{path:"/industry-news",element:jsxRuntimeExports.jsx(IndustryNews,{})}),jsxRuntimeExports.jsx(Route,{path:"/leadership",element:jsxRuntimeExports.jsx(Leadership,{})}),jsxRuntimeExports.jsx(Route,{path:"/leadership/:slug",element:jsxRuntimeExports.jsx(LeadershipProfile,{})}),jsxRuntimeExports.jsx(Route,{path:"/press-releases",element:jsxRuntimeExports.jsx(PressReleases,{})}),jsxRuntimeExports.jsx(Route,{path:"/press-releases/:slug",element:jsxRuntimeExports.jsx(PressReleaseDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/article/:slug",element:jsxRuntimeExports.jsx(ArticleDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/category/:categoryName",element:jsxRuntimeExports.jsx(CategoryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(About,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/documentation",element:jsxRuntimeExports.jsx(Documentation,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})})})]})})]})});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
